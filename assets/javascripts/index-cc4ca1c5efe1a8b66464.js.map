{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///(webpack)/buildin/global.js","webpack:////Users/qinmingyuan/work/engine/rails_com/app/javascript/packs/stimulus_com/checkbox.js","webpack:///./node_modules/sortablejs/modular/sortable.esm.js","webpack:///./node_modules/@rails/activestorage/src/file_checksum.js","webpack:///./node_modules/@rails/activestorage/src/helpers.js","webpack:///./node_modules/@rails/activestorage/src/blob_record.js","webpack:///./node_modules/@rails/activestorage/src/blob_upload.js","webpack:///./node_modules/@rails/activestorage/src/direct_upload.js","webpack:///./node_modules/@rails/activestorage/src/direct_upload_controller.js","webpack:////Users/qinmingyuan/work/engine/rails_com/app/javascript/packs/stimulus_com/picture.js","webpack:////Users/qinmingyuan/work/engine/rails_com/app/javascript/packs/stimulus_com/index.js","webpack:///./node_modules/@rails/ujs/lib/assets/compiled/rails-ujs.js","webpack:///./node_modules/rails_com/package/remote_js_load.js-exposed","webpack:///./node_modules/rails_com/package/remote_js_load.js","webpack:///./node_modules/qinmingyuan_turbolinks/dist/location.js","webpack:///./node_modules/qinmingyuan_turbolinks/dist/util.js","webpack:///./node_modules/qinmingyuan_turbolinks/dist/http_request.js","webpack:///./node_modules/qinmingyuan_turbolinks/dist/progress_bar.js","webpack:///./node_modules/qinmingyuan_turbolinks/dist/browser_adapter.js","webpack:///./node_modules/qinmingyuan_turbolinks/dist/history.js","webpack:///./node_modules/qinmingyuan_turbolinks/dist/scroll_manager.js","webpack:///./node_modules/qinmingyuan_turbolinks/dist/snapshot_cache.js","webpack:///./node_modules/qinmingyuan_turbolinks/dist/renderer.js","webpack:///./node_modules/qinmingyuan_turbolinks/dist/error_renderer.js","webpack:///./node_modules/qinmingyuan_turbolinks/dist/head_details.js","webpack:///./node_modules/qinmingyuan_turbolinks/dist/snapshot.js","webpack:///./node_modules/qinmingyuan_turbolinks/dist/snapshot_renderer.js","webpack:///./node_modules/qinmingyuan_turbolinks/dist/view.js","webpack:///./node_modules/qinmingyuan_turbolinks/dist/visit.js","webpack:///./node_modules/qinmingyuan_turbolinks/dist/script_warning.js","webpack:///./node_modules/qinmingyuan_turbolinks/dist/controller.js","webpack:///./node_modules/qinmingyuan_turbolinks/dist/types.js","webpack:///./node_modules/qinmingyuan_turbolinks/dist/namespace.js","webpack:///./node_modules/qinmingyuan_turbolinks/dist/index.js","webpack:////Users/qinmingyuan/work/engine/rails_com/app/javascript/packs/rails_com/application.js","webpack:////Users/qinmingyuan/work/engine/rails_com/app/javascript/packs/rails_com/index.js","webpack:///(webpack)/buildin/amd-options.js","webpack:////Users/qinmingyuan/work/engine/rails_com/app/javascript/packs/stimulus_com/base.js","webpack:////Users/qinmingyuan/work/engine/rails_com/app/javascript/packs/stimulus_com/input.js","webpack:////Users/qinmingyuan/work/engine/rails_com/app/javascript/packs/stimulus_com/menu.js","webpack:////Users/qinmingyuan/work/engine/rails_com/app/javascript/packs/stimulus_com/navbar.js","webpack:////Users/qinmingyuan/work/engine/rails_com/app/javascript/packs/stimulus_com/sortable.js","webpack:///./node_modules/@stimulus/core/dist/src/event_listener.js","webpack:///./node_modules/@stimulus/core/dist/src/dispatcher.js","webpack:///./node_modules/@stimulus/core/dist/src/action_descriptor.js","webpack:///./node_modules/@stimulus/core/dist/src/action.js","webpack:///./node_modules/@stimulus/core/dist/src/binding.js","webpack:///./node_modules/@stimulus/mutation-observers/dist/src/element_observer.js","webpack:///./node_modules/@stimulus/mutation-observers/dist/src/attribute_observer.js","webpack:///./node_modules/@stimulus/multimap/dist/src/set_operations.js","webpack:///./node_modules/@stimulus/multimap/dist/src/multimap.js","webpack:///./node_modules/@stimulus/multimap/dist/src/indexed_multimap.js","webpack:///./node_modules/@stimulus/mutation-observers/dist/src/token_list_observer.js","webpack:///./node_modules/@stimulus/mutation-observers/dist/src/value_list_observer.js","webpack:///./node_modules/@stimulus/core/dist/src/binding_observer.js","webpack:///./node_modules/@stimulus/core/dist/src/context.js","webpack:///./node_modules/@stimulus/core/dist/src/definition.js","webpack:///./node_modules/@stimulus/core/dist/src/module.js","webpack:///./node_modules/@stimulus/core/dist/src/data_map.js","webpack:///./node_modules/@stimulus/core/dist/src/selectors.js","webpack:///./node_modules/@stimulus/core/dist/src/target_set.js","webpack:///./node_modules/@stimulus/core/dist/src/scope.js","webpack:///./node_modules/@stimulus/core/dist/src/scope_observer.js","webpack:///./node_modules/@stimulus/core/dist/src/router.js","webpack:///./node_modules/@stimulus/core/dist/src/schema.js","webpack:///./node_modules/@stimulus/core/dist/src/application.js","webpack:///./node_modules/@stimulus/core/dist/src/target_properties.js","webpack:///./node_modules/@stimulus/core/dist/src/controller.js","webpack:////Users/qinmingyuan/work/engine/rails_com/app/javascript/packs/stimulus_com/modal.js","webpack:///./node_modules/@rails/ujs/lib/assets/compiled/rails-ujs.js-exposed","webpack:///./node_modules/spark-md5/spark-md5.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","_typeof","obj","iterator","constructor","g","this","Function","e","window","CheckController","console","log","event","link","currentTarget","url","URL","href","added","addedIds","moved","movedIds","length","searchParams","set","ids","addedTargets","forEach","item","push","join","movedTargets","doToggle","element","checkboxes","document","getElementsByName","checkbox","checked","querySelectorAll","changed","defaultChecked","dataset","add_target","remove_target","Controller","targets","application","register","_typeof2","_defineProperty","configurable","writable","_extends","assign","target","arguments","source","apply","_objectSpread","ownKeys","keys","getOwnPropertySymbols","concat","filter","sym","getOwnPropertyDescriptor","_objectWithoutProperties","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","sourceSymbolKeys","propertyIsEnumerable","userAgent","pattern","navigator","match","IE11OrLess","Edge","FireFox","Safari","IOS","ChromeForAndroid","captureMode","capture","passive","on","el","fn","addEventListener","off","removeEventListener","matches","selector","substring","msMatchesSelector","webkitMatchesSelector","_","getParentOrHost","host","nodeType","parentNode","closest","ctx","includeCTX","_throttleTimeout","R_SPACE","toggleClass","state","classList","className","replace","css","prop","val","style","defaultView","getComputedStyle","currentStyle","matrix","selfOnly","appliedTransforms","transform","matrixFn","DOMMatrix","WebKitCSSMatrix","CSSMatrix","MSCSSMatrix","find","tagName","list","getElementsByTagName","getWindowScrollingElement","scrollingElement","documentElement","getRect","relativeToContainingBlock","relativeToNonStaticParent","undoScale","container","getBoundingClientRect","elRect","top","left","bottom","right","height","width","innerHeight","innerWidth","containerRect","parseInt","elMatrix","scaleX","a","scaleY","isScrolledPast","elSide","parentSide","parent","getParentAutoScrollElement","elSideVal","parentSideVal","getChild","childNum","options","currentChild","children","display","Sortable","ghost","dragged","draggable","lastChild","last","lastElementChild","previousElementSibling","index","nodeName","toUpperCase","clone","getRelativeScrollOffset","offsetLeft","offsetTop","winScroller","scrollLeft","scrollTop","includeSelf","elem","gotSelf","clientWidth","scrollWidth","clientHeight","scrollHeight","elemCSS","overflowX","overflowY","body","isRectEqual","rect1","rect2","Math","round","throttle","callback","ms","args","_this","setTimeout","scrollBy","x","y","Polymer","$","jQuery","Zepto","dom","cloneNode","expando","Date","getTime","AnimationStateManager","animationCallbackId","animationStates","captureAnimationState","animation","slice","child","rect","fromRect","thisAnimationDuration","childMatrix","f","addAnimationState","removeAnimationState","splice","arr","Number","indexOfObject","animateAll","clearTimeout","animating","animationTime","time","toRect","prevFromRect","prevToRect","animatingRect","targetMatrix","sqrt","pow","calculateRealTime","animate","max","animationResetTimer","currentRect","duration","translateX","translateY","animatingX","animatingY","offsetWidth","repaint","easing","animated","plugins","defaults","initializeByDefault","PluginManager","mount","plugin","option","pluginEvent","eventName","sortable","evt","eventCanceled","cancel","eventNameGlobal","pluginName","initializePlugins","initialized","modified","modifyOption","getEventProperties","eventProperties","modifiedValue","optionListeners","dispatchEvent","_ref","rootEl","targetEl","cloneEl","toEl","fromEl","oldIndex","newIndex","oldDraggableIndex","newDraggableIndex","originalEvent","putSortable","extraEventProperties","onName","charAt","substr","CustomEvent","createEvent","initEvent","bubbles","cancelable","to","from","pullMode","lastPutMode","undefined","allEventProperties","data","dragEl","parentEl","ghostEl","nextEl","lastDownEl","cloneHidden","dragStarted","activeSortable","active","hideGhostForTarget","_hideGhostForTarget","unhideGhostForTarget","_unhideGhostForTarget","cloneNowHidden","cloneNowShown","dispatchSortableEvent","_dispatchEvent","info","activeGroup","tapEvt","touchEvt","lastDx","lastDy","tapDistanceLeft","tapDistanceTop","lastTarget","lastDirection","targetMoveDistance","ghostRelativeParent","awaitingDragStarted","ignoreNextClick","sortables","pastFirstInvertThresh","isCircumstantialInvert","ghostRelativeParentInitialScroll","_silent","savedInputChecked","documentExists","PositionGhostAbsolutely","CSSFloatProperty","supportDraggable","createElement","supportCssPointerEvents","cssText","pointerEvents","_detectDirection","elCSS","elWidth","paddingLeft","paddingRight","borderLeftWidth","borderRightWidth","child1","child2","firstChildCSS","secondChildCSS","firstChildWidth","marginLeft","marginRight","secondChildWidth","flexDirection","gridTemplateColumns","split","touchingSideChild2","clear","_prepareGroup","toFn","pull","sameGroup","group","otherGroup","originalGroup","checkPull","checkPut","put","revertClone","preventDefault","stopPropagation","stopImmediatePropagation","nearestEmptyInsertDetectEvent","touches","nearest","clientX","clientY","some","threshold","emptyInsertThreshold","insideHorizontally","insideVertically","ret","_onDragOver","_checkOutsideTargetEl","_isOutsideThisEl","toString","sort","disabled","store","handle","test","swapThreshold","invertSwap","invertedSwapThreshold","removeCloneOnHide","direction","ghostClass","chosenClass","dragClass","ignore","preventOnFilter","setData","dataTransfer","textContent","dropBubble","dragoverBubble","dataIdAttr","delay","delayOnTouchOnly","touchStartThreshold","devicePixelRatio","forceFallback","fallbackClass","fallbackOnBody","fallbackTolerance","fallbackOffset","supportPointer","nativeDraggable","_onTapStart","_onMove","dragRect","targetRect","willInsertAfter","retVal","onMoveFn","onMove","draggedRect","related","relatedRect","_disableDraggable","_unsilent","_generateId","str","src","sum","charCodeAt","_nextTick","_cancelNextTick","id","contains","_getDirection","type","touch","pointerType","originalTarget","shadowRoot","path","composedPath","root","inputs","idx","_saveInputCheckedState","button","isContentEditable","criteria","trim","_prepareDragStart","dragStartFn","ownerDocument","nextSibling","_lastX","_lastY","_onDrop","_disableDelayedDragEvents","_triggerDragStart","_disableDelayedDrag","_delayedDragTouchMoveHandler","_dragStartTimer","abs","floor","_onTouchMove","_onDragStart","selection","empty","getSelection","removeAllRanges","err","_dragStarted","fallback","_appendGhost","_nulling","_emulateDragOver","elementFromPoint","ghostMatrix","relativeScrollOffset","dx","dy","b","cssMatrix","appendChild","_hideClone","cloneId","insertBefore","_loopId","setInterval","effectAllowed","_dragStartId","revert","vertical","isOwner","canSort","fromSortable","completedFired","dragOverEvent","_ignoreWhileAnimating","completed","elLastChild","_ghostIsLast","targetBeforeFirstSwap","sibling","differentLevel","differentRowCol","dragElS1Opp","dragElS2Opp","dragElOppLength","targetS1Opp","targetS2Opp","targetOppLength","_dragElInRowColumn","side1","scrolledPastTop","scrollBefore","isLastTarget","mouseOnAxis","targetLength","targetS1","targetS2","invert","_getInsertDirection","_getSwapDirection","dragIndex","nextElementSibling","after","moveVector","extra","axis","insertion","_showClone","_offMoveEvents","_offUpEvents","clearInterval","removeChild","save","handleEvent","dropEffect","_globalDragOver","toArray","order","getAttribute","items","destroy","Array","removeAttribute","utils","is","extend","dst","nextTick","cancelNextTick","detectDirection","_len","_key","version","scrollEl","scrollRootEl","lastAutoScrollX","lastAutoScrollY","touchEvt$1","pointerElemChangedInterval","autoScrolls","scrolling","clearAutoScrolls","autoScroll","pid","clearPointerElemChangedInterval","isFallback","scroll","scrollCustomFn","sens","scrollSensitivity","speed","scrollSpeed","scrollThisInstance","scrollFn","layersOut","currentParent","canScrollX","canScrollY","scrollPosX","scrollPosY","vx","vy","layer","scrollOffsetY","scrollOffsetX","bubbleScroll","drop","toSortable","changedTouches","onSpill","Revert","Remove","startIndex","dragStart","_ref2","_ref3","_ref4","parentSortable","AutoScroll","_handleAutoScroll","_handleFallbackAutoScroll","dragOverCompleted","dragOverBubble","nulling","ogElemScroller","newElem","_defineProperties","props","descriptor","_createClass","Constructor","protoProps","staticProps","fileSlice","File","mozSlice","webkitSlice","FileChecksum","file","instance","TypeError","_classCallCheck","chunkSize","chunkCount","ceil","size","chunkIndex","md5Buffer","ArrayBuffer","fileReader","FileReader","fileReaderDidLoad","fileReaderDidError","readNextChunk","append","result","binaryDigest","end","base64digest","btoa","start","min","bytes","readAsArrayBuffer","getMetaValue","querySelector","findElement","head","eventInit","detail","BlobRecord","checksum","attributes","filename","content_type","byte_size","xhr","XMLHttpRequest","open","responseType","setRequestHeader","csrfToken","requestDidLoad","requestDidError","send","JSON","stringify","blob","status","response","direct_upload","directUploadData","toJSON","_this$xhr","parse","BlobUpload","_blob$directUploadDat","headers","DirectUpload","delegate","error","notify","upload","methodName","messages","DirectUploadController","input","directUpload","dispatch","hiddenInput","insertAdjacentElement","dispatchError","signed_id","progress","loaded","total","defaultPrevented","alert","_this2","uploadRequestDidProgress","PictureController","form","files","filenameTarget","innerText","previewFile","controller","clipboardData","template","previewTarget","cloned","img","createObjectURL","onload","revokeObjectURL","up","uploadDivTarget","Rails","linkClickSelector","buttonClickSelector","exclude","inputChangeSelector","formSubmitSelector","formInputClickSelector","formDisableSelector","formEnableSelector","fileInputSelector","linkDisableSelector","buttonDisableSelector","nonce","loadCSPNonce","ref","content","cspNonce","Element","matchesSelector","mozMatchesSelector","oMatchesSelector","getData","csrfParam","meta","CSRFProtection","token","refreshCSRFTokens","param","fire","params","initCustomEvent","Event","stopEverything","eventType","handler","AcceptHeaders","createXHR","prepareOptions","processResponse","text","html","xml","json","script","ajax","responseText","getResponseHeader","success","statusText","complete","beforeSend","readyState","OPENED","location","dataType","accept","done","crossDomain","withCredentials","onreadystatechange","DONE","parser","setAttribute","DOMParser","parseFromString","isCrossDomain","originAnchor","urlAnchor","protocol","serializeElement","additionalParam","elements","selected","map","encodeURIComponent","formElements","allowAction","handleConfirm","confirm","message","answer","disableFormElement","disableFormElements","disableLinkElement","enableFormElement","enableFormElements","enableLinkElement","isXhrRedirect","handleDisabledElement","enableElement","disableElement","replacement","innerHTML","originalText","handleMethod","formContent","method","action","click","isRemote","handleRemote","enctype","FormData","formSubmitButtonClick","formNoValidate","preventInsignificantClick","insignificantMetaClick","metaKey","ctrlKey","rails","Error","ajaxPrefilter","originalOptions","_rails_loaded","remote_js_load","paths","isArray","Location","linkWithAnchor","absoluteURL","anchorLength","hash","requestURL","anchor","wrap","locatable","getOrigin","getPath","getPathComponents","getLastPathComponent","getExtension","isHTML","isPrefixedBy","string","prefix","prefixURL","suffix","getPrefixURL","isEqualTo","toCacheKey","valueOf","array","values","parentElement","defer","_a","_b","preventDefaultSupported","preventDefault_1","SystemStatusCode","unindent","strings","_i","lines","trimLeft","interpolate","indent","line","reduce","uuid","random","HttpRequest","referrer","failed","sent","requestProgressed","lengthComputable","setProgress","requestLoaded","endRequest","contentType","contentTypeIsHTML","redirectedToLocation","requestCompletedWithResponse","requestFailedWithStatusCode","contentTypeMismatch","requestFailed","networkFailure","requestTimedOut","timeoutFailure","requestCanceled","notifyApplicationBeforeRequestStart","requestStarted","abort","notifyApplicationAfterRequestEnd","timeout","onprogress","onerror","ontimeout","onabort","requestFinished","templateObject_1","__makeTemplateObject","cooked","raw","ProgressBar","stylesheetElement","createStylesheetElement","progressElement","createProgressElement","hiding","visible","trickle","setValue","animationDuration","show","installStylesheetElement","installProgressElement","startTrickling","hide","fadeProgressElement","uninstallProgressElement","stopTrickling","refresh","firstChild","opacity","trickleInterval","requestAnimationFrame","defaultCSS","BrowserAdapter","progressBar","showProgressBar","visitProposedToLocationWithAction","restorationIdentifier","startVisitToLocationWithAction","visitStarted","visit","issueRequest","changeHistory","loadCachedSnapshot","visitRequestStarted","hasCachedSnapshot","showProgressBarAfterDelay","visitRequestProgressed","visitRequestCompleted","loadResponse","visitRequestFailedWithStatusCode","statusCode","reload","visitRequestFinished","hideProgressBar","visitCompleted","followRedirect","pageInvalidated","visitFailed","visitRendered","progressBarTimeout","progressBarDelay","History","started","pageLoaded","onPopState","shouldHandlePopState","turbolinks","currentLocation","historyPoppedToLocationWithRestorationIdentifier","onPageLoad","stop","update","history","pushState","replaceState","pageIsLoaded","ScrollManager","onScroll","updatePosition","pageXOffset","pageYOffset","scrollToElement","scrollIntoView","scrollToPosition","scrollTo","position","scrollPositionChanged","SnapshotCache","snapshots","has","snapshot","read","write","unshift","Renderer","renderView","viewWillRender","newBody","viewRendered","invalidateView","viewInvalidated","createScriptElement","createdScriptElement","async","destinationElement","sourceElement","name_1","copyElementAttributes","_extendStatics","__extends","setPrototypeOf","__proto__","__","_super","ErrorRenderer","htmlElement","newHead","render","replaceHeadAndBody","activateBodyScriptElements","replaceChild","getScriptElements","replaceableElement","__assign","HeadDetails","detailsByOuterHTML","outerHTML","details","elementType","tracked","elementIsTracked","fromHeadElement","headElement","getTrackedElementSignature","getScriptElementsNotInDetails","headDetails","getElementsMatchingTypeNotInDetails","getStylesheetElementsNotInDetails","matchedType","getProvisionalElements","findMetaElementByName","toLowerCase","elementIsMetaElementWithName","elementIsScript","elementIsStylesheet","Snapshot","bodyElement","fromHTMLString","fromHTMLElement","getRootLocation","getSetting","getCacheControlValue","getElementForAnchor","getPermanentElements","getPermanentElementById","getPermanentElementsPresentInSnapshot","findFirstAutofocusableElement","hasAnchor","isPreviewable","isCacheable","isVisitable","defaultValue","SnapshotRenderer","currentSnapshot","newSnapshot","isPreview","currentHeadDetails","newHeadDetails","shouldRender","mergeHead","replaceBody","focusFirstAutofocusableElement","copyNewHeadStylesheetElements","copyNewHeadScriptElements","removeCurrentHeadProvisionalElements","copyNewHeadProvisionalElements","placeholders","relocateCurrentBodyPermanentElements","activateNewBodyScriptElements","assignNewBody","replacePlaceholderElementsWithClonedPermanentElements","trackedElementsAreIdentical","getNewHeadStylesheetElements","getNewHeadScriptElements","getCurrentHeadProvisionalElements","getNewHeadProvisionalElements","getCurrentBodyPermanentElements","permanentElement","newElement","placeholder","createPlaceholderForPermanentElement","replaceElementWithElement","placeholders_1","getNewBodyScriptElements","inertScriptElement","focus","elementIsFocusable","fromElement","toElement","TimingMetric","VisitState","View","getSnapshot","markAsPreview","renderSnapshot","renderError","Visit","identifier","timingMetrics","followedRedirect","historyChanged","scrolled","snapshotCached","performScroll","scrollToRestoredPosition","scrollToTop","scrollToAnchor","adapter","recordTimingMetric","visitStart","request","cancelRender","canceled","visitEnd","fail","actionForHistory","getHistoryMethodForAction","shouldIssueRequest","getCachedSnapshot","getCachedSnapshotForLocation","isPreview_1","cacheSnapshot","replaceHistoryWithLocationAndRestorationIdentifier","requestStart","requestEnd","restorationData","scrollPosition","metric","getTimingMetrics","pushHistoryWithLocationAndRestorationIdentifier","frame","cancelAnimationFrame","scrollManager","view","cache","enabled","lastRenderedLocation","notifyApplicationAfterPageLoad","clickCaptured","clickBubbled","clickEventIsSignificant","getVisitableLinkForTarget","location_1","getVisitableLocationForLink","applicationAllowsFollowingLinkToLocation","getActionForLink","supported","startHistory","disable","stopHistory","clearCache","applicationAllowsVisitingLocation","locationIsVisitable","getRestorationDataForIdentifier","startVisit","setProgressBarDelay","shouldCacheSnapshot","notifyApplicationBeforeCachingSnapshot","snapshot_1","location_2","getCurrentRestorationData","notifyApplicationBeforeRender","currentVisit","notifyApplicationAfterRender","notifyApplicationAfterClickingLinkToLocation","notifyApplicationBeforeVisitingLocation","notifyApplicationAfterVisitingLocation","timing","properties","createVisit","which","altKey","shiftKey","elementIsVisitable","isAction","currentScript","hasAttribute","warn","Turbolinks","namespace","define","timeForLocalized","format","moment","utc","local","offset","getTimezoneOffset","__webpack_amd_options__","Application","DOMStringMap","add_controller","controller_name","target_name","includes","InputController","remove","MenuController","toggle","NavbarController","menuTarget","SortableController","onEnd","EventListener","eventTarget","unorderedBindings","Set","connect","disconnect","bindingConnected","binding","add","bindingDisconnected","extendedEvent","stopImmediatePropagation_1","immediatePropagationStopped","extendEvent","bindings","leftIndex","rightIndex","Dispatcher","eventListenerMaps","Map","eventListeners","eventListener","listeners","fetchEventListenerForBinding","handleError","fetchEventListener","eventListenerMap","fetchEventListenerMapForEventTarget","createEventListener","descriptorPattern","Action","defaultEventNames","getDefaultEventNameForElement","forToken","descriptorString","eventTargetName","eventNameSuffix","Binding","context","willBeInvokedByEvent","invokeWithEvent","scope","containsElement","ElementObserver","mutationObserver","MutationObserver","mutations","processMutations","observe","childList","subtree","takeRecords","matchElementsInTree","removeElement","_c","addElement","mutations_1","mutation","processMutation","processAttributeChange","attributeName","processRemovedNodes","removedNodes","processAddedNodes","addedNodes","node","elementAttributeChanged","matchElement","nodes","elementFromNode","processTree","elementIsActive","tree","processor","Node","ELEMENT_NODE","isConnected","elementMatched","elementUnmatched","AttributeObserver","elementObserver","elementMatchedAttribute","elementUnmatchedAttribute","elementAttributeValueChanged","fetch","del","prune","extendStatics","Multimap","valuesByKey","hasKey","hasValue","getValuesForKey","getKeysForValue","IndexedMultimap","keysByValue","TokenListObserver","attributeObserver","tokensByElement","tokensMatched","readTokensForElement","refreshTokensForElement","unmatchedTokens","matchedTokens","tokensUnmatched","tokens","tokenMatched","tokenUnmatched","previousTokens","currentTokens","firstDifferingIndex","findIndex","tokensAreEqual","tokenString","parseTokenString","ValueListObserver","tokenListObserver","parseResultsByToken","WeakMap","valuesByTokenByElement","fetchParseResultForToken","fetchValuesByTokenForElement","elementMatchedValue","elementUnmatchedValue","parseResult","parseToken","valuesByToken","parseValueForToken","BindingObserver","bindingsByAction","valueListObserver","actionAttribute","disconnectAllActions","schema","connectAction","disconnectAction","Context","controllerConstructor","bindingObserver","dispatcher","initialize","blessControllerConstructor","bless","extendWithReflect","_newTarget","Reflect","construct","Module","definition","blessDefinition","contextsByScope","connectedContexts","connectContextForScope","fetchContextForScope","disconnectContextForScope","DataMap","getFormattedKey","_char","attributeValueContainsToken","TargetSet","targetName","targetNames","getSelectorForTargetNames","findAll","findAllElements","getSelectorForTargetName","targetDescriptor","targetAttribute","Scope","tail","filterElements","controllerSelector","controllerAttribute","ScopeObserver","scopesByIdentifierByElement","scopeReferenceCounts","scopesByIdentifier","fetchScopesByIdentifierForElement","referenceCount","scopeConnected","scopeDisconnected","Router","scopeObserver","modulesByIdentifier","contexts","loadDefinition","unloadIdentifier","connectModule","disconnectModule","getContextForElementAndIdentifier","defaultSchema","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","rejected","then","__generator","label","trys","ops","verb","v","op","pop","router","load","rest","definitions","unload","identifiers","getControllerForElementAndIdentifier","defineTargetProperties","ancestors","getPrototypeOf","getAncestorsForConstructor","getOwnTargetNamesForConstructor","getTargetNamesForConstructor","capitalize","ModalController","factory","hex_chr","md5cycle","k","md5blk","md5blks","md5blk_array","md51","tmp","lo","hi","rhex","j","hex","toUtf8","unescape","hexToBinaryString","String","fromCharCode","SparkMD5","reset","clamp","num","targetArray","sourceArray","byteLength","begin","Uint8Array","appendBinary","contents","_buff","_length","_hash","buff","_finish","getState","setState","hashBinary","first","second","returnUInt8Array","buffer","subarray","utf8Str2ArrayBuffer","md51_array"],"mappings":"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","file":"js/rails_com/index-cc4ca1c5efe1a8b66464.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"//static.one.work/packs/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 174);\n","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nvar g; // This works in non-strict mode\n\ng = function () {\n  return this;\n}();\n\ntry {\n  // This works if eval is allowed (see CSP)\n  g = g || new Function(\"return this\")();\n} catch (e) {\n  // This works if the window reference is available\n  if ((typeof window === \"undefined\" ? \"undefined\" : _typeof(window)) === \"object\") g = window;\n} // g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\n\nmodule.exports = g;","import { Controller } from 'stimulus'\n\n// data-controller=\"check\"\nclass CheckController extends Controller {\n  static targets = ['added', 'moved']\n\n  connect() {\n    console.log('Check Controller works!')\n  }\n\n  applyFor(event) {\n    let link = event.currentTarget\n    let url = new URL(link.href)\n    let added = this.addedIds()\n    let moved = this.movedIds()\n    if (added.length > 0) {\n      url.searchParams.set('add_ids', added)\n    }\n    if (moved.length > 0) {\n      url.searchParams.set('remove_ids', added)\n    }\n\n    link.href = url\n  }\n\n  addedIds() {\n    let ids = []\n    this.addedTargets.forEach(item => {\n      ids.push(item.value)\n    })\n    return ids.join(',')\n  }\n\n  movedIds() {\n    let ids = []\n    this.movedTargets.forEach(item => {\n      ids.push(item.value)\n    })\n    return ids.join(',')\n  }\n\n  // data-action=\"check#toggle\"\n  toggle(event) {\n    this.doToggle(event.currentTarget)\n  }\n\n  // data-action=\"check#toggleAll\"\n  // value: 'xx'\n  toggleAll(event) {\n    let element = event.currentTarget\n    let checkboxes = document.getElementsByName(element.value)\n\n    for (let checkbox of checkboxes) {\n      checkbox.checked = element.checked\n      this.doToggle(checkbox)\n    }\n  }\n\n  toggleAllName(event) {\n    let element = event.currentTarget\n    let checkboxes = document.querySelectorAll(`input[data-name='${element.value}']`)\n\n    for (let checkbox of checkboxes) {\n      checkbox.checked = element.checked\n      this.doToggle(checkbox)\n    }\n  }\n\n  doToggle(checkbox) {\n    let changed = checkbox.checked !== checkbox.defaultChecked\n\n    if (changed && checkbox.checked) {\n      checkbox.dataset.add_target('check.added')\n    } else if (changed && !checkbox.checked) {\n      checkbox.dataset.add_target('check.moved')\n    } else {\n      checkbox.dataset.remove_target('check.added')\n      checkbox.dataset.remove_target('check.moved')\n    }\n  }\n}\n\napplication.register('check', CheckController)\n","function _typeof2(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof2 = function _typeof2(obj) { return typeof obj; }; } else { _typeof2 = function _typeof2(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof2(obj); }\n\n/**!\n * Sortable 1.10.2\n * @author\tRubaXa   <trash@rubaxa.org>\n * @author\towenm    <owen23355@gmail.com>\n * @license MIT\n */\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && _typeof2(Symbol.iterator) === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return _typeof2(obj);\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : _typeof2(obj);\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n\nfunction _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nvar version = \"1.10.2\";\n\nfunction userAgent(pattern) {\n  if (typeof window !== 'undefined' && window.navigator) {\n    return !! /*@__PURE__*/navigator.userAgent.match(pattern);\n  }\n}\n\nvar IE11OrLess = userAgent(/(?:Trident.*rv[ :]?11\\.|msie|iemobile|Windows Phone)/i);\nvar Edge = userAgent(/Edge/i);\nvar FireFox = userAgent(/firefox/i);\nvar Safari = userAgent(/safari/i) && !userAgent(/chrome/i) && !userAgent(/android/i);\nvar IOS = userAgent(/iP(ad|od|hone)/i);\nvar ChromeForAndroid = userAgent(/chrome/i) && userAgent(/android/i);\nvar captureMode = {\n  capture: false,\n  passive: false\n};\n\nfunction on(el, event, fn) {\n  el.addEventListener(event, fn, !IE11OrLess && captureMode);\n}\n\nfunction off(el, event, fn) {\n  el.removeEventListener(event, fn, !IE11OrLess && captureMode);\n}\n\nfunction matches(\n/**HTMLElement*/\nel,\n/**String*/\nselector) {\n  if (!selector) return;\n  selector[0] === '>' && (selector = selector.substring(1));\n\n  if (el) {\n    try {\n      if (el.matches) {\n        return el.matches(selector);\n      } else if (el.msMatchesSelector) {\n        return el.msMatchesSelector(selector);\n      } else if (el.webkitMatchesSelector) {\n        return el.webkitMatchesSelector(selector);\n      }\n    } catch (_) {\n      return false;\n    }\n  }\n\n  return false;\n}\n\nfunction getParentOrHost(el) {\n  return el.host && el !== document && el.host.nodeType ? el.host : el.parentNode;\n}\n\nfunction closest(\n/**HTMLElement*/\nel,\n/**String*/\nselector,\n/**HTMLElement*/\nctx, includeCTX) {\n  if (el) {\n    ctx = ctx || document;\n\n    do {\n      if (selector != null && (selector[0] === '>' ? el.parentNode === ctx && matches(el, selector) : matches(el, selector)) || includeCTX && el === ctx) {\n        return el;\n      }\n\n      if (el === ctx) break;\n      /* jshint boss:true */\n    } while (el = getParentOrHost(el));\n  }\n\n  return null;\n}\n\nvar R_SPACE = /\\s+/g;\n\nfunction toggleClass(el, name, state) {\n  if (el && name) {\n    if (el.classList) {\n      el.classList[state ? 'add' : 'remove'](name);\n    } else {\n      var className = (' ' + el.className + ' ').replace(R_SPACE, ' ').replace(' ' + name + ' ', ' ');\n      el.className = (className + (state ? ' ' + name : '')).replace(R_SPACE, ' ');\n    }\n  }\n}\n\nfunction css(el, prop, val) {\n  var style = el && el.style;\n\n  if (style) {\n    if (val === void 0) {\n      if (document.defaultView && document.defaultView.getComputedStyle) {\n        val = document.defaultView.getComputedStyle(el, '');\n      } else if (el.currentStyle) {\n        val = el.currentStyle;\n      }\n\n      return prop === void 0 ? val : val[prop];\n    } else {\n      if (!(prop in style) && prop.indexOf('webkit') === -1) {\n        prop = '-webkit-' + prop;\n      }\n\n      style[prop] = val + (typeof val === 'string' ? '' : 'px');\n    }\n  }\n}\n\nfunction matrix(el, selfOnly) {\n  var appliedTransforms = '';\n\n  if (typeof el === 'string') {\n    appliedTransforms = el;\n  } else {\n    do {\n      var transform = css(el, 'transform');\n\n      if (transform && transform !== 'none') {\n        appliedTransforms = transform + ' ' + appliedTransforms;\n      }\n      /* jshint boss:true */\n\n    } while (!selfOnly && (el = el.parentNode));\n  }\n\n  var matrixFn = window.DOMMatrix || window.WebKitCSSMatrix || window.CSSMatrix || window.MSCSSMatrix;\n  /*jshint -W056 */\n\n  return matrixFn && new matrixFn(appliedTransforms);\n}\n\nfunction find(ctx, tagName, iterator) {\n  if (ctx) {\n    var list = ctx.getElementsByTagName(tagName),\n        i = 0,\n        n = list.length;\n\n    if (iterator) {\n      for (; i < n; i++) {\n        iterator(list[i], i);\n      }\n    }\n\n    return list;\n  }\n\n  return [];\n}\n\nfunction getWindowScrollingElement() {\n  var scrollingElement = document.scrollingElement;\n\n  if (scrollingElement) {\n    return scrollingElement;\n  } else {\n    return document.documentElement;\n  }\n}\n/**\r\n * Returns the \"bounding client rect\" of given element\r\n * @param  {HTMLElement} el                       The element whose boundingClientRect is wanted\r\n * @param  {[Boolean]} relativeToContainingBlock  Whether the rect should be relative to the containing block of (including) the container\r\n * @param  {[Boolean]} relativeToNonStaticParent  Whether the rect should be relative to the relative parent of (including) the contaienr\r\n * @param  {[Boolean]} undoScale                  Whether the container's scale() should be undone\r\n * @param  {[HTMLElement]} container              The parent the element will be placed in\r\n * @return {Object}                               The boundingClientRect of el, with specified adjustments\r\n */\n\n\nfunction getRect(el, relativeToContainingBlock, relativeToNonStaticParent, undoScale, container) {\n  if (!el.getBoundingClientRect && el !== window) return;\n  var elRect, top, left, bottom, right, height, width;\n\n  if (el !== window && el !== getWindowScrollingElement()) {\n    elRect = el.getBoundingClientRect();\n    top = elRect.top;\n    left = elRect.left;\n    bottom = elRect.bottom;\n    right = elRect.right;\n    height = elRect.height;\n    width = elRect.width;\n  } else {\n    top = 0;\n    left = 0;\n    bottom = window.innerHeight;\n    right = window.innerWidth;\n    height = window.innerHeight;\n    width = window.innerWidth;\n  }\n\n  if ((relativeToContainingBlock || relativeToNonStaticParent) && el !== window) {\n    // Adjust for translate()\n    container = container || el.parentNode; // solves #1123 (see: https://stackoverflow.com/a/37953806/6088312)\n    // Not needed on <= IE11\n\n    if (!IE11OrLess) {\n      do {\n        if (container && container.getBoundingClientRect && (css(container, 'transform') !== 'none' || relativeToNonStaticParent && css(container, 'position') !== 'static')) {\n          var containerRect = container.getBoundingClientRect(); // Set relative to edges of padding box of container\n\n          top -= containerRect.top + parseInt(css(container, 'border-top-width'));\n          left -= containerRect.left + parseInt(css(container, 'border-left-width'));\n          bottom = top + elRect.height;\n          right = left + elRect.width;\n          break;\n        }\n        /* jshint boss:true */\n\n      } while (container = container.parentNode);\n    }\n  }\n\n  if (undoScale && el !== window) {\n    // Adjust for scale()\n    var elMatrix = matrix(container || el),\n        scaleX = elMatrix && elMatrix.a,\n        scaleY = elMatrix && elMatrix.d;\n\n    if (elMatrix) {\n      top /= scaleY;\n      left /= scaleX;\n      width /= scaleX;\n      height /= scaleY;\n      bottom = top + height;\n      right = left + width;\n    }\n  }\n\n  return {\n    top: top,\n    left: left,\n    bottom: bottom,\n    right: right,\n    width: width,\n    height: height\n  };\n}\n/**\r\n * Checks if a side of an element is scrolled past a side of its parents\r\n * @param  {HTMLElement}  el           The element who's side being scrolled out of view is in question\r\n * @param  {String}       elSide       Side of the element in question ('top', 'left', 'right', 'bottom')\r\n * @param  {String}       parentSide   Side of the parent in question ('top', 'left', 'right', 'bottom')\r\n * @return {HTMLElement}               The parent scroll element that the el's side is scrolled past, or null if there is no such element\r\n */\n\n\nfunction isScrolledPast(el, elSide, parentSide) {\n  var parent = getParentAutoScrollElement(el, true),\n      elSideVal = getRect(el)[elSide];\n  /* jshint boss:true */\n\n  while (parent) {\n    var parentSideVal = getRect(parent)[parentSide],\n        visible = void 0;\n\n    if (parentSide === 'top' || parentSide === 'left') {\n      visible = elSideVal >= parentSideVal;\n    } else {\n      visible = elSideVal <= parentSideVal;\n    }\n\n    if (!visible) return parent;\n    if (parent === getWindowScrollingElement()) break;\n    parent = getParentAutoScrollElement(parent, false);\n  }\n\n  return false;\n}\n/**\r\n * Gets nth child of el, ignoring hidden children, sortable's elements (does not ignore clone if it's visible)\r\n * and non-draggable elements\r\n * @param  {HTMLElement} el       The parent element\r\n * @param  {Number} childNum      The index of the child\r\n * @param  {Object} options       Parent Sortable's options\r\n * @return {HTMLElement}          The child at index childNum, or null if not found\r\n */\n\n\nfunction getChild(el, childNum, options) {\n  var currentChild = 0,\n      i = 0,\n      children = el.children;\n\n  while (i < children.length) {\n    if (children[i].style.display !== 'none' && children[i] !== Sortable.ghost && children[i] !== Sortable.dragged && closest(children[i], options.draggable, el, false)) {\n      if (currentChild === childNum) {\n        return children[i];\n      }\n\n      currentChild++;\n    }\n\n    i++;\n  }\n\n  return null;\n}\n/**\r\n * Gets the last child in the el, ignoring ghostEl or invisible elements (clones)\r\n * @param  {HTMLElement} el       Parent element\r\n * @param  {selector} selector    Any other elements that should be ignored\r\n * @return {HTMLElement}          The last child, ignoring ghostEl\r\n */\n\n\nfunction lastChild(el, selector) {\n  var last = el.lastElementChild;\n\n  while (last && (last === Sortable.ghost || css(last, 'display') === 'none' || selector && !matches(last, selector))) {\n    last = last.previousElementSibling;\n  }\n\n  return last || null;\n}\n/**\r\n * Returns the index of an element within its parent for a selected set of\r\n * elements\r\n * @param  {HTMLElement} el\r\n * @param  {selector} selector\r\n * @return {number}\r\n */\n\n\nfunction index(el, selector) {\n  var index = 0;\n\n  if (!el || !el.parentNode) {\n    return -1;\n  }\n  /* jshint boss:true */\n\n\n  while (el = el.previousElementSibling) {\n    if (el.nodeName.toUpperCase() !== 'TEMPLATE' && el !== Sortable.clone && (!selector || matches(el, selector))) {\n      index++;\n    }\n  }\n\n  return index;\n}\n/**\r\n * Returns the scroll offset of the given element, added with all the scroll offsets of parent elements.\r\n * The value is returned in real pixels.\r\n * @param  {HTMLElement} el\r\n * @return {Array}             Offsets in the format of [left, top]\r\n */\n\n\nfunction getRelativeScrollOffset(el) {\n  var offsetLeft = 0,\n      offsetTop = 0,\n      winScroller = getWindowScrollingElement();\n\n  if (el) {\n    do {\n      var elMatrix = matrix(el),\n          scaleX = elMatrix.a,\n          scaleY = elMatrix.d;\n      offsetLeft += el.scrollLeft * scaleX;\n      offsetTop += el.scrollTop * scaleY;\n    } while (el !== winScroller && (el = el.parentNode));\n  }\n\n  return [offsetLeft, offsetTop];\n}\n/**\r\n * Returns the index of the object within the given array\r\n * @param  {Array} arr   Array that may or may not hold the object\r\n * @param  {Object} obj  An object that has a key-value pair unique to and identical to a key-value pair in the object you want to find\r\n * @return {Number}      The index of the object in the array, or -1\r\n */\n\n\nfunction indexOfObject(arr, obj) {\n  for (var i in arr) {\n    if (!arr.hasOwnProperty(i)) continue;\n\n    for (var key in obj) {\n      if (obj.hasOwnProperty(key) && obj[key] === arr[i][key]) return Number(i);\n    }\n  }\n\n  return -1;\n}\n\nfunction getParentAutoScrollElement(el, includeSelf) {\n  // skip to window\n  if (!el || !el.getBoundingClientRect) return getWindowScrollingElement();\n  var elem = el;\n  var gotSelf = false;\n\n  do {\n    // we don't need to get elem css if it isn't even overflowing in the first place (performance)\n    if (elem.clientWidth < elem.scrollWidth || elem.clientHeight < elem.scrollHeight) {\n      var elemCSS = css(elem);\n\n      if (elem.clientWidth < elem.scrollWidth && (elemCSS.overflowX == 'auto' || elemCSS.overflowX == 'scroll') || elem.clientHeight < elem.scrollHeight && (elemCSS.overflowY == 'auto' || elemCSS.overflowY == 'scroll')) {\n        if (!elem.getBoundingClientRect || elem === document.body) return getWindowScrollingElement();\n        if (gotSelf || includeSelf) return elem;\n        gotSelf = true;\n      }\n    }\n    /* jshint boss:true */\n\n  } while (elem = elem.parentNode);\n\n  return getWindowScrollingElement();\n}\n\nfunction extend(dst, src) {\n  if (dst && src) {\n    for (var key in src) {\n      if (src.hasOwnProperty(key)) {\n        dst[key] = src[key];\n      }\n    }\n  }\n\n  return dst;\n}\n\nfunction isRectEqual(rect1, rect2) {\n  return Math.round(rect1.top) === Math.round(rect2.top) && Math.round(rect1.left) === Math.round(rect2.left) && Math.round(rect1.height) === Math.round(rect2.height) && Math.round(rect1.width) === Math.round(rect2.width);\n}\n\nvar _throttleTimeout;\n\nfunction throttle(callback, ms) {\n  return function () {\n    if (!_throttleTimeout) {\n      var args = arguments,\n          _this = this;\n\n      if (args.length === 1) {\n        callback.call(_this, args[0]);\n      } else {\n        callback.apply(_this, args);\n      }\n\n      _throttleTimeout = setTimeout(function () {\n        _throttleTimeout = void 0;\n      }, ms);\n    }\n  };\n}\n\nfunction cancelThrottle() {\n  clearTimeout(_throttleTimeout);\n  _throttleTimeout = void 0;\n}\n\nfunction scrollBy(el, x, y) {\n  el.scrollLeft += x;\n  el.scrollTop += y;\n}\n\nfunction clone(el) {\n  var Polymer = window.Polymer;\n  var $ = window.jQuery || window.Zepto;\n\n  if (Polymer && Polymer.dom) {\n    return Polymer.dom(el).cloneNode(true);\n  } else if ($) {\n    return $(el).clone(true)[0];\n  } else {\n    return el.cloneNode(true);\n  }\n}\n\nfunction setRect(el, rect) {\n  css(el, 'position', 'absolute');\n  css(el, 'top', rect.top);\n  css(el, 'left', rect.left);\n  css(el, 'width', rect.width);\n  css(el, 'height', rect.height);\n}\n\nfunction unsetRect(el) {\n  css(el, 'position', '');\n  css(el, 'top', '');\n  css(el, 'left', '');\n  css(el, 'width', '');\n  css(el, 'height', '');\n}\n\nvar expando = 'Sortable' + new Date().getTime();\n\nfunction AnimationStateManager() {\n  var animationStates = [],\n      animationCallbackId;\n  return {\n    captureAnimationState: function captureAnimationState() {\n      animationStates = [];\n      if (!this.options.animation) return;\n      var children = [].slice.call(this.el.children);\n      children.forEach(function (child) {\n        if (css(child, 'display') === 'none' || child === Sortable.ghost) return;\n        animationStates.push({\n          target: child,\n          rect: getRect(child)\n        });\n\n        var fromRect = _objectSpread({}, animationStates[animationStates.length - 1].rect); // If animating: compensate for current animation\n\n\n        if (child.thisAnimationDuration) {\n          var childMatrix = matrix(child, true);\n\n          if (childMatrix) {\n            fromRect.top -= childMatrix.f;\n            fromRect.left -= childMatrix.e;\n          }\n        }\n\n        child.fromRect = fromRect;\n      });\n    },\n    addAnimationState: function addAnimationState(state) {\n      animationStates.push(state);\n    },\n    removeAnimationState: function removeAnimationState(target) {\n      animationStates.splice(indexOfObject(animationStates, {\n        target: target\n      }), 1);\n    },\n    animateAll: function animateAll(callback) {\n      var _this = this;\n\n      if (!this.options.animation) {\n        clearTimeout(animationCallbackId);\n        if (typeof callback === 'function') callback();\n        return;\n      }\n\n      var animating = false,\n          animationTime = 0;\n      animationStates.forEach(function (state) {\n        var time = 0,\n            target = state.target,\n            fromRect = target.fromRect,\n            toRect = getRect(target),\n            prevFromRect = target.prevFromRect,\n            prevToRect = target.prevToRect,\n            animatingRect = state.rect,\n            targetMatrix = matrix(target, true);\n\n        if (targetMatrix) {\n          // Compensate for current animation\n          toRect.top -= targetMatrix.f;\n          toRect.left -= targetMatrix.e;\n        }\n\n        target.toRect = toRect;\n\n        if (target.thisAnimationDuration) {\n          // Could also check if animatingRect is between fromRect and toRect\n          if (isRectEqual(prevFromRect, toRect) && !isRectEqual(fromRect, toRect) && // Make sure animatingRect is on line between toRect & fromRect\n          (animatingRect.top - toRect.top) / (animatingRect.left - toRect.left) === (fromRect.top - toRect.top) / (fromRect.left - toRect.left)) {\n            // If returning to same place as started from animation and on same axis\n            time = calculateRealTime(animatingRect, prevFromRect, prevToRect, _this.options);\n          }\n        } // if fromRect != toRect: animate\n\n\n        if (!isRectEqual(toRect, fromRect)) {\n          target.prevFromRect = fromRect;\n          target.prevToRect = toRect;\n\n          if (!time) {\n            time = _this.options.animation;\n          }\n\n          _this.animate(target, animatingRect, toRect, time);\n        }\n\n        if (time) {\n          animating = true;\n          animationTime = Math.max(animationTime, time);\n          clearTimeout(target.animationResetTimer);\n          target.animationResetTimer = setTimeout(function () {\n            target.animationTime = 0;\n            target.prevFromRect = null;\n            target.fromRect = null;\n            target.prevToRect = null;\n            target.thisAnimationDuration = null;\n          }, time);\n          target.thisAnimationDuration = time;\n        }\n      });\n      clearTimeout(animationCallbackId);\n\n      if (!animating) {\n        if (typeof callback === 'function') callback();\n      } else {\n        animationCallbackId = setTimeout(function () {\n          if (typeof callback === 'function') callback();\n        }, animationTime);\n      }\n\n      animationStates = [];\n    },\n    animate: function animate(target, currentRect, toRect, duration) {\n      if (duration) {\n        css(target, 'transition', '');\n        css(target, 'transform', '');\n        var elMatrix = matrix(this.el),\n            scaleX = elMatrix && elMatrix.a,\n            scaleY = elMatrix && elMatrix.d,\n            translateX = (currentRect.left - toRect.left) / (scaleX || 1),\n            translateY = (currentRect.top - toRect.top) / (scaleY || 1);\n        target.animatingX = !!translateX;\n        target.animatingY = !!translateY;\n        css(target, 'transform', 'translate3d(' + translateX + 'px,' + translateY + 'px,0)');\n        repaint(target); // repaint\n\n        css(target, 'transition', 'transform ' + duration + 'ms' + (this.options.easing ? ' ' + this.options.easing : ''));\n        css(target, 'transform', 'translate3d(0,0,0)');\n        typeof target.animated === 'number' && clearTimeout(target.animated);\n        target.animated = setTimeout(function () {\n          css(target, 'transition', '');\n          css(target, 'transform', '');\n          target.animated = false;\n          target.animatingX = false;\n          target.animatingY = false;\n        }, duration);\n      }\n    }\n  };\n}\n\nfunction repaint(target) {\n  return target.offsetWidth;\n}\n\nfunction calculateRealTime(animatingRect, fromRect, toRect, options) {\n  return Math.sqrt(Math.pow(fromRect.top - animatingRect.top, 2) + Math.pow(fromRect.left - animatingRect.left, 2)) / Math.sqrt(Math.pow(fromRect.top - toRect.top, 2) + Math.pow(fromRect.left - toRect.left, 2)) * options.animation;\n}\n\nvar plugins = [];\nvar defaults = {\n  initializeByDefault: true\n};\nvar PluginManager = {\n  mount: function mount(plugin) {\n    // Set default static properties\n    for (var option in defaults) {\n      if (defaults.hasOwnProperty(option) && !(option in plugin)) {\n        plugin[option] = defaults[option];\n      }\n    }\n\n    plugins.push(plugin);\n  },\n  pluginEvent: function pluginEvent(eventName, sortable, evt) {\n    var _this = this;\n\n    this.eventCanceled = false;\n\n    evt.cancel = function () {\n      _this.eventCanceled = true;\n    };\n\n    var eventNameGlobal = eventName + 'Global';\n    plugins.forEach(function (plugin) {\n      if (!sortable[plugin.pluginName]) return; // Fire global events if it exists in this sortable\n\n      if (sortable[plugin.pluginName][eventNameGlobal]) {\n        sortable[plugin.pluginName][eventNameGlobal](_objectSpread({\n          sortable: sortable\n        }, evt));\n      } // Only fire plugin event if plugin is enabled in this sortable,\n      // and plugin has event defined\n\n\n      if (sortable.options[plugin.pluginName] && sortable[plugin.pluginName][eventName]) {\n        sortable[plugin.pluginName][eventName](_objectSpread({\n          sortable: sortable\n        }, evt));\n      }\n    });\n  },\n  initializePlugins: function initializePlugins(sortable, el, defaults, options) {\n    plugins.forEach(function (plugin) {\n      var pluginName = plugin.pluginName;\n      if (!sortable.options[pluginName] && !plugin.initializeByDefault) return;\n      var initialized = new plugin(sortable, el, sortable.options);\n      initialized.sortable = sortable;\n      initialized.options = sortable.options;\n      sortable[pluginName] = initialized; // Add default options from plugin\n\n      _extends(defaults, initialized.defaults);\n    });\n\n    for (var option in sortable.options) {\n      if (!sortable.options.hasOwnProperty(option)) continue;\n      var modified = this.modifyOption(sortable, option, sortable.options[option]);\n\n      if (typeof modified !== 'undefined') {\n        sortable.options[option] = modified;\n      }\n    }\n  },\n  getEventProperties: function getEventProperties(name, sortable) {\n    var eventProperties = {};\n    plugins.forEach(function (plugin) {\n      if (typeof plugin.eventProperties !== 'function') return;\n\n      _extends(eventProperties, plugin.eventProperties.call(sortable[plugin.pluginName], name));\n    });\n    return eventProperties;\n  },\n  modifyOption: function modifyOption(sortable, name, value) {\n    var modifiedValue;\n    plugins.forEach(function (plugin) {\n      // Plugin must exist on the Sortable\n      if (!sortable[plugin.pluginName]) return; // If static option listener exists for this option, call in the context of the Sortable's instance of this plugin\n\n      if (plugin.optionListeners && typeof plugin.optionListeners[name] === 'function') {\n        modifiedValue = plugin.optionListeners[name].call(sortable[plugin.pluginName], value);\n      }\n    });\n    return modifiedValue;\n  }\n};\n\nfunction dispatchEvent(_ref) {\n  var sortable = _ref.sortable,\n      rootEl = _ref.rootEl,\n      name = _ref.name,\n      targetEl = _ref.targetEl,\n      cloneEl = _ref.cloneEl,\n      toEl = _ref.toEl,\n      fromEl = _ref.fromEl,\n      oldIndex = _ref.oldIndex,\n      newIndex = _ref.newIndex,\n      oldDraggableIndex = _ref.oldDraggableIndex,\n      newDraggableIndex = _ref.newDraggableIndex,\n      originalEvent = _ref.originalEvent,\n      putSortable = _ref.putSortable,\n      extraEventProperties = _ref.extraEventProperties;\n  sortable = sortable || rootEl && rootEl[expando];\n  if (!sortable) return;\n  var evt,\n      options = sortable.options,\n      onName = 'on' + name.charAt(0).toUpperCase() + name.substr(1); // Support for new CustomEvent feature\n\n  if (window.CustomEvent && !IE11OrLess && !Edge) {\n    evt = new CustomEvent(name, {\n      bubbles: true,\n      cancelable: true\n    });\n  } else {\n    evt = document.createEvent('Event');\n    evt.initEvent(name, true, true);\n  }\n\n  evt.to = toEl || rootEl;\n  evt.from = fromEl || rootEl;\n  evt.item = targetEl || rootEl;\n  evt.clone = cloneEl;\n  evt.oldIndex = oldIndex;\n  evt.newIndex = newIndex;\n  evt.oldDraggableIndex = oldDraggableIndex;\n  evt.newDraggableIndex = newDraggableIndex;\n  evt.originalEvent = originalEvent;\n  evt.pullMode = putSortable ? putSortable.lastPutMode : undefined;\n\n  var allEventProperties = _objectSpread({}, extraEventProperties, PluginManager.getEventProperties(name, sortable));\n\n  for (var option in allEventProperties) {\n    evt[option] = allEventProperties[option];\n  }\n\n  if (rootEl) {\n    rootEl.dispatchEvent(evt);\n  }\n\n  if (options[onName]) {\n    options[onName].call(sortable, evt);\n  }\n}\n\nvar pluginEvent = function pluginEvent(eventName, sortable) {\n  var _ref = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},\n      originalEvent = _ref.evt,\n      data = _objectWithoutProperties(_ref, [\"evt\"]);\n\n  PluginManager.pluginEvent.bind(Sortable)(eventName, sortable, _objectSpread({\n    dragEl: dragEl,\n    parentEl: parentEl,\n    ghostEl: ghostEl,\n    rootEl: rootEl,\n    nextEl: nextEl,\n    lastDownEl: lastDownEl,\n    cloneEl: cloneEl,\n    cloneHidden: cloneHidden,\n    dragStarted: moved,\n    putSortable: putSortable,\n    activeSortable: Sortable.active,\n    originalEvent: originalEvent,\n    oldIndex: oldIndex,\n    oldDraggableIndex: oldDraggableIndex,\n    newIndex: newIndex,\n    newDraggableIndex: newDraggableIndex,\n    hideGhostForTarget: _hideGhostForTarget,\n    unhideGhostForTarget: _unhideGhostForTarget,\n    cloneNowHidden: function cloneNowHidden() {\n      cloneHidden = true;\n    },\n    cloneNowShown: function cloneNowShown() {\n      cloneHidden = false;\n    },\n    dispatchSortableEvent: function dispatchSortableEvent(name) {\n      _dispatchEvent({\n        sortable: sortable,\n        name: name,\n        originalEvent: originalEvent\n      });\n    }\n  }, data));\n};\n\nfunction _dispatchEvent(info) {\n  dispatchEvent(_objectSpread({\n    putSortable: putSortable,\n    cloneEl: cloneEl,\n    targetEl: dragEl,\n    rootEl: rootEl,\n    oldIndex: oldIndex,\n    oldDraggableIndex: oldDraggableIndex,\n    newIndex: newIndex,\n    newDraggableIndex: newDraggableIndex\n  }, info));\n}\n\nvar dragEl,\n    parentEl,\n    ghostEl,\n    rootEl,\n    nextEl,\n    lastDownEl,\n    cloneEl,\n    cloneHidden,\n    oldIndex,\n    newIndex,\n    oldDraggableIndex,\n    newDraggableIndex,\n    activeGroup,\n    putSortable,\n    awaitingDragStarted = false,\n    ignoreNextClick = false,\n    sortables = [],\n    tapEvt,\n    touchEvt,\n    lastDx,\n    lastDy,\n    tapDistanceLeft,\n    tapDistanceTop,\n    moved,\n    lastTarget,\n    lastDirection,\n    pastFirstInvertThresh = false,\n    isCircumstantialInvert = false,\n    targetMoveDistance,\n    // For positioning ghost absolutely\nghostRelativeParent,\n    ghostRelativeParentInitialScroll = [],\n    // (left, top)\n_silent = false,\n    savedInputChecked = [];\n/** @const */\n\nvar documentExists = typeof document !== 'undefined',\n    PositionGhostAbsolutely = IOS,\n    CSSFloatProperty = Edge || IE11OrLess ? 'cssFloat' : 'float',\n    // This will not pass for IE9, because IE9 DnD only works on anchors\nsupportDraggable = documentExists && !ChromeForAndroid && !IOS && 'draggable' in document.createElement('div'),\n    supportCssPointerEvents = function () {\n  if (!documentExists) return; // false when <= IE11\n\n  if (IE11OrLess) {\n    return false;\n  }\n\n  var el = document.createElement('x');\n  el.style.cssText = 'pointer-events:auto';\n  return el.style.pointerEvents === 'auto';\n}(),\n    _detectDirection = function _detectDirection(el, options) {\n  var elCSS = css(el),\n      elWidth = parseInt(elCSS.width) - parseInt(elCSS.paddingLeft) - parseInt(elCSS.paddingRight) - parseInt(elCSS.borderLeftWidth) - parseInt(elCSS.borderRightWidth),\n      child1 = getChild(el, 0, options),\n      child2 = getChild(el, 1, options),\n      firstChildCSS = child1 && css(child1),\n      secondChildCSS = child2 && css(child2),\n      firstChildWidth = firstChildCSS && parseInt(firstChildCSS.marginLeft) + parseInt(firstChildCSS.marginRight) + getRect(child1).width,\n      secondChildWidth = secondChildCSS && parseInt(secondChildCSS.marginLeft) + parseInt(secondChildCSS.marginRight) + getRect(child2).width;\n\n  if (elCSS.display === 'flex') {\n    return elCSS.flexDirection === 'column' || elCSS.flexDirection === 'column-reverse' ? 'vertical' : 'horizontal';\n  }\n\n  if (elCSS.display === 'grid') {\n    return elCSS.gridTemplateColumns.split(' ').length <= 1 ? 'vertical' : 'horizontal';\n  }\n\n  if (child1 && firstChildCSS[\"float\"] && firstChildCSS[\"float\"] !== 'none') {\n    var touchingSideChild2 = firstChildCSS[\"float\"] === 'left' ? 'left' : 'right';\n    return child2 && (secondChildCSS.clear === 'both' || secondChildCSS.clear === touchingSideChild2) ? 'vertical' : 'horizontal';\n  }\n\n  return child1 && (firstChildCSS.display === 'block' || firstChildCSS.display === 'flex' || firstChildCSS.display === 'table' || firstChildCSS.display === 'grid' || firstChildWidth >= elWidth && elCSS[CSSFloatProperty] === 'none' || child2 && elCSS[CSSFloatProperty] === 'none' && firstChildWidth + secondChildWidth > elWidth) ? 'vertical' : 'horizontal';\n},\n    _dragElInRowColumn = function _dragElInRowColumn(dragRect, targetRect, vertical) {\n  var dragElS1Opp = vertical ? dragRect.left : dragRect.top,\n      dragElS2Opp = vertical ? dragRect.right : dragRect.bottom,\n      dragElOppLength = vertical ? dragRect.width : dragRect.height,\n      targetS1Opp = vertical ? targetRect.left : targetRect.top,\n      targetS2Opp = vertical ? targetRect.right : targetRect.bottom,\n      targetOppLength = vertical ? targetRect.width : targetRect.height;\n  return dragElS1Opp === targetS1Opp || dragElS2Opp === targetS2Opp || dragElS1Opp + dragElOppLength / 2 === targetS1Opp + targetOppLength / 2;\n},\n\n/**\n * Detects first nearest empty sortable to X and Y position using emptyInsertThreshold.\n * @param  {Number} x      X position\n * @param  {Number} y      Y position\n * @return {HTMLElement}   Element of the first found nearest Sortable\n */\n_detectNearestEmptySortable = function _detectNearestEmptySortable(x, y) {\n  var ret;\n  sortables.some(function (sortable) {\n    if (lastChild(sortable)) return;\n    var rect = getRect(sortable),\n        threshold = sortable[expando].options.emptyInsertThreshold,\n        insideHorizontally = x >= rect.left - threshold && x <= rect.right + threshold,\n        insideVertically = y >= rect.top - threshold && y <= rect.bottom + threshold;\n\n    if (threshold && insideHorizontally && insideVertically) {\n      return ret = sortable;\n    }\n  });\n  return ret;\n},\n    _prepareGroup = function _prepareGroup(options) {\n  function toFn(value, pull) {\n    return function (to, from, dragEl, evt) {\n      var sameGroup = to.options.group.name && from.options.group.name && to.options.group.name === from.options.group.name;\n\n      if (value == null && (pull || sameGroup)) {\n        // Default pull value\n        // Default pull and put value if same group\n        return true;\n      } else if (value == null || value === false) {\n        return false;\n      } else if (pull && value === 'clone') {\n        return value;\n      } else if (typeof value === 'function') {\n        return toFn(value(to, from, dragEl, evt), pull)(to, from, dragEl, evt);\n      } else {\n        var otherGroup = (pull ? to : from).options.group.name;\n        return value === true || typeof value === 'string' && value === otherGroup || value.join && value.indexOf(otherGroup) > -1;\n      }\n    };\n  }\n\n  var group = {};\n  var originalGroup = options.group;\n\n  if (!originalGroup || _typeof(originalGroup) != 'object') {\n    originalGroup = {\n      name: originalGroup\n    };\n  }\n\n  group.name = originalGroup.name;\n  group.checkPull = toFn(originalGroup.pull, true);\n  group.checkPut = toFn(originalGroup.put);\n  group.revertClone = originalGroup.revertClone;\n  options.group = group;\n},\n    _hideGhostForTarget = function _hideGhostForTarget() {\n  if (!supportCssPointerEvents && ghostEl) {\n    css(ghostEl, 'display', 'none');\n  }\n},\n    _unhideGhostForTarget = function _unhideGhostForTarget() {\n  if (!supportCssPointerEvents && ghostEl) {\n    css(ghostEl, 'display', '');\n  }\n}; // #1184 fix - Prevent click event on fallback if dragged but item not changed position\n\n\nif (documentExists) {\n  document.addEventListener('click', function (evt) {\n    if (ignoreNextClick) {\n      evt.preventDefault();\n      evt.stopPropagation && evt.stopPropagation();\n      evt.stopImmediatePropagation && evt.stopImmediatePropagation();\n      ignoreNextClick = false;\n      return false;\n    }\n  }, true);\n}\n\nvar nearestEmptyInsertDetectEvent = function nearestEmptyInsertDetectEvent(evt) {\n  if (dragEl) {\n    evt = evt.touches ? evt.touches[0] : evt;\n\n    var nearest = _detectNearestEmptySortable(evt.clientX, evt.clientY);\n\n    if (nearest) {\n      // Create imitation event\n      var event = {};\n\n      for (var i in evt) {\n        if (evt.hasOwnProperty(i)) {\n          event[i] = evt[i];\n        }\n      }\n\n      event.target = event.rootEl = nearest;\n      event.preventDefault = void 0;\n      event.stopPropagation = void 0;\n\n      nearest[expando]._onDragOver(event);\n    }\n  }\n};\n\nvar _checkOutsideTargetEl = function _checkOutsideTargetEl(evt) {\n  if (dragEl) {\n    dragEl.parentNode[expando]._isOutsideThisEl(evt.target);\n  }\n};\n/**\n * @class  Sortable\n * @param  {HTMLElement}  el\n * @param  {Object}       [options]\n */\n\n\nfunction Sortable(el, options) {\n  if (!(el && el.nodeType && el.nodeType === 1)) {\n    throw \"Sortable: `el` must be an HTMLElement, not \".concat({}.toString.call(el));\n  }\n\n  this.el = el; // root element\n\n  this.options = options = _extends({}, options); // Export instance\n\n  el[expando] = this;\n  var defaults = {\n    group: null,\n    sort: true,\n    disabled: false,\n    store: null,\n    handle: null,\n    draggable: /^[uo]l$/i.test(el.nodeName) ? '>li' : '>*',\n    swapThreshold: 1,\n    // percentage; 0 <= x <= 1\n    invertSwap: false,\n    // invert always\n    invertedSwapThreshold: null,\n    // will be set to same as swapThreshold if default\n    removeCloneOnHide: true,\n    direction: function direction() {\n      return _detectDirection(el, this.options);\n    },\n    ghostClass: 'sortable-ghost',\n    chosenClass: 'sortable-chosen',\n    dragClass: 'sortable-drag',\n    ignore: 'a, img',\n    filter: null,\n    preventOnFilter: true,\n    animation: 0,\n    easing: null,\n    setData: function setData(dataTransfer, dragEl) {\n      dataTransfer.setData('Text', dragEl.textContent);\n    },\n    dropBubble: false,\n    dragoverBubble: false,\n    dataIdAttr: 'data-id',\n    delay: 0,\n    delayOnTouchOnly: false,\n    touchStartThreshold: (Number.parseInt ? Number : window).parseInt(window.devicePixelRatio, 10) || 1,\n    forceFallback: false,\n    fallbackClass: 'sortable-fallback',\n    fallbackOnBody: false,\n    fallbackTolerance: 0,\n    fallbackOffset: {\n      x: 0,\n      y: 0\n    },\n    supportPointer: Sortable.supportPointer !== false && 'PointerEvent' in window,\n    emptyInsertThreshold: 5\n  };\n  PluginManager.initializePlugins(this, el, defaults); // Set default options\n\n  for (var name in defaults) {\n    !(name in options) && (options[name] = defaults[name]);\n  }\n\n  _prepareGroup(options); // Bind all private methods\n\n\n  for (var fn in this) {\n    if (fn.charAt(0) === '_' && typeof this[fn] === 'function') {\n      this[fn] = this[fn].bind(this);\n    }\n  } // Setup drag mode\n\n\n  this.nativeDraggable = options.forceFallback ? false : supportDraggable;\n\n  if (this.nativeDraggable) {\n    // Touch start threshold cannot be greater than the native dragstart threshold\n    this.options.touchStartThreshold = 1;\n  } // Bind events\n\n\n  if (options.supportPointer) {\n    on(el, 'pointerdown', this._onTapStart);\n  } else {\n    on(el, 'mousedown', this._onTapStart);\n    on(el, 'touchstart', this._onTapStart);\n  }\n\n  if (this.nativeDraggable) {\n    on(el, 'dragover', this);\n    on(el, 'dragenter', this);\n  }\n\n  sortables.push(this.el); // Restore sorting\n\n  options.store && options.store.get && this.sort(options.store.get(this) || []); // Add animation state manager\n\n  _extends(this, AnimationStateManager());\n}\n\nSortable.prototype =\n/** @lends Sortable.prototype */\n{\n  constructor: Sortable,\n  _isOutsideThisEl: function _isOutsideThisEl(target) {\n    if (!this.el.contains(target) && target !== this.el) {\n      lastTarget = null;\n    }\n  },\n  _getDirection: function _getDirection(evt, target) {\n    return typeof this.options.direction === 'function' ? this.options.direction.call(this, evt, target, dragEl) : this.options.direction;\n  },\n  _onTapStart: function _onTapStart(\n  /** Event|TouchEvent */\n  evt) {\n    if (!evt.cancelable) return;\n\n    var _this = this,\n        el = this.el,\n        options = this.options,\n        preventOnFilter = options.preventOnFilter,\n        type = evt.type,\n        touch = evt.touches && evt.touches[0] || evt.pointerType && evt.pointerType === 'touch' && evt,\n        target = (touch || evt).target,\n        originalTarget = evt.target.shadowRoot && (evt.path && evt.path[0] || evt.composedPath && evt.composedPath()[0]) || target,\n        filter = options.filter;\n\n    _saveInputCheckedState(el); // Don't trigger start event when an element is been dragged, otherwise the evt.oldindex always wrong when set option.group.\n\n\n    if (dragEl) {\n      return;\n    }\n\n    if (/mousedown|pointerdown/.test(type) && evt.button !== 0 || options.disabled) {\n      return; // only left button and enabled\n    } // cancel dnd if original target is content editable\n\n\n    if (originalTarget.isContentEditable) {\n      return;\n    }\n\n    target = closest(target, options.draggable, el, false);\n\n    if (target && target.animated) {\n      return;\n    }\n\n    if (lastDownEl === target) {\n      // Ignoring duplicate `down`\n      return;\n    } // Get the index of the dragged element within its parent\n\n\n    oldIndex = index(target);\n    oldDraggableIndex = index(target, options.draggable); // Check filter\n\n    if (typeof filter === 'function') {\n      if (filter.call(this, evt, target, this)) {\n        _dispatchEvent({\n          sortable: _this,\n          rootEl: originalTarget,\n          name: 'filter',\n          targetEl: target,\n          toEl: el,\n          fromEl: el\n        });\n\n        pluginEvent('filter', _this, {\n          evt: evt\n        });\n        preventOnFilter && evt.cancelable && evt.preventDefault();\n        return; // cancel dnd\n      }\n    } else if (filter) {\n      filter = filter.split(',').some(function (criteria) {\n        criteria = closest(originalTarget, criteria.trim(), el, false);\n\n        if (criteria) {\n          _dispatchEvent({\n            sortable: _this,\n            rootEl: criteria,\n            name: 'filter',\n            targetEl: target,\n            fromEl: el,\n            toEl: el\n          });\n\n          pluginEvent('filter', _this, {\n            evt: evt\n          });\n          return true;\n        }\n      });\n\n      if (filter) {\n        preventOnFilter && evt.cancelable && evt.preventDefault();\n        return; // cancel dnd\n      }\n    }\n\n    if (options.handle && !closest(originalTarget, options.handle, el, false)) {\n      return;\n    } // Prepare `dragstart`\n\n\n    this._prepareDragStart(evt, touch, target);\n  },\n  _prepareDragStart: function _prepareDragStart(\n  /** Event */\n  evt,\n  /** Touch */\n  touch,\n  /** HTMLElement */\n  target) {\n    var _this = this,\n        el = _this.el,\n        options = _this.options,\n        ownerDocument = el.ownerDocument,\n        dragStartFn;\n\n    if (target && !dragEl && target.parentNode === el) {\n      var dragRect = getRect(target);\n      rootEl = el;\n      dragEl = target;\n      parentEl = dragEl.parentNode;\n      nextEl = dragEl.nextSibling;\n      lastDownEl = target;\n      activeGroup = options.group;\n      Sortable.dragged = dragEl;\n      tapEvt = {\n        target: dragEl,\n        clientX: (touch || evt).clientX,\n        clientY: (touch || evt).clientY\n      };\n      tapDistanceLeft = tapEvt.clientX - dragRect.left;\n      tapDistanceTop = tapEvt.clientY - dragRect.top;\n      this._lastX = (touch || evt).clientX;\n      this._lastY = (touch || evt).clientY;\n      dragEl.style['will-change'] = 'all';\n\n      dragStartFn = function dragStartFn() {\n        pluginEvent('delayEnded', _this, {\n          evt: evt\n        });\n\n        if (Sortable.eventCanceled) {\n          _this._onDrop();\n\n          return;\n        } // Delayed drag has been triggered\n        // we can re-enable the events: touchmove/mousemove\n\n\n        _this._disableDelayedDragEvents();\n\n        if (!FireFox && _this.nativeDraggable) {\n          dragEl.draggable = true;\n        } // Bind the events: dragstart/dragend\n\n\n        _this._triggerDragStart(evt, touch); // Drag start event\n\n\n        _dispatchEvent({\n          sortable: _this,\n          name: 'choose',\n          originalEvent: evt\n        }); // Chosen item\n\n\n        toggleClass(dragEl, options.chosenClass, true);\n      }; // Disable \"draggable\"\n\n\n      options.ignore.split(',').forEach(function (criteria) {\n        find(dragEl, criteria.trim(), _disableDraggable);\n      });\n      on(ownerDocument, 'dragover', nearestEmptyInsertDetectEvent);\n      on(ownerDocument, 'mousemove', nearestEmptyInsertDetectEvent);\n      on(ownerDocument, 'touchmove', nearestEmptyInsertDetectEvent);\n      on(ownerDocument, 'mouseup', _this._onDrop);\n      on(ownerDocument, 'touchend', _this._onDrop);\n      on(ownerDocument, 'touchcancel', _this._onDrop); // Make dragEl draggable (must be before delay for FireFox)\n\n      if (FireFox && this.nativeDraggable) {\n        this.options.touchStartThreshold = 4;\n        dragEl.draggable = true;\n      }\n\n      pluginEvent('delayStart', this, {\n        evt: evt\n      }); // Delay is impossible for native DnD in Edge or IE\n\n      if (options.delay && (!options.delayOnTouchOnly || touch) && (!this.nativeDraggable || !(Edge || IE11OrLess))) {\n        if (Sortable.eventCanceled) {\n          this._onDrop();\n\n          return;\n        } // If the user moves the pointer or let go the click or touch\n        // before the delay has been reached:\n        // disable the delayed drag\n\n\n        on(ownerDocument, 'mouseup', _this._disableDelayedDrag);\n        on(ownerDocument, 'touchend', _this._disableDelayedDrag);\n        on(ownerDocument, 'touchcancel', _this._disableDelayedDrag);\n        on(ownerDocument, 'mousemove', _this._delayedDragTouchMoveHandler);\n        on(ownerDocument, 'touchmove', _this._delayedDragTouchMoveHandler);\n        options.supportPointer && on(ownerDocument, 'pointermove', _this._delayedDragTouchMoveHandler);\n        _this._dragStartTimer = setTimeout(dragStartFn, options.delay);\n      } else {\n        dragStartFn();\n      }\n    }\n  },\n  _delayedDragTouchMoveHandler: function _delayedDragTouchMoveHandler(\n  /** TouchEvent|PointerEvent **/\n  e) {\n    var touch = e.touches ? e.touches[0] : e;\n\n    if (Math.max(Math.abs(touch.clientX - this._lastX), Math.abs(touch.clientY - this._lastY)) >= Math.floor(this.options.touchStartThreshold / (this.nativeDraggable && window.devicePixelRatio || 1))) {\n      this._disableDelayedDrag();\n    }\n  },\n  _disableDelayedDrag: function _disableDelayedDrag() {\n    dragEl && _disableDraggable(dragEl);\n    clearTimeout(this._dragStartTimer);\n\n    this._disableDelayedDragEvents();\n  },\n  _disableDelayedDragEvents: function _disableDelayedDragEvents() {\n    var ownerDocument = this.el.ownerDocument;\n    off(ownerDocument, 'mouseup', this._disableDelayedDrag);\n    off(ownerDocument, 'touchend', this._disableDelayedDrag);\n    off(ownerDocument, 'touchcancel', this._disableDelayedDrag);\n    off(ownerDocument, 'mousemove', this._delayedDragTouchMoveHandler);\n    off(ownerDocument, 'touchmove', this._delayedDragTouchMoveHandler);\n    off(ownerDocument, 'pointermove', this._delayedDragTouchMoveHandler);\n  },\n  _triggerDragStart: function _triggerDragStart(\n  /** Event */\n  evt,\n  /** Touch */\n  touch) {\n    touch = touch || evt.pointerType == 'touch' && evt;\n\n    if (!this.nativeDraggable || touch) {\n      if (this.options.supportPointer) {\n        on(document, 'pointermove', this._onTouchMove);\n      } else if (touch) {\n        on(document, 'touchmove', this._onTouchMove);\n      } else {\n        on(document, 'mousemove', this._onTouchMove);\n      }\n    } else {\n      on(dragEl, 'dragend', this);\n      on(rootEl, 'dragstart', this._onDragStart);\n    }\n\n    try {\n      if (document.selection) {\n        // Timeout neccessary for IE9\n        _nextTick(function () {\n          document.selection.empty();\n        });\n      } else {\n        window.getSelection().removeAllRanges();\n      }\n    } catch (err) {}\n  },\n  _dragStarted: function _dragStarted(fallback, evt) {\n    awaitingDragStarted = false;\n\n    if (rootEl && dragEl) {\n      pluginEvent('dragStarted', this, {\n        evt: evt\n      });\n\n      if (this.nativeDraggable) {\n        on(document, 'dragover', _checkOutsideTargetEl);\n      }\n\n      var options = this.options; // Apply effect\n\n      !fallback && toggleClass(dragEl, options.dragClass, false);\n      toggleClass(dragEl, options.ghostClass, true);\n      Sortable.active = this;\n      fallback && this._appendGhost(); // Drag start event\n\n      _dispatchEvent({\n        sortable: this,\n        name: 'start',\n        originalEvent: evt\n      });\n    } else {\n      this._nulling();\n    }\n  },\n  _emulateDragOver: function _emulateDragOver() {\n    if (touchEvt) {\n      this._lastX = touchEvt.clientX;\n      this._lastY = touchEvt.clientY;\n\n      _hideGhostForTarget();\n\n      var target = document.elementFromPoint(touchEvt.clientX, touchEvt.clientY);\n      var parent = target;\n\n      while (target && target.shadowRoot) {\n        target = target.shadowRoot.elementFromPoint(touchEvt.clientX, touchEvt.clientY);\n        if (target === parent) break;\n        parent = target;\n      }\n\n      dragEl.parentNode[expando]._isOutsideThisEl(target);\n\n      if (parent) {\n        do {\n          if (parent[expando]) {\n            var inserted = void 0;\n            inserted = parent[expando]._onDragOver({\n              clientX: touchEvt.clientX,\n              clientY: touchEvt.clientY,\n              target: target,\n              rootEl: parent\n            });\n\n            if (inserted && !this.options.dragoverBubble) {\n              break;\n            }\n          }\n\n          target = parent; // store last element\n        }\n        /* jshint boss:true */\n        while (parent = parent.parentNode);\n      }\n\n      _unhideGhostForTarget();\n    }\n  },\n  _onTouchMove: function _onTouchMove(\n  /**TouchEvent*/\n  evt) {\n    if (tapEvt) {\n      var options = this.options,\n          fallbackTolerance = options.fallbackTolerance,\n          fallbackOffset = options.fallbackOffset,\n          touch = evt.touches ? evt.touches[0] : evt,\n          ghostMatrix = ghostEl && matrix(ghostEl, true),\n          scaleX = ghostEl && ghostMatrix && ghostMatrix.a,\n          scaleY = ghostEl && ghostMatrix && ghostMatrix.d,\n          relativeScrollOffset = PositionGhostAbsolutely && ghostRelativeParent && getRelativeScrollOffset(ghostRelativeParent),\n          dx = (touch.clientX - tapEvt.clientX + fallbackOffset.x) / (scaleX || 1) + (relativeScrollOffset ? relativeScrollOffset[0] - ghostRelativeParentInitialScroll[0] : 0) / (scaleX || 1),\n          dy = (touch.clientY - tapEvt.clientY + fallbackOffset.y) / (scaleY || 1) + (relativeScrollOffset ? relativeScrollOffset[1] - ghostRelativeParentInitialScroll[1] : 0) / (scaleY || 1); // only set the status to dragging, when we are actually dragging\n\n      if (!Sortable.active && !awaitingDragStarted) {\n        if (fallbackTolerance && Math.max(Math.abs(touch.clientX - this._lastX), Math.abs(touch.clientY - this._lastY)) < fallbackTolerance) {\n          return;\n        }\n\n        this._onDragStart(evt, true);\n      }\n\n      if (ghostEl) {\n        if (ghostMatrix) {\n          ghostMatrix.e += dx - (lastDx || 0);\n          ghostMatrix.f += dy - (lastDy || 0);\n        } else {\n          ghostMatrix = {\n            a: 1,\n            b: 0,\n            c: 0,\n            d: 1,\n            e: dx,\n            f: dy\n          };\n        }\n\n        var cssMatrix = \"matrix(\".concat(ghostMatrix.a, \",\").concat(ghostMatrix.b, \",\").concat(ghostMatrix.c, \",\").concat(ghostMatrix.d, \",\").concat(ghostMatrix.e, \",\").concat(ghostMatrix.f, \")\");\n        css(ghostEl, 'webkitTransform', cssMatrix);\n        css(ghostEl, 'mozTransform', cssMatrix);\n        css(ghostEl, 'msTransform', cssMatrix);\n        css(ghostEl, 'transform', cssMatrix);\n        lastDx = dx;\n        lastDy = dy;\n        touchEvt = touch;\n      }\n\n      evt.cancelable && evt.preventDefault();\n    }\n  },\n  _appendGhost: function _appendGhost() {\n    // Bug if using scale(): https://stackoverflow.com/questions/2637058\n    // Not being adjusted for\n    if (!ghostEl) {\n      var container = this.options.fallbackOnBody ? document.body : rootEl,\n          rect = getRect(dragEl, true, PositionGhostAbsolutely, true, container),\n          options = this.options; // Position absolutely\n\n      if (PositionGhostAbsolutely) {\n        // Get relatively positioned parent\n        ghostRelativeParent = container;\n\n        while (css(ghostRelativeParent, 'position') === 'static' && css(ghostRelativeParent, 'transform') === 'none' && ghostRelativeParent !== document) {\n          ghostRelativeParent = ghostRelativeParent.parentNode;\n        }\n\n        if (ghostRelativeParent !== document.body && ghostRelativeParent !== document.documentElement) {\n          if (ghostRelativeParent === document) ghostRelativeParent = getWindowScrollingElement();\n          rect.top += ghostRelativeParent.scrollTop;\n          rect.left += ghostRelativeParent.scrollLeft;\n        } else {\n          ghostRelativeParent = getWindowScrollingElement();\n        }\n\n        ghostRelativeParentInitialScroll = getRelativeScrollOffset(ghostRelativeParent);\n      }\n\n      ghostEl = dragEl.cloneNode(true);\n      toggleClass(ghostEl, options.ghostClass, false);\n      toggleClass(ghostEl, options.fallbackClass, true);\n      toggleClass(ghostEl, options.dragClass, true);\n      css(ghostEl, 'transition', '');\n      css(ghostEl, 'transform', '');\n      css(ghostEl, 'box-sizing', 'border-box');\n      css(ghostEl, 'margin', 0);\n      css(ghostEl, 'top', rect.top);\n      css(ghostEl, 'left', rect.left);\n      css(ghostEl, 'width', rect.width);\n      css(ghostEl, 'height', rect.height);\n      css(ghostEl, 'opacity', '0.8');\n      css(ghostEl, 'position', PositionGhostAbsolutely ? 'absolute' : 'fixed');\n      css(ghostEl, 'zIndex', '100000');\n      css(ghostEl, 'pointerEvents', 'none');\n      Sortable.ghost = ghostEl;\n      container.appendChild(ghostEl); // Set transform-origin\n\n      css(ghostEl, 'transform-origin', tapDistanceLeft / parseInt(ghostEl.style.width) * 100 + '% ' + tapDistanceTop / parseInt(ghostEl.style.height) * 100 + '%');\n    }\n  },\n  _onDragStart: function _onDragStart(\n  /**Event*/\n  evt,\n  /**boolean*/\n  fallback) {\n    var _this = this;\n\n    var dataTransfer = evt.dataTransfer;\n    var options = _this.options;\n    pluginEvent('dragStart', this, {\n      evt: evt\n    });\n\n    if (Sortable.eventCanceled) {\n      this._onDrop();\n\n      return;\n    }\n\n    pluginEvent('setupClone', this);\n\n    if (!Sortable.eventCanceled) {\n      cloneEl = clone(dragEl);\n      cloneEl.draggable = false;\n      cloneEl.style['will-change'] = '';\n\n      this._hideClone();\n\n      toggleClass(cloneEl, this.options.chosenClass, false);\n      Sortable.clone = cloneEl;\n    } // #1143: IFrame support workaround\n\n\n    _this.cloneId = _nextTick(function () {\n      pluginEvent('clone', _this);\n      if (Sortable.eventCanceled) return;\n\n      if (!_this.options.removeCloneOnHide) {\n        rootEl.insertBefore(cloneEl, dragEl);\n      }\n\n      _this._hideClone();\n\n      _dispatchEvent({\n        sortable: _this,\n        name: 'clone'\n      });\n    });\n    !fallback && toggleClass(dragEl, options.dragClass, true); // Set proper drop events\n\n    if (fallback) {\n      ignoreNextClick = true;\n      _this._loopId = setInterval(_this._emulateDragOver, 50);\n    } else {\n      // Undo what was set in _prepareDragStart before drag started\n      off(document, 'mouseup', _this._onDrop);\n      off(document, 'touchend', _this._onDrop);\n      off(document, 'touchcancel', _this._onDrop);\n\n      if (dataTransfer) {\n        dataTransfer.effectAllowed = 'move';\n        options.setData && options.setData.call(_this, dataTransfer, dragEl);\n      }\n\n      on(document, 'drop', _this); // #1276 fix:\n\n      css(dragEl, 'transform', 'translateZ(0)');\n    }\n\n    awaitingDragStarted = true;\n    _this._dragStartId = _nextTick(_this._dragStarted.bind(_this, fallback, evt));\n    on(document, 'selectstart', _this);\n    moved = true;\n\n    if (Safari) {\n      css(document.body, 'user-select', 'none');\n    }\n  },\n  // Returns true - if no further action is needed (either inserted or another condition)\n  _onDragOver: function _onDragOver(\n  /**Event*/\n  evt) {\n    var el = this.el,\n        target = evt.target,\n        dragRect,\n        targetRect,\n        revert,\n        options = this.options,\n        group = options.group,\n        activeSortable = Sortable.active,\n        isOwner = activeGroup === group,\n        canSort = options.sort,\n        fromSortable = putSortable || activeSortable,\n        vertical,\n        _this = this,\n        completedFired = false;\n\n    if (_silent) return;\n\n    function dragOverEvent(name, extra) {\n      pluginEvent(name, _this, _objectSpread({\n        evt: evt,\n        isOwner: isOwner,\n        axis: vertical ? 'vertical' : 'horizontal',\n        revert: revert,\n        dragRect: dragRect,\n        targetRect: targetRect,\n        canSort: canSort,\n        fromSortable: fromSortable,\n        target: target,\n        completed: completed,\n        onMove: function onMove(target, after) {\n          return _onMove(rootEl, el, dragEl, dragRect, target, getRect(target), evt, after);\n        },\n        changed: changed\n      }, extra));\n    } // Capture animation state\n\n\n    function capture() {\n      dragOverEvent('dragOverAnimationCapture');\n\n      _this.captureAnimationState();\n\n      if (_this !== fromSortable) {\n        fromSortable.captureAnimationState();\n      }\n    } // Return invocation when dragEl is inserted (or completed)\n\n\n    function completed(insertion) {\n      dragOverEvent('dragOverCompleted', {\n        insertion: insertion\n      });\n\n      if (insertion) {\n        // Clones must be hidden before folding animation to capture dragRectAbsolute properly\n        if (isOwner) {\n          activeSortable._hideClone();\n        } else {\n          activeSortable._showClone(_this);\n        }\n\n        if (_this !== fromSortable) {\n          // Set ghost class to new sortable's ghost class\n          toggleClass(dragEl, putSortable ? putSortable.options.ghostClass : activeSortable.options.ghostClass, false);\n          toggleClass(dragEl, options.ghostClass, true);\n        }\n\n        if (putSortable !== _this && _this !== Sortable.active) {\n          putSortable = _this;\n        } else if (_this === Sortable.active && putSortable) {\n          putSortable = null;\n        } // Animation\n\n\n        if (fromSortable === _this) {\n          _this._ignoreWhileAnimating = target;\n        }\n\n        _this.animateAll(function () {\n          dragOverEvent('dragOverAnimationComplete');\n          _this._ignoreWhileAnimating = null;\n        });\n\n        if (_this !== fromSortable) {\n          fromSortable.animateAll();\n          fromSortable._ignoreWhileAnimating = null;\n        }\n      } // Null lastTarget if it is not inside a previously swapped element\n\n\n      if (target === dragEl && !dragEl.animated || target === el && !target.animated) {\n        lastTarget = null;\n      } // no bubbling and not fallback\n\n\n      if (!options.dragoverBubble && !evt.rootEl && target !== document) {\n        dragEl.parentNode[expando]._isOutsideThisEl(evt.target); // Do not detect for empty insert if already inserted\n\n\n        !insertion && nearestEmptyInsertDetectEvent(evt);\n      }\n\n      !options.dragoverBubble && evt.stopPropagation && evt.stopPropagation();\n      return completedFired = true;\n    } // Call when dragEl has been inserted\n\n\n    function changed() {\n      newIndex = index(dragEl);\n      newDraggableIndex = index(dragEl, options.draggable);\n\n      _dispatchEvent({\n        sortable: _this,\n        name: 'change',\n        toEl: el,\n        newIndex: newIndex,\n        newDraggableIndex: newDraggableIndex,\n        originalEvent: evt\n      });\n    }\n\n    if (evt.preventDefault !== void 0) {\n      evt.cancelable && evt.preventDefault();\n    }\n\n    target = closest(target, options.draggable, el, true);\n    dragOverEvent('dragOver');\n    if (Sortable.eventCanceled) return completedFired;\n\n    if (dragEl.contains(evt.target) || target.animated && target.animatingX && target.animatingY || _this._ignoreWhileAnimating === target) {\n      return completed(false);\n    }\n\n    ignoreNextClick = false;\n\n    if (activeSortable && !options.disabled && (isOwner ? canSort || (revert = !rootEl.contains(dragEl)) // Reverting item into the original list\n    : putSortable === this || (this.lastPutMode = activeGroup.checkPull(this, activeSortable, dragEl, evt)) && group.checkPut(this, activeSortable, dragEl, evt))) {\n      vertical = this._getDirection(evt, target) === 'vertical';\n      dragRect = getRect(dragEl);\n      dragOverEvent('dragOverValid');\n      if (Sortable.eventCanceled) return completedFired;\n\n      if (revert) {\n        parentEl = rootEl; // actualization\n\n        capture();\n\n        this._hideClone();\n\n        dragOverEvent('revert');\n\n        if (!Sortable.eventCanceled) {\n          if (nextEl) {\n            rootEl.insertBefore(dragEl, nextEl);\n          } else {\n            rootEl.appendChild(dragEl);\n          }\n        }\n\n        return completed(true);\n      }\n\n      var elLastChild = lastChild(el, options.draggable);\n\n      if (!elLastChild || _ghostIsLast(evt, vertical, this) && !elLastChild.animated) {\n        // If already at end of list: Do not insert\n        if (elLastChild === dragEl) {\n          return completed(false);\n        } // assign target only if condition is true\n\n\n        if (elLastChild && el === evt.target) {\n          target = elLastChild;\n        }\n\n        if (target) {\n          targetRect = getRect(target);\n        }\n\n        if (_onMove(rootEl, el, dragEl, dragRect, target, targetRect, evt, !!target) !== false) {\n          capture();\n          el.appendChild(dragEl);\n          parentEl = el; // actualization\n\n          changed();\n          return completed(true);\n        }\n      } else if (target.parentNode === el) {\n        targetRect = getRect(target);\n        var direction = 0,\n            targetBeforeFirstSwap,\n            differentLevel = dragEl.parentNode !== el,\n            differentRowCol = !_dragElInRowColumn(dragEl.animated && dragEl.toRect || dragRect, target.animated && target.toRect || targetRect, vertical),\n            side1 = vertical ? 'top' : 'left',\n            scrolledPastTop = isScrolledPast(target, 'top', 'top') || isScrolledPast(dragEl, 'top', 'top'),\n            scrollBefore = scrolledPastTop ? scrolledPastTop.scrollTop : void 0;\n\n        if (lastTarget !== target) {\n          targetBeforeFirstSwap = targetRect[side1];\n          pastFirstInvertThresh = false;\n          isCircumstantialInvert = !differentRowCol && options.invertSwap || differentLevel;\n        }\n\n        direction = _getSwapDirection(evt, target, targetRect, vertical, differentRowCol ? 1 : options.swapThreshold, options.invertedSwapThreshold == null ? options.swapThreshold : options.invertedSwapThreshold, isCircumstantialInvert, lastTarget === target);\n        var sibling;\n\n        if (direction !== 0) {\n          // Check if target is beside dragEl in respective direction (ignoring hidden elements)\n          var dragIndex = index(dragEl);\n\n          do {\n            dragIndex -= direction;\n            sibling = parentEl.children[dragIndex];\n          } while (sibling && (css(sibling, 'display') === 'none' || sibling === ghostEl));\n        } // If dragEl is already beside target: Do not insert\n\n\n        if (direction === 0 || sibling === target) {\n          return completed(false);\n        }\n\n        lastTarget = target;\n        lastDirection = direction;\n        var nextSibling = target.nextElementSibling,\n            after = false;\n        after = direction === 1;\n\n        var moveVector = _onMove(rootEl, el, dragEl, dragRect, target, targetRect, evt, after);\n\n        if (moveVector !== false) {\n          if (moveVector === 1 || moveVector === -1) {\n            after = moveVector === 1;\n          }\n\n          _silent = true;\n          setTimeout(_unsilent, 30);\n          capture();\n\n          if (after && !nextSibling) {\n            el.appendChild(dragEl);\n          } else {\n            target.parentNode.insertBefore(dragEl, after ? nextSibling : target);\n          } // Undo chrome's scroll adjustment (has no effect on other browsers)\n\n\n          if (scrolledPastTop) {\n            scrollBy(scrolledPastTop, 0, scrollBefore - scrolledPastTop.scrollTop);\n          }\n\n          parentEl = dragEl.parentNode; // actualization\n          // must be done before animation\n\n          if (targetBeforeFirstSwap !== undefined && !isCircumstantialInvert) {\n            targetMoveDistance = Math.abs(targetBeforeFirstSwap - getRect(target)[side1]);\n          }\n\n          changed();\n          return completed(true);\n        }\n      }\n\n      if (el.contains(dragEl)) {\n        return completed(false);\n      }\n    }\n\n    return false;\n  },\n  _ignoreWhileAnimating: null,\n  _offMoveEvents: function _offMoveEvents() {\n    off(document, 'mousemove', this._onTouchMove);\n    off(document, 'touchmove', this._onTouchMove);\n    off(document, 'pointermove', this._onTouchMove);\n    off(document, 'dragover', nearestEmptyInsertDetectEvent);\n    off(document, 'mousemove', nearestEmptyInsertDetectEvent);\n    off(document, 'touchmove', nearestEmptyInsertDetectEvent);\n  },\n  _offUpEvents: function _offUpEvents() {\n    var ownerDocument = this.el.ownerDocument;\n    off(ownerDocument, 'mouseup', this._onDrop);\n    off(ownerDocument, 'touchend', this._onDrop);\n    off(ownerDocument, 'pointerup', this._onDrop);\n    off(ownerDocument, 'touchcancel', this._onDrop);\n    off(document, 'selectstart', this);\n  },\n  _onDrop: function _onDrop(\n  /**Event*/\n  evt) {\n    var el = this.el,\n        options = this.options; // Get the index of the dragged element within its parent\n\n    newIndex = index(dragEl);\n    newDraggableIndex = index(dragEl, options.draggable);\n    pluginEvent('drop', this, {\n      evt: evt\n    });\n    parentEl = dragEl && dragEl.parentNode; // Get again after plugin event\n\n    newIndex = index(dragEl);\n    newDraggableIndex = index(dragEl, options.draggable);\n\n    if (Sortable.eventCanceled) {\n      this._nulling();\n\n      return;\n    }\n\n    awaitingDragStarted = false;\n    isCircumstantialInvert = false;\n    pastFirstInvertThresh = false;\n    clearInterval(this._loopId);\n    clearTimeout(this._dragStartTimer);\n\n    _cancelNextTick(this.cloneId);\n\n    _cancelNextTick(this._dragStartId); // Unbind events\n\n\n    if (this.nativeDraggable) {\n      off(document, 'drop', this);\n      off(el, 'dragstart', this._onDragStart);\n    }\n\n    this._offMoveEvents();\n\n    this._offUpEvents();\n\n    if (Safari) {\n      css(document.body, 'user-select', '');\n    }\n\n    css(dragEl, 'transform', '');\n\n    if (evt) {\n      if (moved) {\n        evt.cancelable && evt.preventDefault();\n        !options.dropBubble && evt.stopPropagation();\n      }\n\n      ghostEl && ghostEl.parentNode && ghostEl.parentNode.removeChild(ghostEl);\n\n      if (rootEl === parentEl || putSortable && putSortable.lastPutMode !== 'clone') {\n        // Remove clone(s)\n        cloneEl && cloneEl.parentNode && cloneEl.parentNode.removeChild(cloneEl);\n      }\n\n      if (dragEl) {\n        if (this.nativeDraggable) {\n          off(dragEl, 'dragend', this);\n        }\n\n        _disableDraggable(dragEl);\n\n        dragEl.style['will-change'] = ''; // Remove classes\n        // ghostClass is added in dragStarted\n\n        if (moved && !awaitingDragStarted) {\n          toggleClass(dragEl, putSortable ? putSortable.options.ghostClass : this.options.ghostClass, false);\n        }\n\n        toggleClass(dragEl, this.options.chosenClass, false); // Drag stop event\n\n        _dispatchEvent({\n          sortable: this,\n          name: 'unchoose',\n          toEl: parentEl,\n          newIndex: null,\n          newDraggableIndex: null,\n          originalEvent: evt\n        });\n\n        if (rootEl !== parentEl) {\n          if (newIndex >= 0) {\n            // Add event\n            _dispatchEvent({\n              rootEl: parentEl,\n              name: 'add',\n              toEl: parentEl,\n              fromEl: rootEl,\n              originalEvent: evt\n            }); // Remove event\n\n\n            _dispatchEvent({\n              sortable: this,\n              name: 'remove',\n              toEl: parentEl,\n              originalEvent: evt\n            }); // drag from one list and drop into another\n\n\n            _dispatchEvent({\n              rootEl: parentEl,\n              name: 'sort',\n              toEl: parentEl,\n              fromEl: rootEl,\n              originalEvent: evt\n            });\n\n            _dispatchEvent({\n              sortable: this,\n              name: 'sort',\n              toEl: parentEl,\n              originalEvent: evt\n            });\n          }\n\n          putSortable && putSortable.save();\n        } else {\n          if (newIndex !== oldIndex) {\n            if (newIndex >= 0) {\n              // drag & drop within the same list\n              _dispatchEvent({\n                sortable: this,\n                name: 'update',\n                toEl: parentEl,\n                originalEvent: evt\n              });\n\n              _dispatchEvent({\n                sortable: this,\n                name: 'sort',\n                toEl: parentEl,\n                originalEvent: evt\n              });\n            }\n          }\n        }\n\n        if (Sortable.active) {\n          /* jshint eqnull:true */\n          if (newIndex == null || newIndex === -1) {\n            newIndex = oldIndex;\n            newDraggableIndex = oldDraggableIndex;\n          }\n\n          _dispatchEvent({\n            sortable: this,\n            name: 'end',\n            toEl: parentEl,\n            originalEvent: evt\n          }); // Save sorting\n\n\n          this.save();\n        }\n      }\n    }\n\n    this._nulling();\n  },\n  _nulling: function _nulling() {\n    pluginEvent('nulling', this);\n    rootEl = dragEl = parentEl = ghostEl = nextEl = cloneEl = lastDownEl = cloneHidden = tapEvt = touchEvt = moved = newIndex = newDraggableIndex = oldIndex = oldDraggableIndex = lastTarget = lastDirection = putSortable = activeGroup = Sortable.dragged = Sortable.ghost = Sortable.clone = Sortable.active = null;\n    savedInputChecked.forEach(function (el) {\n      el.checked = true;\n    });\n    savedInputChecked.length = lastDx = lastDy = 0;\n  },\n  handleEvent: function handleEvent(\n  /**Event*/\n  evt) {\n    switch (evt.type) {\n      case 'drop':\n      case 'dragend':\n        this._onDrop(evt);\n\n        break;\n\n      case 'dragenter':\n      case 'dragover':\n        if (dragEl) {\n          this._onDragOver(evt);\n\n          _globalDragOver(evt);\n        }\n\n        break;\n\n      case 'selectstart':\n        evt.preventDefault();\n        break;\n    }\n  },\n\n  /**\n   * Serializes the item into an array of string.\n   * @returns {String[]}\n   */\n  toArray: function toArray() {\n    var order = [],\n        el,\n        children = this.el.children,\n        i = 0,\n        n = children.length,\n        options = this.options;\n\n    for (; i < n; i++) {\n      el = children[i];\n\n      if (closest(el, options.draggable, this.el, false)) {\n        order.push(el.getAttribute(options.dataIdAttr) || _generateId(el));\n      }\n    }\n\n    return order;\n  },\n\n  /**\n   * Sorts the elements according to the array.\n   * @param  {String[]}  order  order of the items\n   */\n  sort: function sort(order) {\n    var items = {},\n        rootEl = this.el;\n    this.toArray().forEach(function (id, i) {\n      var el = rootEl.children[i];\n\n      if (closest(el, this.options.draggable, rootEl, false)) {\n        items[id] = el;\n      }\n    }, this);\n    order.forEach(function (id) {\n      if (items[id]) {\n        rootEl.removeChild(items[id]);\n        rootEl.appendChild(items[id]);\n      }\n    });\n  },\n\n  /**\n   * Save the current sorting\n   */\n  save: function save() {\n    var store = this.options.store;\n    store && store.set && store.set(this);\n  },\n\n  /**\n   * For each element in the set, get the first element that matches the selector by testing the element itself and traversing up through its ancestors in the DOM tree.\n   * @param   {HTMLElement}  el\n   * @param   {String}       [selector]  default: `options.draggable`\n   * @returns {HTMLElement|null}\n   */\n  closest: function closest$1(el, selector) {\n    return closest(el, selector || this.options.draggable, this.el, false);\n  },\n\n  /**\n   * Set/get option\n   * @param   {string} name\n   * @param   {*}      [value]\n   * @returns {*}\n   */\n  option: function option(name, value) {\n    var options = this.options;\n\n    if (value === void 0) {\n      return options[name];\n    } else {\n      var modifiedValue = PluginManager.modifyOption(this, name, value);\n\n      if (typeof modifiedValue !== 'undefined') {\n        options[name] = modifiedValue;\n      } else {\n        options[name] = value;\n      }\n\n      if (name === 'group') {\n        _prepareGroup(options);\n      }\n    }\n  },\n\n  /**\n   * Destroy\n   */\n  destroy: function destroy() {\n    pluginEvent('destroy', this);\n    var el = this.el;\n    el[expando] = null;\n    off(el, 'mousedown', this._onTapStart);\n    off(el, 'touchstart', this._onTapStart);\n    off(el, 'pointerdown', this._onTapStart);\n\n    if (this.nativeDraggable) {\n      off(el, 'dragover', this);\n      off(el, 'dragenter', this);\n    } // Remove draggable attributes\n\n\n    Array.prototype.forEach.call(el.querySelectorAll('[draggable]'), function (el) {\n      el.removeAttribute('draggable');\n    });\n\n    this._onDrop();\n\n    this._disableDelayedDragEvents();\n\n    sortables.splice(sortables.indexOf(this.el), 1);\n    this.el = el = null;\n  },\n  _hideClone: function _hideClone() {\n    if (!cloneHidden) {\n      pluginEvent('hideClone', this);\n      if (Sortable.eventCanceled) return;\n      css(cloneEl, 'display', 'none');\n\n      if (this.options.removeCloneOnHide && cloneEl.parentNode) {\n        cloneEl.parentNode.removeChild(cloneEl);\n      }\n\n      cloneHidden = true;\n    }\n  },\n  _showClone: function _showClone(putSortable) {\n    if (putSortable.lastPutMode !== 'clone') {\n      this._hideClone();\n\n      return;\n    }\n\n    if (cloneHidden) {\n      pluginEvent('showClone', this);\n      if (Sortable.eventCanceled) return; // show clone at dragEl or original position\n\n      if (rootEl.contains(dragEl) && !this.options.group.revertClone) {\n        rootEl.insertBefore(cloneEl, dragEl);\n      } else if (nextEl) {\n        rootEl.insertBefore(cloneEl, nextEl);\n      } else {\n        rootEl.appendChild(cloneEl);\n      }\n\n      if (this.options.group.revertClone) {\n        this.animate(dragEl, cloneEl);\n      }\n\n      css(cloneEl, 'display', '');\n      cloneHidden = false;\n    }\n  }\n};\n\nfunction _globalDragOver(\n/**Event*/\nevt) {\n  if (evt.dataTransfer) {\n    evt.dataTransfer.dropEffect = 'move';\n  }\n\n  evt.cancelable && evt.preventDefault();\n}\n\nfunction _onMove(fromEl, toEl, dragEl, dragRect, targetEl, targetRect, originalEvent, willInsertAfter) {\n  var evt,\n      sortable = fromEl[expando],\n      onMoveFn = sortable.options.onMove,\n      retVal; // Support for new CustomEvent feature\n\n  if (window.CustomEvent && !IE11OrLess && !Edge) {\n    evt = new CustomEvent('move', {\n      bubbles: true,\n      cancelable: true\n    });\n  } else {\n    evt = document.createEvent('Event');\n    evt.initEvent('move', true, true);\n  }\n\n  evt.to = toEl;\n  evt.from = fromEl;\n  evt.dragged = dragEl;\n  evt.draggedRect = dragRect;\n  evt.related = targetEl || toEl;\n  evt.relatedRect = targetRect || getRect(toEl);\n  evt.willInsertAfter = willInsertAfter;\n  evt.originalEvent = originalEvent;\n  fromEl.dispatchEvent(evt);\n\n  if (onMoveFn) {\n    retVal = onMoveFn.call(sortable, evt, originalEvent);\n  }\n\n  return retVal;\n}\n\nfunction _disableDraggable(el) {\n  el.draggable = false;\n}\n\nfunction _unsilent() {\n  _silent = false;\n}\n\nfunction _ghostIsLast(evt, vertical, sortable) {\n  var rect = getRect(lastChild(sortable.el, sortable.options.draggable));\n  var spacer = 10;\n  return vertical ? evt.clientX > rect.right + spacer || evt.clientX <= rect.right && evt.clientY > rect.bottom && evt.clientX >= rect.left : evt.clientX > rect.right && evt.clientY > rect.top || evt.clientX <= rect.right && evt.clientY > rect.bottom + spacer;\n}\n\nfunction _getSwapDirection(evt, target, targetRect, vertical, swapThreshold, invertedSwapThreshold, invertSwap, isLastTarget) {\n  var mouseOnAxis = vertical ? evt.clientY : evt.clientX,\n      targetLength = vertical ? targetRect.height : targetRect.width,\n      targetS1 = vertical ? targetRect.top : targetRect.left,\n      targetS2 = vertical ? targetRect.bottom : targetRect.right,\n      invert = false;\n\n  if (!invertSwap) {\n    // Never invert or create dragEl shadow when target movemenet causes mouse to move past the end of regular swapThreshold\n    if (isLastTarget && targetMoveDistance < targetLength * swapThreshold) {\n      // multiplied only by swapThreshold because mouse will already be inside target by (1 - threshold) * targetLength / 2\n      // check if past first invert threshold on side opposite of lastDirection\n      if (!pastFirstInvertThresh && (lastDirection === 1 ? mouseOnAxis > targetS1 + targetLength * invertedSwapThreshold / 2 : mouseOnAxis < targetS2 - targetLength * invertedSwapThreshold / 2)) {\n        // past first invert threshold, do not restrict inverted threshold to dragEl shadow\n        pastFirstInvertThresh = true;\n      }\n\n      if (!pastFirstInvertThresh) {\n        // dragEl shadow (target move distance shadow)\n        if (lastDirection === 1 ? mouseOnAxis < targetS1 + targetMoveDistance // over dragEl shadow\n        : mouseOnAxis > targetS2 - targetMoveDistance) {\n          return -lastDirection;\n        }\n      } else {\n        invert = true;\n      }\n    } else {\n      // Regular\n      if (mouseOnAxis > targetS1 + targetLength * (1 - swapThreshold) / 2 && mouseOnAxis < targetS2 - targetLength * (1 - swapThreshold) / 2) {\n        return _getInsertDirection(target);\n      }\n    }\n  }\n\n  invert = invert || invertSwap;\n\n  if (invert) {\n    // Invert of regular\n    if (mouseOnAxis < targetS1 + targetLength * invertedSwapThreshold / 2 || mouseOnAxis > targetS2 - targetLength * invertedSwapThreshold / 2) {\n      return mouseOnAxis > targetS1 + targetLength / 2 ? 1 : -1;\n    }\n  }\n\n  return 0;\n}\n/**\n * Gets the direction dragEl must be swapped relative to target in order to make it\n * seem that dragEl has been \"inserted\" into that element's position\n * @param  {HTMLElement} target       The target whose position dragEl is being inserted at\n * @return {Number}                   Direction dragEl must be swapped\n */\n\n\nfunction _getInsertDirection(target) {\n  if (index(dragEl) < index(target)) {\n    return 1;\n  } else {\n    return -1;\n  }\n}\n/**\n * Generate id\n * @param   {HTMLElement} el\n * @returns {String}\n * @private\n */\n\n\nfunction _generateId(el) {\n  var str = el.tagName + el.className + el.src + el.href + el.textContent,\n      i = str.length,\n      sum = 0;\n\n  while (i--) {\n    sum += str.charCodeAt(i);\n  }\n\n  return sum.toString(36);\n}\n\nfunction _saveInputCheckedState(root) {\n  savedInputChecked.length = 0;\n  var inputs = root.getElementsByTagName('input');\n  var idx = inputs.length;\n\n  while (idx--) {\n    var el = inputs[idx];\n    el.checked && savedInputChecked.push(el);\n  }\n}\n\nfunction _nextTick(fn) {\n  return setTimeout(fn, 0);\n}\n\nfunction _cancelNextTick(id) {\n  return clearTimeout(id);\n} // Fixed #973:\n\n\nif (documentExists) {\n  on(document, 'touchmove', function (evt) {\n    if ((Sortable.active || awaitingDragStarted) && evt.cancelable) {\n      evt.preventDefault();\n    }\n  });\n} // Export utils\n\n\nSortable.utils = {\n  on: on,\n  off: off,\n  css: css,\n  find: find,\n  is: function is(el, selector) {\n    return !!closest(el, selector, el, false);\n  },\n  extend: extend,\n  throttle: throttle,\n  closest: closest,\n  toggleClass: toggleClass,\n  clone: clone,\n  index: index,\n  nextTick: _nextTick,\n  cancelNextTick: _cancelNextTick,\n  detectDirection: _detectDirection,\n  getChild: getChild\n};\n/**\n * Get the Sortable instance of an element\n * @param  {HTMLElement} element The element\n * @return {Sortable|undefined}         The instance of Sortable\n */\n\nSortable.get = function (element) {\n  return element[expando];\n};\n/**\n * Mount a plugin to Sortable\n * @param  {...SortablePlugin|SortablePlugin[]} plugins       Plugins being mounted\n */\n\n\nSortable.mount = function () {\n  for (var _len = arguments.length, plugins = new Array(_len), _key = 0; _key < _len; _key++) {\n    plugins[_key] = arguments[_key];\n  }\n\n  if (plugins[0].constructor === Array) plugins = plugins[0];\n  plugins.forEach(function (plugin) {\n    if (!plugin.prototype || !plugin.prototype.constructor) {\n      throw \"Sortable: Mounted plugin must be a constructor function, not \".concat({}.toString.call(plugin));\n    }\n\n    if (plugin.utils) Sortable.utils = _objectSpread({}, Sortable.utils, plugin.utils);\n    PluginManager.mount(plugin);\n  });\n};\n/**\n * Create sortable instance\n * @param {HTMLElement}  el\n * @param {Object}      [options]\n */\n\n\nSortable.create = function (el, options) {\n  return new Sortable(el, options);\n}; // Export\n\n\nSortable.version = version;\nvar autoScrolls = [],\n    scrollEl,\n    scrollRootEl,\n    scrolling = false,\n    lastAutoScrollX,\n    lastAutoScrollY,\n    touchEvt$1,\n    pointerElemChangedInterval;\n\nfunction AutoScrollPlugin() {\n  function AutoScroll() {\n    this.defaults = {\n      scroll: true,\n      scrollSensitivity: 30,\n      scrollSpeed: 10,\n      bubbleScroll: true\n    }; // Bind all private methods\n\n    for (var fn in this) {\n      if (fn.charAt(0) === '_' && typeof this[fn] === 'function') {\n        this[fn] = this[fn].bind(this);\n      }\n    }\n  }\n\n  AutoScroll.prototype = {\n    dragStarted: function dragStarted(_ref) {\n      var originalEvent = _ref.originalEvent;\n\n      if (this.sortable.nativeDraggable) {\n        on(document, 'dragover', this._handleAutoScroll);\n      } else {\n        if (this.options.supportPointer) {\n          on(document, 'pointermove', this._handleFallbackAutoScroll);\n        } else if (originalEvent.touches) {\n          on(document, 'touchmove', this._handleFallbackAutoScroll);\n        } else {\n          on(document, 'mousemove', this._handleFallbackAutoScroll);\n        }\n      }\n    },\n    dragOverCompleted: function dragOverCompleted(_ref2) {\n      var originalEvent = _ref2.originalEvent; // For when bubbling is canceled and using fallback (fallback 'touchmove' always reached)\n\n      if (!this.options.dragOverBubble && !originalEvent.rootEl) {\n        this._handleAutoScroll(originalEvent);\n      }\n    },\n    drop: function drop() {\n      if (this.sortable.nativeDraggable) {\n        off(document, 'dragover', this._handleAutoScroll);\n      } else {\n        off(document, 'pointermove', this._handleFallbackAutoScroll);\n        off(document, 'touchmove', this._handleFallbackAutoScroll);\n        off(document, 'mousemove', this._handleFallbackAutoScroll);\n      }\n\n      clearPointerElemChangedInterval();\n      clearAutoScrolls();\n      cancelThrottle();\n    },\n    nulling: function nulling() {\n      touchEvt$1 = scrollRootEl = scrollEl = scrolling = pointerElemChangedInterval = lastAutoScrollX = lastAutoScrollY = null;\n      autoScrolls.length = 0;\n    },\n    _handleFallbackAutoScroll: function _handleFallbackAutoScroll(evt) {\n      this._handleAutoScroll(evt, true);\n    },\n    _handleAutoScroll: function _handleAutoScroll(evt, fallback) {\n      var _this = this;\n\n      var x = (evt.touches ? evt.touches[0] : evt).clientX,\n          y = (evt.touches ? evt.touches[0] : evt).clientY,\n          elem = document.elementFromPoint(x, y);\n      touchEvt$1 = evt; // IE does not seem to have native autoscroll,\n      // Edge's autoscroll seems too conditional,\n      // MACOS Safari does not have autoscroll,\n      // Firefox and Chrome are good\n\n      if (fallback || Edge || IE11OrLess || Safari) {\n        autoScroll(evt, this.options, elem, fallback); // Listener for pointer element change\n\n        var ogElemScroller = getParentAutoScrollElement(elem, true);\n\n        if (scrolling && (!pointerElemChangedInterval || x !== lastAutoScrollX || y !== lastAutoScrollY)) {\n          pointerElemChangedInterval && clearPointerElemChangedInterval(); // Detect for pointer elem change, emulating native DnD behaviour\n\n          pointerElemChangedInterval = setInterval(function () {\n            var newElem = getParentAutoScrollElement(document.elementFromPoint(x, y), true);\n\n            if (newElem !== ogElemScroller) {\n              ogElemScroller = newElem;\n              clearAutoScrolls();\n            }\n\n            autoScroll(evt, _this.options, newElem, fallback);\n          }, 10);\n          lastAutoScrollX = x;\n          lastAutoScrollY = y;\n        }\n      } else {\n        // if DnD is enabled (and browser has good autoscrolling), first autoscroll will already scroll, so get parent autoscroll of first autoscroll\n        if (!this.options.bubbleScroll || getParentAutoScrollElement(elem, true) === getWindowScrollingElement()) {\n          clearAutoScrolls();\n          return;\n        }\n\n        autoScroll(evt, this.options, getParentAutoScrollElement(elem, false), false);\n      }\n    }\n  };\n  return _extends(AutoScroll, {\n    pluginName: 'scroll',\n    initializeByDefault: true\n  });\n}\n\nfunction clearAutoScrolls() {\n  autoScrolls.forEach(function (autoScroll) {\n    clearInterval(autoScroll.pid);\n  });\n  autoScrolls = [];\n}\n\nfunction clearPointerElemChangedInterval() {\n  clearInterval(pointerElemChangedInterval);\n}\n\nvar autoScroll = throttle(function (evt, options, rootEl, isFallback) {\n  // Bug: https://bugzilla.mozilla.org/show_bug.cgi?id=505521\n  if (!options.scroll) return;\n  var x = (evt.touches ? evt.touches[0] : evt).clientX,\n      y = (evt.touches ? evt.touches[0] : evt).clientY,\n      sens = options.scrollSensitivity,\n      speed = options.scrollSpeed,\n      winScroller = getWindowScrollingElement();\n  var scrollThisInstance = false,\n      scrollCustomFn; // New scroll root, set scrollEl\n\n  if (scrollRootEl !== rootEl) {\n    scrollRootEl = rootEl;\n    clearAutoScrolls();\n    scrollEl = options.scroll;\n    scrollCustomFn = options.scrollFn;\n\n    if (scrollEl === true) {\n      scrollEl = getParentAutoScrollElement(rootEl, true);\n    }\n  }\n\n  var layersOut = 0;\n  var currentParent = scrollEl;\n\n  do {\n    var el = currentParent,\n        rect = getRect(el),\n        top = rect.top,\n        bottom = rect.bottom,\n        left = rect.left,\n        right = rect.right,\n        width = rect.width,\n        height = rect.height,\n        canScrollX = void 0,\n        canScrollY = void 0,\n        scrollWidth = el.scrollWidth,\n        scrollHeight = el.scrollHeight,\n        elCSS = css(el),\n        scrollPosX = el.scrollLeft,\n        scrollPosY = el.scrollTop;\n\n    if (el === winScroller) {\n      canScrollX = width < scrollWidth && (elCSS.overflowX === 'auto' || elCSS.overflowX === 'scroll' || elCSS.overflowX === 'visible');\n      canScrollY = height < scrollHeight && (elCSS.overflowY === 'auto' || elCSS.overflowY === 'scroll' || elCSS.overflowY === 'visible');\n    } else {\n      canScrollX = width < scrollWidth && (elCSS.overflowX === 'auto' || elCSS.overflowX === 'scroll');\n      canScrollY = height < scrollHeight && (elCSS.overflowY === 'auto' || elCSS.overflowY === 'scroll');\n    }\n\n    var vx = canScrollX && (Math.abs(right - x) <= sens && scrollPosX + width < scrollWidth) - (Math.abs(left - x) <= sens && !!scrollPosX);\n    var vy = canScrollY && (Math.abs(bottom - y) <= sens && scrollPosY + height < scrollHeight) - (Math.abs(top - y) <= sens && !!scrollPosY);\n\n    if (!autoScrolls[layersOut]) {\n      for (var i = 0; i <= layersOut; i++) {\n        if (!autoScrolls[i]) {\n          autoScrolls[i] = {};\n        }\n      }\n    }\n\n    if (autoScrolls[layersOut].vx != vx || autoScrolls[layersOut].vy != vy || autoScrolls[layersOut].el !== el) {\n      autoScrolls[layersOut].el = el;\n      autoScrolls[layersOut].vx = vx;\n      autoScrolls[layersOut].vy = vy;\n      clearInterval(autoScrolls[layersOut].pid);\n\n      if (vx != 0 || vy != 0) {\n        scrollThisInstance = true;\n        /* jshint loopfunc:true */\n\n        autoScrolls[layersOut].pid = setInterval(function () {\n          // emulate drag over during autoscroll (fallback), emulating native DnD behaviour\n          if (isFallback && this.layer === 0) {\n            Sortable.active._onTouchMove(touchEvt$1); // To move ghost if it is positioned absolutely\n\n          }\n\n          var scrollOffsetY = autoScrolls[this.layer].vy ? autoScrolls[this.layer].vy * speed : 0;\n          var scrollOffsetX = autoScrolls[this.layer].vx ? autoScrolls[this.layer].vx * speed : 0;\n\n          if (typeof scrollCustomFn === 'function') {\n            if (scrollCustomFn.call(Sortable.dragged.parentNode[expando], scrollOffsetX, scrollOffsetY, evt, touchEvt$1, autoScrolls[this.layer].el) !== 'continue') {\n              return;\n            }\n          }\n\n          scrollBy(autoScrolls[this.layer].el, scrollOffsetX, scrollOffsetY);\n        }.bind({\n          layer: layersOut\n        }), 24);\n      }\n    }\n\n    layersOut++;\n  } while (options.bubbleScroll && currentParent !== winScroller && (currentParent = getParentAutoScrollElement(currentParent, false)));\n\n  scrolling = scrollThisInstance; // in case another function catches scrolling as false in between when it is not\n}, 30);\n\nvar drop = function drop(_ref) {\n  var originalEvent = _ref.originalEvent,\n      putSortable = _ref.putSortable,\n      dragEl = _ref.dragEl,\n      activeSortable = _ref.activeSortable,\n      dispatchSortableEvent = _ref.dispatchSortableEvent,\n      hideGhostForTarget = _ref.hideGhostForTarget,\n      unhideGhostForTarget = _ref.unhideGhostForTarget;\n  if (!originalEvent) return;\n  var toSortable = putSortable || activeSortable;\n  hideGhostForTarget();\n  var touch = originalEvent.changedTouches && originalEvent.changedTouches.length ? originalEvent.changedTouches[0] : originalEvent;\n  var target = document.elementFromPoint(touch.clientX, touch.clientY);\n  unhideGhostForTarget();\n\n  if (toSortable && !toSortable.el.contains(target)) {\n    dispatchSortableEvent('spill');\n    this.onSpill({\n      dragEl: dragEl,\n      putSortable: putSortable\n    });\n  }\n};\n\nfunction Revert() {}\n\nRevert.prototype = {\n  startIndex: null,\n  dragStart: function dragStart(_ref2) {\n    var oldDraggableIndex = _ref2.oldDraggableIndex;\n    this.startIndex = oldDraggableIndex;\n  },\n  onSpill: function onSpill(_ref3) {\n    var dragEl = _ref3.dragEl,\n        putSortable = _ref3.putSortable;\n    this.sortable.captureAnimationState();\n\n    if (putSortable) {\n      putSortable.captureAnimationState();\n    }\n\n    var nextSibling = getChild(this.sortable.el, this.startIndex, this.options);\n\n    if (nextSibling) {\n      this.sortable.el.insertBefore(dragEl, nextSibling);\n    } else {\n      this.sortable.el.appendChild(dragEl);\n    }\n\n    this.sortable.animateAll();\n\n    if (putSortable) {\n      putSortable.animateAll();\n    }\n  },\n  drop: drop\n};\n\n_extends(Revert, {\n  pluginName: 'revertOnSpill'\n});\n\nfunction Remove() {}\n\nRemove.prototype = {\n  onSpill: function onSpill(_ref4) {\n    var dragEl = _ref4.dragEl,\n        putSortable = _ref4.putSortable;\n    var parentSortable = putSortable || this.sortable;\n    parentSortable.captureAnimationState();\n    dragEl.parentNode && dragEl.parentNode.removeChild(dragEl);\n    parentSortable.animateAll();\n  },\n  drop: drop\n};\n\n_extends(Remove, {\n  pluginName: 'removeOnSpill'\n});\n\nvar lastSwapEl;\n\nfunction SwapPlugin() {\n  function Swap() {\n    this.defaults = {\n      swapClass: 'sortable-swap-highlight'\n    };\n  }\n\n  Swap.prototype = {\n    dragStart: function dragStart(_ref) {\n      var dragEl = _ref.dragEl;\n      lastSwapEl = dragEl;\n    },\n    dragOverValid: function dragOverValid(_ref2) {\n      var completed = _ref2.completed,\n          target = _ref2.target,\n          onMove = _ref2.onMove,\n          activeSortable = _ref2.activeSortable,\n          changed = _ref2.changed,\n          cancel = _ref2.cancel;\n      if (!activeSortable.options.swap) return;\n      var el = this.sortable.el,\n          options = this.options;\n\n      if (target && target !== el) {\n        var prevSwapEl = lastSwapEl;\n\n        if (onMove(target) !== false) {\n          toggleClass(target, options.swapClass, true);\n          lastSwapEl = target;\n        } else {\n          lastSwapEl = null;\n        }\n\n        if (prevSwapEl && prevSwapEl !== lastSwapEl) {\n          toggleClass(prevSwapEl, options.swapClass, false);\n        }\n      }\n\n      changed();\n      completed(true);\n      cancel();\n    },\n    drop: function drop(_ref3) {\n      var activeSortable = _ref3.activeSortable,\n          putSortable = _ref3.putSortable,\n          dragEl = _ref3.dragEl;\n      var toSortable = putSortable || this.sortable;\n      var options = this.options;\n      lastSwapEl && toggleClass(lastSwapEl, options.swapClass, false);\n\n      if (lastSwapEl && (options.swap || putSortable && putSortable.options.swap)) {\n        if (dragEl !== lastSwapEl) {\n          toSortable.captureAnimationState();\n          if (toSortable !== activeSortable) activeSortable.captureAnimationState();\n          swapNodes(dragEl, lastSwapEl);\n          toSortable.animateAll();\n          if (toSortable !== activeSortable) activeSortable.animateAll();\n        }\n      }\n    },\n    nulling: function nulling() {\n      lastSwapEl = null;\n    }\n  };\n  return _extends(Swap, {\n    pluginName: 'swap',\n    eventProperties: function eventProperties() {\n      return {\n        swapItem: lastSwapEl\n      };\n    }\n  });\n}\n\nfunction swapNodes(n1, n2) {\n  var p1 = n1.parentNode,\n      p2 = n2.parentNode,\n      i1,\n      i2;\n  if (!p1 || !p2 || p1.isEqualNode(n2) || p2.isEqualNode(n1)) return;\n  i1 = index(n1);\n  i2 = index(n2);\n\n  if (p1.isEqualNode(p2) && i1 < i2) {\n    i2++;\n  }\n\n  p1.insertBefore(n2, p1.children[i1]);\n  p2.insertBefore(n1, p2.children[i2]);\n}\n\nvar multiDragElements = [],\n    multiDragClones = [],\n    lastMultiDragSelect,\n    // for selection with modifier key down (SHIFT)\nmultiDragSortable,\n    initialFolding = false,\n    // Initial multi-drag fold when drag started\nfolding = false,\n    // Folding any other time\ndragStarted = false,\n    dragEl$1,\n    clonesFromRect,\n    clonesHidden;\n\nfunction MultiDragPlugin() {\n  function MultiDrag(sortable) {\n    // Bind all private methods\n    for (var fn in this) {\n      if (fn.charAt(0) === '_' && typeof this[fn] === 'function') {\n        this[fn] = this[fn].bind(this);\n      }\n    }\n\n    if (sortable.options.supportPointer) {\n      on(document, 'pointerup', this._deselectMultiDrag);\n    } else {\n      on(document, 'mouseup', this._deselectMultiDrag);\n      on(document, 'touchend', this._deselectMultiDrag);\n    }\n\n    on(document, 'keydown', this._checkKeyDown);\n    on(document, 'keyup', this._checkKeyUp);\n    this.defaults = {\n      selectedClass: 'sortable-selected',\n      multiDragKey: null,\n      setData: function setData(dataTransfer, dragEl) {\n        var data = '';\n\n        if (multiDragElements.length && multiDragSortable === sortable) {\n          multiDragElements.forEach(function (multiDragElement, i) {\n            data += (!i ? '' : ', ') + multiDragElement.textContent;\n          });\n        } else {\n          data = dragEl.textContent;\n        }\n\n        dataTransfer.setData('Text', data);\n      }\n    };\n  }\n\n  MultiDrag.prototype = {\n    multiDragKeyDown: false,\n    isMultiDrag: false,\n    delayStartGlobal: function delayStartGlobal(_ref) {\n      var dragged = _ref.dragEl;\n      dragEl$1 = dragged;\n    },\n    delayEnded: function delayEnded() {\n      this.isMultiDrag = ~multiDragElements.indexOf(dragEl$1);\n    },\n    setupClone: function setupClone(_ref2) {\n      var sortable = _ref2.sortable,\n          cancel = _ref2.cancel;\n      if (!this.isMultiDrag) return;\n\n      for (var i = 0; i < multiDragElements.length; i++) {\n        multiDragClones.push(clone(multiDragElements[i]));\n        multiDragClones[i].sortableIndex = multiDragElements[i].sortableIndex;\n        multiDragClones[i].draggable = false;\n        multiDragClones[i].style['will-change'] = '';\n        toggleClass(multiDragClones[i], this.options.selectedClass, false);\n        multiDragElements[i] === dragEl$1 && toggleClass(multiDragClones[i], this.options.chosenClass, false);\n      }\n\n      sortable._hideClone();\n\n      cancel();\n    },\n    clone: function clone(_ref3) {\n      var sortable = _ref3.sortable,\n          rootEl = _ref3.rootEl,\n          dispatchSortableEvent = _ref3.dispatchSortableEvent,\n          cancel = _ref3.cancel;\n      if (!this.isMultiDrag) return;\n\n      if (!this.options.removeCloneOnHide) {\n        if (multiDragElements.length && multiDragSortable === sortable) {\n          insertMultiDragClones(true, rootEl);\n          dispatchSortableEvent('clone');\n          cancel();\n        }\n      }\n    },\n    showClone: function showClone(_ref4) {\n      var cloneNowShown = _ref4.cloneNowShown,\n          rootEl = _ref4.rootEl,\n          cancel = _ref4.cancel;\n      if (!this.isMultiDrag) return;\n      insertMultiDragClones(false, rootEl);\n      multiDragClones.forEach(function (clone) {\n        css(clone, 'display', '');\n      });\n      cloneNowShown();\n      clonesHidden = false;\n      cancel();\n    },\n    hideClone: function hideClone(_ref5) {\n      var _this = this;\n\n      var sortable = _ref5.sortable,\n          cloneNowHidden = _ref5.cloneNowHidden,\n          cancel = _ref5.cancel;\n      if (!this.isMultiDrag) return;\n      multiDragClones.forEach(function (clone) {\n        css(clone, 'display', 'none');\n\n        if (_this.options.removeCloneOnHide && clone.parentNode) {\n          clone.parentNode.removeChild(clone);\n        }\n      });\n      cloneNowHidden();\n      clonesHidden = true;\n      cancel();\n    },\n    dragStartGlobal: function dragStartGlobal(_ref6) {\n      var sortable = _ref6.sortable;\n\n      if (!this.isMultiDrag && multiDragSortable) {\n        multiDragSortable.multiDrag._deselectMultiDrag();\n      }\n\n      multiDragElements.forEach(function (multiDragElement) {\n        multiDragElement.sortableIndex = index(multiDragElement);\n      }); // Sort multi-drag elements\n\n      multiDragElements = multiDragElements.sort(function (a, b) {\n        return a.sortableIndex - b.sortableIndex;\n      });\n      dragStarted = true;\n    },\n    dragStarted: function dragStarted(_ref7) {\n      var _this2 = this;\n\n      var sortable = _ref7.sortable;\n      if (!this.isMultiDrag) return;\n\n      if (this.options.sort) {\n        // Capture rects,\n        // hide multi drag elements (by positioning them absolute),\n        // set multi drag elements rects to dragRect,\n        // show multi drag elements,\n        // animate to rects,\n        // unset rects & remove from DOM\n        sortable.captureAnimationState();\n\n        if (this.options.animation) {\n          multiDragElements.forEach(function (multiDragElement) {\n            if (multiDragElement === dragEl$1) return;\n            css(multiDragElement, 'position', 'absolute');\n          });\n          var dragRect = getRect(dragEl$1, false, true, true);\n          multiDragElements.forEach(function (multiDragElement) {\n            if (multiDragElement === dragEl$1) return;\n            setRect(multiDragElement, dragRect);\n          });\n          folding = true;\n          initialFolding = true;\n        }\n      }\n\n      sortable.animateAll(function () {\n        folding = false;\n        initialFolding = false;\n\n        if (_this2.options.animation) {\n          multiDragElements.forEach(function (multiDragElement) {\n            unsetRect(multiDragElement);\n          });\n        } // Remove all auxiliary multidrag items from el, if sorting enabled\n\n\n        if (_this2.options.sort) {\n          removeMultiDragElements();\n        }\n      });\n    },\n    dragOver: function dragOver(_ref8) {\n      var target = _ref8.target,\n          completed = _ref8.completed,\n          cancel = _ref8.cancel;\n\n      if (folding && ~multiDragElements.indexOf(target)) {\n        completed(false);\n        cancel();\n      }\n    },\n    revert: function revert(_ref9) {\n      var fromSortable = _ref9.fromSortable,\n          rootEl = _ref9.rootEl,\n          sortable = _ref9.sortable,\n          dragRect = _ref9.dragRect;\n\n      if (multiDragElements.length > 1) {\n        // Setup unfold animation\n        multiDragElements.forEach(function (multiDragElement) {\n          sortable.addAnimationState({\n            target: multiDragElement,\n            rect: folding ? getRect(multiDragElement) : dragRect\n          });\n          unsetRect(multiDragElement);\n          multiDragElement.fromRect = dragRect;\n          fromSortable.removeAnimationState(multiDragElement);\n        });\n        folding = false;\n        insertMultiDragElements(!this.options.removeCloneOnHide, rootEl);\n      }\n    },\n    dragOverCompleted: function dragOverCompleted(_ref10) {\n      var sortable = _ref10.sortable,\n          isOwner = _ref10.isOwner,\n          insertion = _ref10.insertion,\n          activeSortable = _ref10.activeSortable,\n          parentEl = _ref10.parentEl,\n          putSortable = _ref10.putSortable;\n      var options = this.options;\n\n      if (insertion) {\n        // Clones must be hidden before folding animation to capture dragRectAbsolute properly\n        if (isOwner) {\n          activeSortable._hideClone();\n        }\n\n        initialFolding = false; // If leaving sort:false root, or already folding - Fold to new location\n\n        if (options.animation && multiDragElements.length > 1 && (folding || !isOwner && !activeSortable.options.sort && !putSortable)) {\n          // Fold: Set all multi drag elements's rects to dragEl's rect when multi-drag elements are invisible\n          var dragRectAbsolute = getRect(dragEl$1, false, true, true);\n          multiDragElements.forEach(function (multiDragElement) {\n            if (multiDragElement === dragEl$1) return;\n            setRect(multiDragElement, dragRectAbsolute); // Move element(s) to end of parentEl so that it does not interfere with multi-drag clones insertion if they are inserted\n            // while folding, and so that we can capture them again because old sortable will no longer be fromSortable\n\n            parentEl.appendChild(multiDragElement);\n          });\n          folding = true;\n        } // Clones must be shown (and check to remove multi drags) after folding when interfering multiDragElements are moved out\n\n\n        if (!isOwner) {\n          // Only remove if not folding (folding will remove them anyways)\n          if (!folding) {\n            removeMultiDragElements();\n          }\n\n          if (multiDragElements.length > 1) {\n            var clonesHiddenBefore = clonesHidden;\n\n            activeSortable._showClone(sortable); // Unfold animation for clones if showing from hidden\n\n\n            if (activeSortable.options.animation && !clonesHidden && clonesHiddenBefore) {\n              multiDragClones.forEach(function (clone) {\n                activeSortable.addAnimationState({\n                  target: clone,\n                  rect: clonesFromRect\n                });\n                clone.fromRect = clonesFromRect;\n                clone.thisAnimationDuration = null;\n              });\n            }\n          } else {\n            activeSortable._showClone(sortable);\n          }\n        }\n      }\n    },\n    dragOverAnimationCapture: function dragOverAnimationCapture(_ref11) {\n      var dragRect = _ref11.dragRect,\n          isOwner = _ref11.isOwner,\n          activeSortable = _ref11.activeSortable;\n      multiDragElements.forEach(function (multiDragElement) {\n        multiDragElement.thisAnimationDuration = null;\n      });\n\n      if (activeSortable.options.animation && !isOwner && activeSortable.multiDrag.isMultiDrag) {\n        clonesFromRect = _extends({}, dragRect);\n        var dragMatrix = matrix(dragEl$1, true);\n        clonesFromRect.top -= dragMatrix.f;\n        clonesFromRect.left -= dragMatrix.e;\n      }\n    },\n    dragOverAnimationComplete: function dragOverAnimationComplete() {\n      if (folding) {\n        folding = false;\n        removeMultiDragElements();\n      }\n    },\n    drop: function drop(_ref12) {\n      var evt = _ref12.originalEvent,\n          rootEl = _ref12.rootEl,\n          parentEl = _ref12.parentEl,\n          sortable = _ref12.sortable,\n          dispatchSortableEvent = _ref12.dispatchSortableEvent,\n          oldIndex = _ref12.oldIndex,\n          putSortable = _ref12.putSortable;\n      var toSortable = putSortable || this.sortable;\n      if (!evt) return;\n      var options = this.options,\n          children = parentEl.children; // Multi-drag selection\n\n      if (!dragStarted) {\n        if (options.multiDragKey && !this.multiDragKeyDown) {\n          this._deselectMultiDrag();\n        }\n\n        toggleClass(dragEl$1, options.selectedClass, !~multiDragElements.indexOf(dragEl$1));\n\n        if (!~multiDragElements.indexOf(dragEl$1)) {\n          multiDragElements.push(dragEl$1);\n          dispatchEvent({\n            sortable: sortable,\n            rootEl: rootEl,\n            name: 'select',\n            targetEl: dragEl$1,\n            originalEvt: evt\n          }); // Modifier activated, select from last to dragEl\n\n          if (evt.shiftKey && lastMultiDragSelect && sortable.el.contains(lastMultiDragSelect)) {\n            var lastIndex = index(lastMultiDragSelect),\n                currentIndex = index(dragEl$1);\n\n            if (~lastIndex && ~currentIndex && lastIndex !== currentIndex) {\n              // Must include lastMultiDragSelect (select it), in case modified selection from no selection\n              // (but previous selection existed)\n              var n, i;\n\n              if (currentIndex > lastIndex) {\n                i = lastIndex;\n                n = currentIndex;\n              } else {\n                i = currentIndex;\n                n = lastIndex + 1;\n              }\n\n              for (; i < n; i++) {\n                if (~multiDragElements.indexOf(children[i])) continue;\n                toggleClass(children[i], options.selectedClass, true);\n                multiDragElements.push(children[i]);\n                dispatchEvent({\n                  sortable: sortable,\n                  rootEl: rootEl,\n                  name: 'select',\n                  targetEl: children[i],\n                  originalEvt: evt\n                });\n              }\n            }\n          } else {\n            lastMultiDragSelect = dragEl$1;\n          }\n\n          multiDragSortable = toSortable;\n        } else {\n          multiDragElements.splice(multiDragElements.indexOf(dragEl$1), 1);\n          lastMultiDragSelect = null;\n          dispatchEvent({\n            sortable: sortable,\n            rootEl: rootEl,\n            name: 'deselect',\n            targetEl: dragEl$1,\n            originalEvt: evt\n          });\n        }\n      } // Multi-drag drop\n\n\n      if (dragStarted && this.isMultiDrag) {\n        // Do not \"unfold\" after around dragEl if reverted\n        if ((parentEl[expando].options.sort || parentEl !== rootEl) && multiDragElements.length > 1) {\n          var dragRect = getRect(dragEl$1),\n              multiDragIndex = index(dragEl$1, ':not(.' + this.options.selectedClass + ')');\n          if (!initialFolding && options.animation) dragEl$1.thisAnimationDuration = null;\n          toSortable.captureAnimationState();\n\n          if (!initialFolding) {\n            if (options.animation) {\n              dragEl$1.fromRect = dragRect;\n              multiDragElements.forEach(function (multiDragElement) {\n                multiDragElement.thisAnimationDuration = null;\n\n                if (multiDragElement !== dragEl$1) {\n                  var rect = folding ? getRect(multiDragElement) : dragRect;\n                  multiDragElement.fromRect = rect; // Prepare unfold animation\n\n                  toSortable.addAnimationState({\n                    target: multiDragElement,\n                    rect: rect\n                  });\n                }\n              });\n            } // Multi drag elements are not necessarily removed from the DOM on drop, so to reinsert\n            // properly they must all be removed\n\n\n            removeMultiDragElements();\n            multiDragElements.forEach(function (multiDragElement) {\n              if (children[multiDragIndex]) {\n                parentEl.insertBefore(multiDragElement, children[multiDragIndex]);\n              } else {\n                parentEl.appendChild(multiDragElement);\n              }\n\n              multiDragIndex++;\n            }); // If initial folding is done, the elements may have changed position because they are now\n            // unfolding around dragEl, even though dragEl may not have his index changed, so update event\n            // must be fired here as Sortable will not.\n\n            if (oldIndex === index(dragEl$1)) {\n              var update = false;\n              multiDragElements.forEach(function (multiDragElement) {\n                if (multiDragElement.sortableIndex !== index(multiDragElement)) {\n                  update = true;\n                  return;\n                }\n              });\n\n              if (update) {\n                dispatchSortableEvent('update');\n              }\n            }\n          } // Must be done after capturing individual rects (scroll bar)\n\n\n          multiDragElements.forEach(function (multiDragElement) {\n            unsetRect(multiDragElement);\n          });\n          toSortable.animateAll();\n        }\n\n        multiDragSortable = toSortable;\n      } // Remove clones if necessary\n\n\n      if (rootEl === parentEl || putSortable && putSortable.lastPutMode !== 'clone') {\n        multiDragClones.forEach(function (clone) {\n          clone.parentNode && clone.parentNode.removeChild(clone);\n        });\n      }\n    },\n    nullingGlobal: function nullingGlobal() {\n      this.isMultiDrag = dragStarted = false;\n      multiDragClones.length = 0;\n    },\n    destroyGlobal: function destroyGlobal() {\n      this._deselectMultiDrag();\n\n      off(document, 'pointerup', this._deselectMultiDrag);\n      off(document, 'mouseup', this._deselectMultiDrag);\n      off(document, 'touchend', this._deselectMultiDrag);\n      off(document, 'keydown', this._checkKeyDown);\n      off(document, 'keyup', this._checkKeyUp);\n    },\n    _deselectMultiDrag: function _deselectMultiDrag(evt) {\n      if (typeof dragStarted !== \"undefined\" && dragStarted) return; // Only deselect if selection is in this sortable\n\n      if (multiDragSortable !== this.sortable) return; // Only deselect if target is not item in this sortable\n\n      if (evt && closest(evt.target, this.options.draggable, this.sortable.el, false)) return; // Only deselect if left click\n\n      if (evt && evt.button !== 0) return;\n\n      while (multiDragElements.length) {\n        var el = multiDragElements[0];\n        toggleClass(el, this.options.selectedClass, false);\n        multiDragElements.shift();\n        dispatchEvent({\n          sortable: this.sortable,\n          rootEl: this.sortable.el,\n          name: 'deselect',\n          targetEl: el,\n          originalEvt: evt\n        });\n      }\n    },\n    _checkKeyDown: function _checkKeyDown(evt) {\n      if (evt.key === this.options.multiDragKey) {\n        this.multiDragKeyDown = true;\n      }\n    },\n    _checkKeyUp: function _checkKeyUp(evt) {\n      if (evt.key === this.options.multiDragKey) {\n        this.multiDragKeyDown = false;\n      }\n    }\n  };\n  return _extends(MultiDrag, {\n    // Static methods & properties\n    pluginName: 'multiDrag',\n    utils: {\n      /**\r\n       * Selects the provided multi-drag item\r\n       * @param  {HTMLElement} el    The element to be selected\r\n       */\n      select: function select(el) {\n        var sortable = el.parentNode[expando];\n        if (!sortable || !sortable.options.multiDrag || ~multiDragElements.indexOf(el)) return;\n\n        if (multiDragSortable && multiDragSortable !== sortable) {\n          multiDragSortable.multiDrag._deselectMultiDrag();\n\n          multiDragSortable = sortable;\n        }\n\n        toggleClass(el, sortable.options.selectedClass, true);\n        multiDragElements.push(el);\n      },\n\n      /**\r\n       * Deselects the provided multi-drag item\r\n       * @param  {HTMLElement} el    The element to be deselected\r\n       */\n      deselect: function deselect(el) {\n        var sortable = el.parentNode[expando],\n            index = multiDragElements.indexOf(el);\n        if (!sortable || !sortable.options.multiDrag || !~index) return;\n        toggleClass(el, sortable.options.selectedClass, false);\n        multiDragElements.splice(index, 1);\n      }\n    },\n    eventProperties: function eventProperties() {\n      var _this3 = this;\n\n      var oldIndicies = [],\n          newIndicies = [];\n      multiDragElements.forEach(function (multiDragElement) {\n        oldIndicies.push({\n          multiDragElement: multiDragElement,\n          index: multiDragElement.sortableIndex\n        }); // multiDragElements will already be sorted if folding\n\n        var newIndex;\n\n        if (folding && multiDragElement !== dragEl$1) {\n          newIndex = -1;\n        } else if (folding) {\n          newIndex = index(multiDragElement, ':not(.' + _this3.options.selectedClass + ')');\n        } else {\n          newIndex = index(multiDragElement);\n        }\n\n        newIndicies.push({\n          multiDragElement: multiDragElement,\n          index: newIndex\n        });\n      });\n      return {\n        items: _toConsumableArray(multiDragElements),\n        clones: [].concat(multiDragClones),\n        oldIndicies: oldIndicies,\n        newIndicies: newIndicies\n      };\n    },\n    optionListeners: {\n      multiDragKey: function multiDragKey(key) {\n        key = key.toLowerCase();\n\n        if (key === 'ctrl') {\n          key = 'Control';\n        } else if (key.length > 1) {\n          key = key.charAt(0).toUpperCase() + key.substr(1);\n        }\n\n        return key;\n      }\n    }\n  });\n}\n\nfunction insertMultiDragElements(clonesInserted, rootEl) {\n  multiDragElements.forEach(function (multiDragElement, i) {\n    var target = rootEl.children[multiDragElement.sortableIndex + (clonesInserted ? Number(i) : 0)];\n\n    if (target) {\n      rootEl.insertBefore(multiDragElement, target);\n    } else {\n      rootEl.appendChild(multiDragElement);\n    }\n  });\n}\n/**\r\n * Insert multi-drag clones\r\n * @param  {[Boolean]} elementsInserted  Whether the multi-drag elements are inserted\r\n * @param  {HTMLElement} rootEl\r\n */\n\n\nfunction insertMultiDragClones(elementsInserted, rootEl) {\n  multiDragClones.forEach(function (clone, i) {\n    var target = rootEl.children[clone.sortableIndex + (elementsInserted ? Number(i) : 0)];\n\n    if (target) {\n      rootEl.insertBefore(clone, target);\n    } else {\n      rootEl.appendChild(clone);\n    }\n  });\n}\n\nfunction removeMultiDragElements() {\n  multiDragElements.forEach(function (multiDragElement) {\n    if (multiDragElement === dragEl$1) return;\n    multiDragElement.parentNode && multiDragElement.parentNode.removeChild(multiDragElement);\n  });\n}\n\nSortable.mount(new AutoScrollPlugin());\nSortable.mount(Remove, Revert);\nexport default Sortable;\nexport { MultiDragPlugin as MultiDrag, Sortable, SwapPlugin as Swap };","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nimport SparkMD5 from \"spark-md5\";\nvar fileSlice = File.prototype.slice || File.prototype.mozSlice || File.prototype.webkitSlice;\nexport var FileChecksum = /*#__PURE__*/function () {\n  _createClass(FileChecksum, null, [{\n    key: \"create\",\n    value: function create(file, callback) {\n      var instance = new FileChecksum(file);\n      instance.create(callback);\n    }\n  }]);\n\n  function FileChecksum(file) {\n    _classCallCheck(this, FileChecksum);\n\n    this.file = file;\n    this.chunkSize = 2097152; // 2MB\n\n    this.chunkCount = Math.ceil(this.file.size / this.chunkSize);\n    this.chunkIndex = 0;\n  }\n\n  _createClass(FileChecksum, [{\n    key: \"create\",\n    value: function create(callback) {\n      var _this = this;\n\n      this.callback = callback;\n      this.md5Buffer = new SparkMD5.ArrayBuffer();\n      this.fileReader = new FileReader();\n      this.fileReader.addEventListener(\"load\", function (event) {\n        return _this.fileReaderDidLoad(event);\n      });\n      this.fileReader.addEventListener(\"error\", function (event) {\n        return _this.fileReaderDidError(event);\n      });\n      this.readNextChunk();\n    }\n  }, {\n    key: \"fileReaderDidLoad\",\n    value: function fileReaderDidLoad(event) {\n      this.md5Buffer.append(event.target.result);\n\n      if (!this.readNextChunk()) {\n        var binaryDigest = this.md5Buffer.end(true);\n        var base64digest = btoa(binaryDigest);\n        this.callback(null, base64digest);\n      }\n    }\n  }, {\n    key: \"fileReaderDidError\",\n    value: function fileReaderDidError(event) {\n      this.callback(\"Error reading \".concat(this.file.name));\n    }\n  }, {\n    key: \"readNextChunk\",\n    value: function readNextChunk() {\n      if (this.chunkIndex < this.chunkCount || this.chunkIndex == 0 && this.chunkCount == 0) {\n        var start = this.chunkIndex * this.chunkSize;\n        var end = Math.min(start + this.chunkSize, this.file.size);\n        var bytes = fileSlice.call(this.file, start, end);\n        this.fileReader.readAsArrayBuffer(bytes);\n        this.chunkIndex++;\n        return true;\n      } else {\n        return false;\n      }\n    }\n  }]);\n\n  return FileChecksum;\n}();","export function getMetaValue(name) {\n  var element = findElement(document.head, \"meta[name=\\\"\".concat(name, \"\\\"]\"));\n\n  if (element) {\n    return element.getAttribute(\"content\");\n  }\n}\nexport function findElements(root, selector) {\n  if (typeof root == \"string\") {\n    selector = root;\n    root = document;\n  }\n\n  var elements = root.querySelectorAll(selector);\n  return toArray(elements);\n}\nexport function findElement(root, selector) {\n  if (typeof root == \"string\") {\n    selector = root;\n    root = document;\n  }\n\n  return root.querySelector(selector);\n}\nexport function dispatchEvent(element, type) {\n  var eventInit = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var disabled = element.disabled;\n  var bubbles = eventInit.bubbles,\n      cancelable = eventInit.cancelable,\n      detail = eventInit.detail;\n  var event = document.createEvent(\"Event\");\n  event.initEvent(type, bubbles || true, cancelable || true);\n  event.detail = detail || {};\n\n  try {\n    element.disabled = false;\n    element.dispatchEvent(event);\n  } finally {\n    element.disabled = disabled;\n  }\n\n  return event;\n}\nexport function toArray(value) {\n  if (Array.isArray(value)) {\n    return value;\n  } else if (Array.from) {\n    return Array.from(value);\n  } else {\n    return [].slice.call(value);\n  }\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nimport { getMetaValue } from \"./helpers\";\nexport var BlobRecord = /*#__PURE__*/function () {\n  function BlobRecord(file, checksum, url) {\n    var _this = this;\n\n    _classCallCheck(this, BlobRecord);\n\n    this.file = file;\n    this.attributes = {\n      filename: file.name,\n      content_type: file.type,\n      byte_size: file.size,\n      checksum: checksum\n    };\n    this.xhr = new XMLHttpRequest();\n    this.xhr.open(\"POST\", url, true);\n    this.xhr.responseType = \"json\";\n    this.xhr.setRequestHeader(\"Content-Type\", \"application/json\");\n    this.xhr.setRequestHeader(\"Accept\", \"application/json\");\n    this.xhr.setRequestHeader(\"X-Requested-With\", \"XMLHttpRequest\");\n    var csrfToken = getMetaValue(\"csrf-token\");\n\n    if (csrfToken != undefined) {\n      this.xhr.setRequestHeader(\"X-CSRF-Token\", csrfToken);\n    }\n\n    this.xhr.addEventListener(\"load\", function (event) {\n      return _this.requestDidLoad(event);\n    });\n    this.xhr.addEventListener(\"error\", function (event) {\n      return _this.requestDidError(event);\n    });\n  }\n\n  _createClass(BlobRecord, [{\n    key: \"create\",\n    value: function create(callback) {\n      this.callback = callback;\n      this.xhr.send(JSON.stringify({\n        blob: this.attributes\n      }));\n    }\n  }, {\n    key: \"requestDidLoad\",\n    value: function requestDidLoad(event) {\n      if (this.status >= 200 && this.status < 300) {\n        var response = this.response;\n        var direct_upload = response.direct_upload;\n        delete response.direct_upload;\n        this.attributes = response;\n        this.directUploadData = direct_upload;\n        this.callback(null, this.toJSON());\n      } else {\n        this.requestDidError(event);\n      }\n    }\n  }, {\n    key: \"requestDidError\",\n    value: function requestDidError(event) {\n      this.callback(\"Error creating Blob for \\\"\".concat(this.file.name, \"\\\". Status: \").concat(this.status));\n    }\n  }, {\n    key: \"toJSON\",\n    value: function toJSON() {\n      var result = {};\n\n      for (var key in this.attributes) {\n        result[key] = this.attributes[key];\n      }\n\n      return result;\n    }\n  }, {\n    key: \"status\",\n    get: function get() {\n      return this.xhr.status;\n    }\n  }, {\n    key: \"response\",\n    get: function get() {\n      var _this$xhr = this.xhr,\n          responseType = _this$xhr.responseType,\n          response = _this$xhr.response;\n\n      if (responseType == \"json\") {\n        return response;\n      } else {\n        // Shim for IE 11: https://connect.microsoft.com/IE/feedback/details/794808\n        return JSON.parse(response);\n      }\n    }\n  }]);\n\n  return BlobRecord;\n}();","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nexport var BlobUpload = /*#__PURE__*/function () {\n  function BlobUpload(blob) {\n    var _this = this;\n\n    _classCallCheck(this, BlobUpload);\n\n    this.blob = blob;\n    this.file = blob.file;\n    var _blob$directUploadDat = blob.directUploadData,\n        url = _blob$directUploadDat.url,\n        headers = _blob$directUploadDat.headers;\n    this.xhr = new XMLHttpRequest();\n    this.xhr.open(\"PUT\", url, true);\n    this.xhr.responseType = \"text\";\n\n    for (var key in headers) {\n      this.xhr.setRequestHeader(key, headers[key]);\n    }\n\n    this.xhr.addEventListener(\"load\", function (event) {\n      return _this.requestDidLoad(event);\n    });\n    this.xhr.addEventListener(\"error\", function (event) {\n      return _this.requestDidError(event);\n    });\n  }\n\n  _createClass(BlobUpload, [{\n    key: \"create\",\n    value: function create(callback) {\n      this.callback = callback;\n      this.xhr.send(this.file.slice());\n    }\n  }, {\n    key: \"requestDidLoad\",\n    value: function requestDidLoad(event) {\n      var _this$xhr = this.xhr,\n          status = _this$xhr.status,\n          response = _this$xhr.response;\n\n      if (status >= 200 && status < 300) {\n        this.callback(null, response);\n      } else {\n        this.requestDidError(event);\n      }\n    }\n  }, {\n    key: \"requestDidError\",\n    value: function requestDidError(event) {\n      this.callback(\"Error storing \\\"\".concat(this.file.name, \"\\\". Status: \").concat(this.xhr.status));\n    }\n  }]);\n\n  return BlobUpload;\n}();","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nimport { FileChecksum } from \"./file_checksum\";\nimport { BlobRecord } from \"./blob_record\";\nimport { BlobUpload } from \"./blob_upload\";\nvar id = 0;\nexport var DirectUpload = /*#__PURE__*/function () {\n  function DirectUpload(file, url, delegate) {\n    _classCallCheck(this, DirectUpload);\n\n    this.id = ++id;\n    this.file = file;\n    this.url = url;\n    this.delegate = delegate;\n  }\n\n  _createClass(DirectUpload, [{\n    key: \"create\",\n    value: function create(callback) {\n      var _this = this;\n\n      FileChecksum.create(this.file, function (error, checksum) {\n        if (error) {\n          callback(error);\n          return;\n        }\n\n        var blob = new BlobRecord(_this.file, checksum, _this.url);\n        notify(_this.delegate, \"directUploadWillCreateBlobWithXHR\", blob.xhr);\n        blob.create(function (error) {\n          if (error) {\n            callback(error);\n          } else {\n            var upload = new BlobUpload(blob);\n            notify(_this.delegate, \"directUploadWillStoreFileWithXHR\", upload.xhr);\n            upload.create(function (error) {\n              if (error) {\n                callback(error);\n              } else {\n                callback(null, blob.toJSON());\n              }\n            });\n          }\n        });\n      });\n    }\n  }]);\n\n  return DirectUpload;\n}();\n\nfunction notify(object, methodName) {\n  if (object && typeof object[methodName] == \"function\") {\n    for (var _len = arguments.length, messages = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n      messages[_key - 2] = arguments[_key];\n    }\n\n    return object[methodName].apply(object, messages);\n  }\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nimport { DirectUpload } from \"./direct_upload\";\nimport { dispatchEvent } from \"./helpers\";\nexport var DirectUploadController = /*#__PURE__*/function () {\n  function DirectUploadController(input, file) {\n    _classCallCheck(this, DirectUploadController);\n\n    this.input = input;\n    this.file = file;\n    this.directUpload = new DirectUpload(this.file, this.url, this);\n    this.dispatch(\"initialize\");\n  }\n\n  _createClass(DirectUploadController, [{\n    key: \"start\",\n    value: function start(callback) {\n      var _this = this;\n\n      var hiddenInput = document.createElement(\"input\");\n      hiddenInput.type = \"hidden\";\n      hiddenInput.name = this.input.name;\n      this.input.insertAdjacentElement(\"beforebegin\", hiddenInput);\n      this.dispatch(\"start\");\n      this.directUpload.create(function (error, attributes) {\n        if (error) {\n          hiddenInput.parentNode.removeChild(hiddenInput);\n\n          _this.dispatchError(error);\n        } else {\n          hiddenInput.value = attributes.signed_id;\n        }\n\n        _this.dispatch(\"end\");\n\n        callback(error);\n      });\n    }\n  }, {\n    key: \"uploadRequestDidProgress\",\n    value: function uploadRequestDidProgress(event) {\n      var progress = event.loaded / event.total * 100;\n\n      if (progress) {\n        this.dispatch(\"progress\", {\n          progress: progress\n        });\n      }\n    }\n  }, {\n    key: \"dispatch\",\n    value: function dispatch(name) {\n      var detail = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      detail.file = this.file;\n      detail.id = this.directUpload.id;\n      return dispatchEvent(this.input, \"direct-upload:\".concat(name), {\n        detail: detail\n      });\n    }\n  }, {\n    key: \"dispatchError\",\n    value: function dispatchError(error) {\n      var event = this.dispatch(\"error\", {\n        error: error\n      });\n\n      if (!event.defaultPrevented) {\n        alert(error);\n      }\n    } // DirectUpload delegate\n\n  }, {\n    key: \"directUploadWillCreateBlobWithXHR\",\n    value: function directUploadWillCreateBlobWithXHR(xhr) {\n      this.dispatch(\"before-blob-request\", {\n        xhr: xhr\n      });\n    }\n  }, {\n    key: \"directUploadWillStoreFileWithXHR\",\n    value: function directUploadWillStoreFileWithXHR(xhr) {\n      var _this2 = this;\n\n      this.dispatch(\"before-storage-request\", {\n        xhr: xhr\n      });\n      xhr.upload.addEventListener(\"progress\", function (event) {\n        return _this2.uploadRequestDidProgress(event);\n      });\n    }\n  }, {\n    key: \"url\",\n    get: function get() {\n      return this.input.getAttribute(\"data-direct-upload-url\");\n    }\n  }]);\n\n  return DirectUploadController;\n}();","import { DirectUploadController } from '@rails/activestorage/src/direct_upload_controller'\nimport { Controller } from 'stimulus'\n\n// <input type=\"file\" data-controller=\"picture\">\nclass PictureController extends Controller {\n  static targets = ['src', 'filename', 'preview', 'uploadDiv']\n\n  connect() {\n    console.log('Picture Controller works!')\n  }\n\n  /*\n  * <input type=\"file\" data-action=\"picture#upload\">\n  **/\n  upload(event) {\n    let input = event.currentTarget\n    let button = input.form.querySelector('input[type=submit], button[type=submit]')\n    input.disabled = true\n    button.disabled = true\n    Array.from(input.files).forEach(file => {\n      this.filenameTarget.innerText = file.name\n      // todo file is image\n      this.previewFile(file)\n      let controller = new DirectUploadController(input, file)\n      if (controller) {\n        controller.start(error => {\n          if (error) {\n            input.disabled = false\n            callback(error)\n            this.dispatch('end')\n          }\n          button.disabled = false\n        })\n      }\n    })\n  }\n\n  dropFile(event) {\n    event.preventDefault()\n    event.stopPropagation()\n    for (var i = 0; i < event.dataTransfer.files.length; i++) {\n      var file = e.dataTransfer.files[i]\n      console.log(file.name)\n    }\n  }\n\n  pasteFile(event) {\n    var result = false,\n      clipboardData = event.clipboardData,\n      items\n\n    if (typeof clipboardData === 'object') {\n      items = clipboardData.items || clipboardData.files || []\n\n      for (var i = 0; i < items.length; i++) {\n        var item = items[i]\n        console.log(item)\n      }\n    }\n\n    if (result) { event.preventDefault() }\n  }\n\n  previewFile(file) {\n    let template = this.previewTarget\n    let cloned = template.cloneNode(true)\n    cloned.style.display = 'block'\n\n    let img = cloned.querySelector('img')\n    img.src = window.URL.createObjectURL(file) //object URL\n    img.onload = function(e) {\n      console.log(e)\n      window.URL.revokeObjectURL(img.src) //object URL\n    }\n\n    template.after(cloned)\n  }\n\n  removePreview(event) {\n    event.currentTarget.parentNode.parentNode.style.display = 'none'\n    let up = this.uploadDivTarget\n    let input = up.querySelector('input[type=file]')\n    up.style.display = 'block'\n    input.disabled = false\n  }\n\n}\n\napplication.register('picture', PictureController)\n","import './base'\nimport './checkbox'\nimport './input'\nimport './menu'\nimport './navbar'\nimport './picture'\n\n// dependent on sortable\nimport './sortable'\n\n// Dependent on Bulma CSS\nimport './modal'\n","/*\nUnobtrusive JavaScript\nhttps://github.com/rails/rails/blob/master/actionview/app/assets/javascripts\nReleased under the MIT license\n */;\n\n(function() {\n  var context = this;\n\n  (function() {\n    (function() {\n      this.Rails = {\n        linkClickSelector: 'a[data-confirm], a[data-method], a[data-remote]:not([disabled]), a[data-disable-with], a[data-disable]',\n        buttonClickSelector: {\n          selector: 'button[data-remote]:not([form]), button[data-confirm]:not([form])',\n          exclude: 'form button'\n        },\n        inputChangeSelector: 'select[data-remote], input[data-remote], textarea[data-remote]',\n        formSubmitSelector: 'form',\n        formInputClickSelector: 'form input[type=submit], form input[type=image], form button[type=submit], form button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])',\n        formDisableSelector: 'input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled',\n        formEnableSelector: 'input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled',\n        fileInputSelector: 'input[name][type=file]:not([disabled])',\n        linkDisableSelector: 'a[data-disable-with], a[data-disable]',\n        buttonDisableSelector: 'button[data-remote][data-disable-with], button[data-remote][data-disable]'\n      };\n\n    }).call(this);\n  }).call(context);\n\n  var Rails = context.Rails;\n\n  (function() {\n    (function() {\n      var nonce;\n\n      nonce = null;\n\n      Rails.loadCSPNonce = function() {\n        var ref;\n        return nonce = (ref = document.querySelector(\"meta[name=csp-nonce]\")) != null ? ref.content : void 0;\n      };\n\n      Rails.cspNonce = function() {\n        return nonce != null ? nonce : Rails.loadCSPNonce();\n      };\n\n    }).call(this);\n    (function() {\n      var expando, m;\n\n      m = Element.prototype.matches || Element.prototype.matchesSelector || Element.prototype.mozMatchesSelector || Element.prototype.msMatchesSelector || Element.prototype.oMatchesSelector || Element.prototype.webkitMatchesSelector;\n\n      Rails.matches = function(element, selector) {\n        if (selector.exclude != null) {\n          return m.call(element, selector.selector) && !m.call(element, selector.exclude);\n        } else {\n          return m.call(element, selector);\n        }\n      };\n\n      expando = '_ujsData';\n\n      Rails.getData = function(element, key) {\n        var ref;\n        return (ref = element[expando]) != null ? ref[key] : void 0;\n      };\n\n      Rails.setData = function(element, key, value) {\n        if (element[expando] == null) {\n          element[expando] = {};\n        }\n        return element[expando][key] = value;\n      };\n\n      Rails.$ = function(selector) {\n        return Array.prototype.slice.call(document.querySelectorAll(selector));\n      };\n\n    }).call(this);\n    (function() {\n      var $, csrfParam, csrfToken;\n\n      $ = Rails.$;\n\n      csrfToken = Rails.csrfToken = function() {\n        var meta;\n        meta = document.querySelector('meta[name=csrf-token]');\n        return meta && meta.content;\n      };\n\n      csrfParam = Rails.csrfParam = function() {\n        var meta;\n        meta = document.querySelector('meta[name=csrf-param]');\n        return meta && meta.content;\n      };\n\n      Rails.CSRFProtection = function(xhr) {\n        var token;\n        token = csrfToken();\n        if (token != null) {\n          return xhr.setRequestHeader('X-CSRF-Token', token);\n        }\n      };\n\n      Rails.refreshCSRFTokens = function() {\n        var param, token;\n        token = csrfToken();\n        param = csrfParam();\n        if ((token != null) && (param != null)) {\n          return $('form input[name=\"' + param + '\"]').forEach(function(input) {\n            return input.value = token;\n          });\n        }\n      };\n\n    }).call(this);\n    (function() {\n      var CustomEvent, fire, matches, preventDefault;\n\n      matches = Rails.matches;\n\n      CustomEvent = window.CustomEvent;\n\n      if (typeof CustomEvent !== 'function') {\n        CustomEvent = function(event, params) {\n          var evt;\n          evt = document.createEvent('CustomEvent');\n          evt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);\n          return evt;\n        };\n        CustomEvent.prototype = window.Event.prototype;\n        preventDefault = CustomEvent.prototype.preventDefault;\n        CustomEvent.prototype.preventDefault = function() {\n          var result;\n          result = preventDefault.call(this);\n          if (this.cancelable && !this.defaultPrevented) {\n            Object.defineProperty(this, 'defaultPrevented', {\n              get: function() {\n                return true;\n              }\n            });\n          }\n          return result;\n        };\n      }\n\n      fire = Rails.fire = function(obj, name, data) {\n        var event;\n        event = new CustomEvent(name, {\n          bubbles: true,\n          cancelable: true,\n          detail: data\n        });\n        obj.dispatchEvent(event);\n        return !event.defaultPrevented;\n      };\n\n      Rails.stopEverything = function(e) {\n        fire(e.target, 'ujs:everythingStopped');\n        e.preventDefault();\n        e.stopPropagation();\n        return e.stopImmediatePropagation();\n      };\n\n      Rails.delegate = function(element, selector, eventType, handler) {\n        return element.addEventListener(eventType, function(e) {\n          var target;\n          target = e.target;\n          while (!(!(target instanceof Element) || matches(target, selector))) {\n            target = target.parentNode;\n          }\n          if (target instanceof Element && handler.call(target, e) === false) {\n            e.preventDefault();\n            return e.stopPropagation();\n          }\n        });\n      };\n\n    }).call(this);\n    (function() {\n      var AcceptHeaders, CSRFProtection, createXHR, cspNonce, fire, prepareOptions, processResponse;\n\n      cspNonce = Rails.cspNonce, CSRFProtection = Rails.CSRFProtection, fire = Rails.fire;\n\n      AcceptHeaders = {\n        '*': '*/*',\n        text: 'text/plain',\n        html: 'text/html',\n        xml: 'application/xml, text/xml',\n        json: 'application/json, text/javascript',\n        script: 'text/javascript, application/javascript, application/ecmascript, application/x-ecmascript'\n      };\n\n      Rails.ajax = function(options) {\n        var xhr;\n        options = prepareOptions(options);\n        xhr = createXHR(options, function() {\n          var ref, response;\n          response = processResponse((ref = xhr.response) != null ? ref : xhr.responseText, xhr.getResponseHeader('Content-Type'));\n          if (Math.floor(xhr.status / 100) === 2) {\n            if (typeof options.success === \"function\") {\n              options.success(response, xhr.statusText, xhr);\n            }\n          } else {\n            if (typeof options.error === \"function\") {\n              options.error(response, xhr.statusText, xhr);\n            }\n          }\n          return typeof options.complete === \"function\" ? options.complete(xhr, xhr.statusText) : void 0;\n        });\n        if ((options.beforeSend != null) && !options.beforeSend(xhr, options)) {\n          return false;\n        }\n        if (xhr.readyState === XMLHttpRequest.OPENED) {\n          return xhr.send(options.data);\n        }\n      };\n\n      prepareOptions = function(options) {\n        options.url = options.url || location.href;\n        options.type = options.type.toUpperCase();\n        if (options.type === 'GET' && options.data) {\n          if (options.url.indexOf('?') < 0) {\n            options.url += '?' + options.data;\n          } else {\n            options.url += '&' + options.data;\n          }\n        }\n        if (AcceptHeaders[options.dataType] == null) {\n          options.dataType = '*';\n        }\n        options.accept = AcceptHeaders[options.dataType];\n        if (options.dataType !== '*') {\n          options.accept += ', */*; q=0.01';\n        }\n        return options;\n      };\n\n      createXHR = function(options, done) {\n        var xhr;\n        xhr = new XMLHttpRequest();\n        xhr.open(options.type, options.url, true);\n        xhr.setRequestHeader('Accept', options.accept);\n        if (typeof options.data === 'string') {\n          xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded; charset=UTF-8');\n        }\n        if (!options.crossDomain) {\n          xhr.setRequestHeader('X-Requested-With', 'XMLHttpRequest');\n        }\n        CSRFProtection(xhr);\n        xhr.withCredentials = !!options.withCredentials;\n        xhr.onreadystatechange = function() {\n          if (xhr.readyState === XMLHttpRequest.DONE) {\n            return done(xhr);\n          }\n        };\n        return xhr;\n      };\n\n      processResponse = function(response, type) {\n        var parser, script;\n        if (typeof response === 'string' && typeof type === 'string') {\n          if (type.match(/\\bjson\\b/)) {\n            try {\n              response = JSON.parse(response);\n            } catch (error) {}\n          } else if (type.match(/\\b(?:java|ecma)script\\b/)) {\n            script = document.createElement('script');\n            script.setAttribute('nonce', cspNonce());\n            script.text = response;\n            document.head.appendChild(script).parentNode.removeChild(script);\n          } else if (type.match(/\\b(xml|html|svg)\\b/)) {\n            parser = new DOMParser();\n            type = type.replace(/;.+/, '');\n            try {\n              response = parser.parseFromString(response, type);\n            } catch (error) {}\n          }\n        }\n        return response;\n      };\n\n      Rails.href = function(element) {\n        return element.href;\n      };\n\n      Rails.isCrossDomain = function(url) {\n        var e, originAnchor, urlAnchor;\n        originAnchor = document.createElement('a');\n        originAnchor.href = location.href;\n        urlAnchor = document.createElement('a');\n        try {\n          urlAnchor.href = url;\n          return !(((!urlAnchor.protocol || urlAnchor.protocol === ':') && !urlAnchor.host) || (originAnchor.protocol + '//' + originAnchor.host === urlAnchor.protocol + '//' + urlAnchor.host));\n        } catch (error) {\n          e = error;\n          return true;\n        }\n      };\n\n    }).call(this);\n    (function() {\n      var matches, toArray;\n\n      matches = Rails.matches;\n\n      toArray = function(e) {\n        return Array.prototype.slice.call(e);\n      };\n\n      Rails.serializeElement = function(element, additionalParam) {\n        var inputs, params;\n        inputs = [element];\n        if (matches(element, 'form')) {\n          inputs = toArray(element.elements);\n        }\n        params = [];\n        inputs.forEach(function(input) {\n          if (!input.name || input.disabled) {\n            return;\n          }\n          if (matches(input, 'fieldset[disabled] *')) {\n            return;\n          }\n          if (matches(input, 'select')) {\n            return toArray(input.options).forEach(function(option) {\n              if (option.selected) {\n                return params.push({\n                  name: input.name,\n                  value: option.value\n                });\n              }\n            });\n          } else if (input.checked || ['radio', 'checkbox', 'submit'].indexOf(input.type) === -1) {\n            return params.push({\n              name: input.name,\n              value: input.value\n            });\n          }\n        });\n        if (additionalParam) {\n          params.push(additionalParam);\n        }\n        return params.map(function(param) {\n          if (param.name != null) {\n            return (encodeURIComponent(param.name)) + \"=\" + (encodeURIComponent(param.value));\n          } else {\n            return param;\n          }\n        }).join('&');\n      };\n\n      Rails.formElements = function(form, selector) {\n        if (matches(form, 'form')) {\n          return toArray(form.elements).filter(function(el) {\n            return matches(el, selector);\n          });\n        } else {\n          return toArray(form.querySelectorAll(selector));\n        }\n      };\n\n    }).call(this);\n    (function() {\n      var allowAction, fire, stopEverything;\n\n      fire = Rails.fire, stopEverything = Rails.stopEverything;\n\n      Rails.handleConfirm = function(e) {\n        if (!allowAction(this)) {\n          return stopEverything(e);\n        }\n      };\n\n      Rails.confirm = function(message, element) {\n        return confirm(message);\n      };\n\n      allowAction = function(element) {\n        var answer, callback, message;\n        message = element.getAttribute('data-confirm');\n        if (!message) {\n          return true;\n        }\n        answer = false;\n        if (fire(element, 'confirm')) {\n          try {\n            answer = Rails.confirm(message, element);\n          } catch (error) {}\n          callback = fire(element, 'confirm:complete', [answer]);\n        }\n        return answer && callback;\n      };\n\n    }).call(this);\n    (function() {\n      var disableFormElement, disableFormElements, disableLinkElement, enableFormElement, enableFormElements, enableLinkElement, formElements, getData, isXhrRedirect, matches, setData, stopEverything;\n\n      matches = Rails.matches, getData = Rails.getData, setData = Rails.setData, stopEverything = Rails.stopEverything, formElements = Rails.formElements;\n\n      Rails.handleDisabledElement = function(e) {\n        var element;\n        element = this;\n        if (element.disabled) {\n          return stopEverything(e);\n        }\n      };\n\n      Rails.enableElement = function(e) {\n        var element;\n        if (e instanceof Event) {\n          if (isXhrRedirect(e)) {\n            return;\n          }\n          element = e.target;\n        } else {\n          element = e;\n        }\n        if (matches(element, Rails.linkDisableSelector)) {\n          return enableLinkElement(element);\n        } else if (matches(element, Rails.buttonDisableSelector) || matches(element, Rails.formEnableSelector)) {\n          return enableFormElement(element);\n        } else if (matches(element, Rails.formSubmitSelector)) {\n          return enableFormElements(element);\n        }\n      };\n\n      Rails.disableElement = function(e) {\n        var element;\n        element = e instanceof Event ? e.target : e;\n        if (matches(element, Rails.linkDisableSelector)) {\n          return disableLinkElement(element);\n        } else if (matches(element, Rails.buttonDisableSelector) || matches(element, Rails.formDisableSelector)) {\n          return disableFormElement(element);\n        } else if (matches(element, Rails.formSubmitSelector)) {\n          return disableFormElements(element);\n        }\n      };\n\n      disableLinkElement = function(element) {\n        var replacement;\n        if (getData(element, 'ujs:disabled')) {\n          return;\n        }\n        replacement = element.getAttribute('data-disable-with');\n        if (replacement != null) {\n          setData(element, 'ujs:enable-with', element.innerHTML);\n          element.innerHTML = replacement;\n        }\n        element.addEventListener('click', stopEverything);\n        return setData(element, 'ujs:disabled', true);\n      };\n\n      enableLinkElement = function(element) {\n        var originalText;\n        originalText = getData(element, 'ujs:enable-with');\n        if (originalText != null) {\n          element.innerHTML = originalText;\n          setData(element, 'ujs:enable-with', null);\n        }\n        element.removeEventListener('click', stopEverything);\n        return setData(element, 'ujs:disabled', null);\n      };\n\n      disableFormElements = function(form) {\n        return formElements(form, Rails.formDisableSelector).forEach(disableFormElement);\n      };\n\n      disableFormElement = function(element) {\n        var replacement;\n        if (getData(element, 'ujs:disabled')) {\n          return;\n        }\n        replacement = element.getAttribute('data-disable-with');\n        if (replacement != null) {\n          if (matches(element, 'button')) {\n            setData(element, 'ujs:enable-with', element.innerHTML);\n            element.innerHTML = replacement;\n          } else {\n            setData(element, 'ujs:enable-with', element.value);\n            element.value = replacement;\n          }\n        }\n        element.disabled = true;\n        return setData(element, 'ujs:disabled', true);\n      };\n\n      enableFormElements = function(form) {\n        return formElements(form, Rails.formEnableSelector).forEach(enableFormElement);\n      };\n\n      enableFormElement = function(element) {\n        var originalText;\n        originalText = getData(element, 'ujs:enable-with');\n        if (originalText != null) {\n          if (matches(element, 'button')) {\n            element.innerHTML = originalText;\n          } else {\n            element.value = originalText;\n          }\n          setData(element, 'ujs:enable-with', null);\n        }\n        element.disabled = false;\n        return setData(element, 'ujs:disabled', null);\n      };\n\n      isXhrRedirect = function(event) {\n        var ref, xhr;\n        xhr = (ref = event.detail) != null ? ref[0] : void 0;\n        return (xhr != null ? xhr.getResponseHeader(\"X-Xhr-Redirect\") : void 0) != null;\n      };\n\n    }).call(this);\n    (function() {\n      var stopEverything;\n\n      stopEverything = Rails.stopEverything;\n\n      Rails.handleMethod = function(e) {\n        var csrfParam, csrfToken, form, formContent, href, link, method;\n        link = this;\n        method = link.getAttribute('data-method');\n        if (!method) {\n          return;\n        }\n        href = Rails.href(link);\n        csrfToken = Rails.csrfToken();\n        csrfParam = Rails.csrfParam();\n        form = document.createElement('form');\n        formContent = \"<input name='_method' value='\" + method + \"' type='hidden' />\";\n        if ((csrfParam != null) && (csrfToken != null) && !Rails.isCrossDomain(href)) {\n          formContent += \"<input name='\" + csrfParam + \"' value='\" + csrfToken + \"' type='hidden' />\";\n        }\n        formContent += '<input type=\"submit\" />';\n        form.method = 'post';\n        form.action = href;\n        form.target = link.target;\n        form.innerHTML = formContent;\n        form.style.display = 'none';\n        document.body.appendChild(form);\n        form.querySelector('[type=\"submit\"]').click();\n        return stopEverything(e);\n      };\n\n    }).call(this);\n    (function() {\n      var ajax, fire, getData, isCrossDomain, isRemote, matches, serializeElement, setData, stopEverything,\n        slice = [].slice;\n\n      matches = Rails.matches, getData = Rails.getData, setData = Rails.setData, fire = Rails.fire, stopEverything = Rails.stopEverything, ajax = Rails.ajax, isCrossDomain = Rails.isCrossDomain, serializeElement = Rails.serializeElement;\n\n      isRemote = function(element) {\n        var value;\n        value = element.getAttribute('data-remote');\n        return (value != null) && value !== 'false';\n      };\n\n      Rails.handleRemote = function(e) {\n        var button, data, dataType, element, method, url, withCredentials;\n        element = this;\n        if (!isRemote(element)) {\n          return true;\n        }\n        if (!fire(element, 'ajax:before')) {\n          fire(element, 'ajax:stopped');\n          return false;\n        }\n        withCredentials = element.getAttribute('data-with-credentials');\n        dataType = element.getAttribute('data-type') || 'script';\n        if (matches(element, Rails.formSubmitSelector)) {\n          button = getData(element, 'ujs:submit-button');\n          method = getData(element, 'ujs:submit-button-formmethod') || element.method;\n          url = getData(element, 'ujs:submit-button-formaction') || element.getAttribute('action') || location.href;\n          if (method.toUpperCase() === 'GET') {\n            url = url.replace(/\\?.*$/, '');\n          }\n          if (element.enctype === 'multipart/form-data') {\n            data = new FormData(element);\n            if (button != null) {\n              data.append(button.name, button.value);\n            }\n          } else {\n            data = serializeElement(element, button);\n          }\n          setData(element, 'ujs:submit-button', null);\n          setData(element, 'ujs:submit-button-formmethod', null);\n          setData(element, 'ujs:submit-button-formaction', null);\n        } else if (matches(element, Rails.buttonClickSelector) || matches(element, Rails.inputChangeSelector)) {\n          method = element.getAttribute('data-method');\n          url = element.getAttribute('data-url');\n          data = serializeElement(element, element.getAttribute('data-params'));\n        } else {\n          method = element.getAttribute('data-method');\n          url = Rails.href(element);\n          data = element.getAttribute('data-params');\n        }\n        ajax({\n          type: method || 'GET',\n          url: url,\n          data: data,\n          dataType: dataType,\n          beforeSend: function(xhr, options) {\n            if (fire(element, 'ajax:beforeSend', [xhr, options])) {\n              return fire(element, 'ajax:send', [xhr]);\n            } else {\n              fire(element, 'ajax:stopped');\n              return false;\n            }\n          },\n          success: function() {\n            var args;\n            args = 1 <= arguments.length ? slice.call(arguments, 0) : [];\n            return fire(element, 'ajax:success', args);\n          },\n          error: function() {\n            var args;\n            args = 1 <= arguments.length ? slice.call(arguments, 0) : [];\n            return fire(element, 'ajax:error', args);\n          },\n          complete: function() {\n            var args;\n            args = 1 <= arguments.length ? slice.call(arguments, 0) : [];\n            return fire(element, 'ajax:complete', args);\n          },\n          crossDomain: isCrossDomain(url),\n          withCredentials: (withCredentials != null) && withCredentials !== 'false'\n        });\n        return stopEverything(e);\n      };\n\n      Rails.formSubmitButtonClick = function(e) {\n        var button, form;\n        button = this;\n        form = button.form;\n        if (!form) {\n          return;\n        }\n        if (button.name) {\n          setData(form, 'ujs:submit-button', {\n            name: button.name,\n            value: button.value\n          });\n        }\n        setData(form, 'ujs:formnovalidate-button', button.formNoValidate);\n        setData(form, 'ujs:submit-button-formaction', button.getAttribute('formaction'));\n        return setData(form, 'ujs:submit-button-formmethod', button.getAttribute('formmethod'));\n      };\n\n      Rails.preventInsignificantClick = function(e) {\n        var data, insignificantMetaClick, link, metaClick, method, nonPrimaryMouseClick;\n        link = this;\n        method = (link.getAttribute('data-method') || 'GET').toUpperCase();\n        data = link.getAttribute('data-params');\n        metaClick = e.metaKey || e.ctrlKey;\n        insignificantMetaClick = metaClick && method === 'GET' && !data;\n        nonPrimaryMouseClick = (e.button != null) && e.button !== 0;\n        if (nonPrimaryMouseClick || insignificantMetaClick) {\n          return e.stopImmediatePropagation();\n        }\n      };\n\n    }).call(this);\n    (function() {\n      var $, CSRFProtection, delegate, disableElement, enableElement, fire, formSubmitButtonClick, getData, handleConfirm, handleDisabledElement, handleMethod, handleRemote, loadCSPNonce, preventInsignificantClick, refreshCSRFTokens;\n\n      fire = Rails.fire, delegate = Rails.delegate, getData = Rails.getData, $ = Rails.$, refreshCSRFTokens = Rails.refreshCSRFTokens, CSRFProtection = Rails.CSRFProtection, loadCSPNonce = Rails.loadCSPNonce, enableElement = Rails.enableElement, disableElement = Rails.disableElement, handleDisabledElement = Rails.handleDisabledElement, handleConfirm = Rails.handleConfirm, preventInsignificantClick = Rails.preventInsignificantClick, handleRemote = Rails.handleRemote, formSubmitButtonClick = Rails.formSubmitButtonClick, handleMethod = Rails.handleMethod;\n\n      if ((typeof jQuery !== \"undefined\" && jQuery !== null) && (jQuery.ajax != null)) {\n        if (jQuery.rails) {\n          throw new Error('If you load both jquery_ujs and rails-ujs, use rails-ujs only.');\n        }\n        jQuery.rails = Rails;\n        jQuery.ajaxPrefilter(function(options, originalOptions, xhr) {\n          if (!options.crossDomain) {\n            return CSRFProtection(xhr);\n          }\n        });\n      }\n\n      Rails.start = function() {\n        if (window._rails_loaded) {\n          throw new Error('rails-ujs has already been loaded!');\n        }\n        window.addEventListener('pageshow', function() {\n          $(Rails.formEnableSelector).forEach(function(el) {\n            if (getData(el, 'ujs:disabled')) {\n              return enableElement(el);\n            }\n          });\n          return $(Rails.linkDisableSelector).forEach(function(el) {\n            if (getData(el, 'ujs:disabled')) {\n              return enableElement(el);\n            }\n          });\n        });\n        delegate(document, Rails.linkDisableSelector, 'ajax:complete', enableElement);\n        delegate(document, Rails.linkDisableSelector, 'ajax:stopped', enableElement);\n        delegate(document, Rails.buttonDisableSelector, 'ajax:complete', enableElement);\n        delegate(document, Rails.buttonDisableSelector, 'ajax:stopped', enableElement);\n        delegate(document, Rails.linkClickSelector, 'click', preventInsignificantClick);\n        delegate(document, Rails.linkClickSelector, 'click', handleDisabledElement);\n        delegate(document, Rails.linkClickSelector, 'click', handleConfirm);\n        delegate(document, Rails.linkClickSelector, 'click', disableElement);\n        delegate(document, Rails.linkClickSelector, 'click', handleRemote);\n        delegate(document, Rails.linkClickSelector, 'click', handleMethod);\n        delegate(document, Rails.buttonClickSelector, 'click', preventInsignificantClick);\n        delegate(document, Rails.buttonClickSelector, 'click', handleDisabledElement);\n        delegate(document, Rails.buttonClickSelector, 'click', handleConfirm);\n        delegate(document, Rails.buttonClickSelector, 'click', disableElement);\n        delegate(document, Rails.buttonClickSelector, 'click', handleRemote);\n        delegate(document, Rails.inputChangeSelector, 'change', handleDisabledElement);\n        delegate(document, Rails.inputChangeSelector, 'change', handleConfirm);\n        delegate(document, Rails.inputChangeSelector, 'change', handleRemote);\n        delegate(document, Rails.formSubmitSelector, 'submit', handleDisabledElement);\n        delegate(document, Rails.formSubmitSelector, 'submit', handleConfirm);\n        delegate(document, Rails.formSubmitSelector, 'submit', handleRemote);\n        delegate(document, Rails.formSubmitSelector, 'submit', function(e) {\n          return setTimeout((function() {\n            return disableElement(e);\n          }), 13);\n        });\n        delegate(document, Rails.formSubmitSelector, 'ajax:send', disableElement);\n        delegate(document, Rails.formSubmitSelector, 'ajax:complete', enableElement);\n        delegate(document, Rails.formInputClickSelector, 'click', preventInsignificantClick);\n        delegate(document, Rails.formInputClickSelector, 'click', handleDisabledElement);\n        delegate(document, Rails.formInputClickSelector, 'click', handleConfirm);\n        delegate(document, Rails.formInputClickSelector, 'click', formSubmitButtonClick);\n        document.addEventListener('DOMContentLoaded', refreshCSRFTokens);\n        document.addEventListener('DOMContentLoaded', loadCSPNonce);\n        return window._rails_loaded = true;\n      };\n\n      if (window.Rails === Rails && fire(document, 'rails:attachBindings')) {\n        Rails.start();\n      }\n\n    }).call(this);\n  }).call(this);\n\n  if (typeof module === \"object\" && module.exports) {\n    module.exports = Rails;\n  } else if (typeof define === \"function\" && define.amd) {\n    define(Rails);\n  }\n}).call(this);\n","module.exports = global[\"remote_js_load\"] = require(\"-!./remote_js_load.js\")[\"default\"];","import Rails from '@rails/ujs'\n\nexport default function remote_js_load(paths) {\n  if (Array.isArray(paths)) {\n    for (let i = 0; i < paths.length; i++) {\n      Rails.ajax({url: paths[i], type: 'GET', dataType: 'script'})\n    }\n  } else if (typeof(paths) === 'string' && paths.length > 0) {\n    Rails.ajax({url: paths, type: 'GET', dataType: 'script'})\n  }\n}\n","var Location =\n/** @class */\nfunction () {\n  function Location(url) {\n    var linkWithAnchor = document.createElement(\"a\");\n    linkWithAnchor.href = url;\n    this.absoluteURL = linkWithAnchor.href;\n    var anchorLength = linkWithAnchor.hash.length;\n\n    if (anchorLength < 2) {\n      this.requestURL = this.absoluteURL;\n    } else {\n      this.requestURL = this.absoluteURL.slice(0, -anchorLength);\n      this.anchor = linkWithAnchor.hash.slice(1);\n    }\n  }\n\n  Object.defineProperty(Location, \"currentLocation\", {\n    get: function get() {\n      return this.wrap(window.location.toString());\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  Location.wrap = function (locatable) {\n    if (typeof locatable == \"string\") {\n      return new this(locatable);\n    } else if (locatable != null) {\n      return locatable;\n    }\n  };\n\n  Location.prototype.getOrigin = function () {\n    return this.absoluteURL.split(\"/\", 3).join(\"/\");\n  };\n\n  Location.prototype.getPath = function () {\n    return (this.requestURL.match(/\\/\\/[^/]*(\\/[^?;]*)/) || [])[1] || \"/\";\n  };\n\n  Location.prototype.getPathComponents = function () {\n    return this.getPath().split(\"/\").slice(1);\n  };\n\n  Location.prototype.getLastPathComponent = function () {\n    return this.getPathComponents().slice(-1)[0];\n  };\n\n  Location.prototype.getExtension = function () {\n    return (this.getLastPathComponent().match(/\\.[^.]*$/) || [])[0] || \"\";\n  };\n\n  Location.prototype.isHTML = function () {\n    return this.getExtension().match(/^(?:|\\.(?:htm|html|xhtml))$/);\n  };\n\n  Location.prototype.isPrefixedBy = function (location) {\n    var prefixURL = getPrefixURL(location);\n    return this.isEqualTo(location) || stringStartsWith(this.absoluteURL, prefixURL);\n  };\n\n  Location.prototype.isEqualTo = function (location) {\n    return location && this.absoluteURL === location.absoluteURL;\n  };\n\n  Location.prototype.toCacheKey = function () {\n    return this.requestURL;\n  };\n\n  Location.prototype.toJSON = function () {\n    return this.absoluteURL;\n  };\n\n  Location.prototype.toString = function () {\n    return this.absoluteURL;\n  };\n\n  Location.prototype.valueOf = function () {\n    return this.absoluteURL;\n  };\n\n  return Location;\n}();\n\nexport { Location };\n\nfunction getPrefixURL(location) {\n  return addTrailingSlash(location.getOrigin() + location.getPath());\n}\n\nfunction addTrailingSlash(url) {\n  return stringEndsWith(url, \"/\") ? url : url + \"/\";\n}\n\nfunction stringStartsWith(string, prefix) {\n  return string.slice(0, prefix.length) === prefix;\n}\n\nfunction stringEndsWith(string, suffix) {\n  return string.slice(-suffix.length) === suffix;\n}","export function array(values) {\n  return Array.prototype.slice.call(values);\n}\nexport var closest = function () {\n  var html = document.documentElement;\n  var match = html.matches || html.webkitMatchesSelector || html.msMatchesSelector || html.mozMatchesSelector;\n\n  var closest = html.closest || function (selector) {\n    var element = this;\n\n    while (element) {\n      if (match.call(element, selector)) {\n        return element;\n      } else {\n        element = element.parentElement;\n      }\n    }\n  };\n\n  return function (element, selector) {\n    return closest.call(element, selector);\n  };\n}();\nexport function defer(callback) {\n  setTimeout(callback, 1);\n}\nexport function dispatch(eventName, _a) {\n  var _b = _a === void 0 ? {} : _a,\n      target = _b.target,\n      cancelable = _b.cancelable,\n      data = _b.data;\n\n  var event = document.createEvent(\"Events\");\n  event.initEvent(eventName, true, cancelable == true);\n  event.data = data || {}; // Fix setting `defaultPrevented` when `preventDefault()` is called\n  // http://stackoverflow.com/questions/23349191/event-preventdefault-is-not-working-in-ie-11-for-custom-events\n\n  if (event.cancelable && !preventDefaultSupported) {\n    var preventDefault_1 = event.preventDefault;\n\n    event.preventDefault = function () {\n      if (!this.defaultPrevented) {\n        Object.defineProperty(this, \"defaultPrevented\", {\n          get: function get() {\n            return true;\n          }\n        });\n      }\n\n      preventDefault_1.call(this);\n    };\n  }\n\n  (target || document).dispatchEvent(event);\n  return event;\n}\n\nvar preventDefaultSupported = function () {\n  var event = document.createEvent(\"Events\");\n  event.initEvent(\"test\", true, true);\n  event.preventDefault();\n  return event.defaultPrevented;\n}();\n\nexport function unindent(strings) {\n  var values = [];\n\n  for (var _i = 1; _i < arguments.length; _i++) {\n    values[_i - 1] = arguments[_i];\n  }\n\n  var lines = trimLeft(interpolate(strings, values)).split(\"\\n\");\n  var match = lines[0].match(/^\\s+/);\n  var indent = match ? match[0].length : 0;\n  return lines.map(function (line) {\n    return line.slice(indent);\n  }).join(\"\\n\");\n}\n\nfunction trimLeft(string) {\n  return string.replace(/^\\n/, \"\");\n}\n\nfunction interpolate(strings, values) {\n  return strings.reduce(function (result, string, i) {\n    var value = values[i] == undefined ? \"\" : values[i];\n    return result + string + value;\n  }, \"\");\n}\n\nexport function uuid() {\n  return Array.apply(null, {\n    length: 36\n  }).map(function (_, i) {\n    if (i == 8 || i == 13 || i == 18 || i == 23) {\n      return \"-\";\n    } else if (i == 14) {\n      return \"4\";\n    } else if (i == 19) {\n      return (Math.floor(Math.random() * 4) + 8).toString(16);\n    } else {\n      return Math.floor(Math.random() * 15).toString(16);\n    }\n  }).join(\"\");\n}","import { Location } from \"./location\";\nimport { dispatch } from \"./util\";\nexport var SystemStatusCode;\n\n(function (SystemStatusCode) {\n  SystemStatusCode[SystemStatusCode[\"networkFailure\"] = 0] = \"networkFailure\";\n  SystemStatusCode[SystemStatusCode[\"timeoutFailure\"] = -1] = \"timeoutFailure\";\n  SystemStatusCode[SystemStatusCode[\"contentTypeMismatch\"] = -2] = \"contentTypeMismatch\";\n})(SystemStatusCode || (SystemStatusCode = {}));\n\nvar HttpRequest =\n/** @class */\nfunction () {\n  function HttpRequest(delegate, location, referrer) {\n    var _this = this;\n\n    this.failed = false;\n    this.progress = 0;\n    this.sent = false; // XMLHttpRequest events\n\n    this.requestProgressed = function (event) {\n      if (event.lengthComputable) {\n        _this.setProgress(event.loaded / event.total);\n      }\n    };\n\n    this.requestLoaded = function () {\n      _this.endRequest(function (xhr) {\n        var contentType = xhr.getResponseHeader(\"Content-Type\");\n\n        if (contentTypeIsHTML(contentType)) {\n          if (xhr.status >= 200 && xhr.status < 300) {\n            var redirectedToLocation = Location.wrap(xhr.getResponseHeader(\"Turbolinks-Location\"));\n\n            _this.delegate.requestCompletedWithResponse(xhr.responseText, redirectedToLocation);\n          } else {\n            _this.failed = true;\n\n            _this.delegate.requestFailedWithStatusCode(xhr.status, xhr.responseText);\n          }\n        } else {\n          _this.failed = true;\n\n          _this.delegate.requestFailedWithStatusCode(SystemStatusCode.contentTypeMismatch);\n        }\n      });\n    };\n\n    this.requestFailed = function () {\n      _this.endRequest(function () {\n        _this.failed = true;\n\n        _this.delegate.requestFailedWithStatusCode(SystemStatusCode.networkFailure);\n      });\n    };\n\n    this.requestTimedOut = function () {\n      _this.endRequest(function () {\n        _this.failed = true;\n\n        _this.delegate.requestFailedWithStatusCode(SystemStatusCode.timeoutFailure);\n      });\n    };\n\n    this.requestCanceled = function () {\n      _this.endRequest();\n    };\n\n    this.delegate = delegate;\n    this.location = location;\n    this.referrer = referrer;\n    this.location = Location.wrap(location);\n    this.referrer = Location.wrap(referrer);\n    this.url = location.absoluteURL;\n    this.createXHR();\n  }\n\n  HttpRequest.prototype.send = function () {\n    if (this.xhr && !this.sent) {\n      this.notifyApplicationBeforeRequestStart();\n      this.setProgress(0);\n      this.xhr.send();\n      this.sent = true;\n      this.delegate.requestStarted();\n    }\n  };\n\n  HttpRequest.prototype.cancel = function () {\n    if (this.xhr && this.sent) {\n      this.xhr.abort();\n    }\n  }; // Application events\n\n\n  HttpRequest.prototype.notifyApplicationBeforeRequestStart = function () {\n    dispatch(\"turbolinks:request-start\", {\n      data: {\n        url: this.url,\n        xhr: this.xhr\n      }\n    });\n  };\n\n  HttpRequest.prototype.notifyApplicationAfterRequestEnd = function () {\n    dispatch(\"turbolinks:request-end\", {\n      data: {\n        url: this.url,\n        xhr: this.xhr\n      }\n    });\n  }; // Private\n\n\n  HttpRequest.prototype.createXHR = function () {\n    var xhr = this.xhr = new XMLHttpRequest();\n    var referrer = this.referrer ? this.referrer.absoluteURL : \"\";\n    var timeout = HttpRequest.timeout * 1000;\n    xhr.open(\"GET\", this.url, true);\n    xhr.timeout = timeout;\n    xhr.setRequestHeader(\"Accept\", \"text/html, application/xhtml+xml\");\n    xhr.setRequestHeader(\"Turbolinks-Referrer\", referrer);\n    xhr.onprogress = this.requestProgressed;\n    xhr.onload = this.requestLoaded;\n    xhr.onerror = this.requestFailed;\n    xhr.ontimeout = this.requestTimedOut;\n    xhr.onabort = this.requestCanceled;\n  };\n\n  HttpRequest.prototype.endRequest = function (callback) {\n    if (callback === void 0) {\n      callback = function callback() {};\n    }\n\n    if (this.xhr) {\n      this.notifyApplicationAfterRequestEnd();\n      callback(this.xhr);\n      this.destroy();\n    }\n  };\n\n  HttpRequest.prototype.setProgress = function (progress) {\n    this.progress = progress;\n    this.delegate.requestProgressed(progress);\n  };\n\n  HttpRequest.prototype.destroy = function () {\n    this.setProgress(1);\n    this.delegate.requestFinished();\n  };\n\n  HttpRequest.timeout = 60;\n  return HttpRequest;\n}();\n\nexport { HttpRequest };\n\nfunction contentTypeIsHTML(contentType) {\n  return (contentType || \"\").match(/^text\\/html|^application\\/xhtml\\+xml/);\n}","var __makeTemplateObject = this && this.__makeTemplateObject || function (cooked, raw) {\n  if (Object.defineProperty) {\n    Object.defineProperty(cooked, \"raw\", {\n      value: raw\n    });\n  } else {\n    cooked.raw = raw;\n  }\n\n  return cooked;\n};\n\nimport { unindent } from \"./util\";\n\nvar ProgressBar =\n/** @class */\nfunction () {\n  function ProgressBar() {\n    var _this = this;\n\n    this.stylesheetElement = this.createStylesheetElement();\n    this.progressElement = this.createProgressElement();\n    this.hiding = false;\n    this.value = 0;\n    this.visible = false;\n\n    this.trickle = function () {\n      _this.setValue(_this.value + Math.random() / 100);\n    };\n  }\n\n  Object.defineProperty(ProgressBar, \"defaultCSS\", {\n    get: function get() {\n      return unindent(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n      .turbolinks-progress-bar {\\n        position: fixed;\\n        display: block;\\n        top: 0;\\n        left: 0;\\n        height: 3px;\\n        background: #0076ff;\\n        z-index: 9999;\\n        transition:\\n          width \", \"ms ease-out,\\n          opacity \", \"ms \", \"ms ease-in;\\n        transform: translate3d(0, 0, 0);\\n      }\\n    \"], [\"\\n      .turbolinks-progress-bar {\\n        position: fixed;\\n        display: block;\\n        top: 0;\\n        left: 0;\\n        height: 3px;\\n        background: #0076ff;\\n        z-index: 9999;\\n        transition:\\n          width \", \"ms ease-out,\\n          opacity \", \"ms \", \"ms ease-in;\\n        transform: translate3d(0, 0, 0);\\n      }\\n    \"])), ProgressBar.animationDuration, ProgressBar.animationDuration / 2, ProgressBar.animationDuration / 2);\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  ProgressBar.prototype.show = function () {\n    if (!this.visible) {\n      this.visible = true;\n      this.installStylesheetElement();\n      this.installProgressElement();\n      this.startTrickling();\n    }\n  };\n\n  ProgressBar.prototype.hide = function () {\n    var _this = this;\n\n    if (this.visible && !this.hiding) {\n      this.hiding = true;\n      this.fadeProgressElement(function () {\n        _this.uninstallProgressElement();\n\n        _this.stopTrickling();\n\n        _this.visible = false;\n        _this.hiding = false;\n      });\n    }\n  };\n\n  ProgressBar.prototype.setValue = function (value) {\n    this.value = value;\n    this.refresh();\n  }; // Private\n\n\n  ProgressBar.prototype.installStylesheetElement = function () {\n    document.head.insertBefore(this.stylesheetElement, document.head.firstChild);\n  };\n\n  ProgressBar.prototype.installProgressElement = function () {\n    this.progressElement.style.width = \"0\";\n    this.progressElement.style.opacity = \"1\";\n    document.documentElement.insertBefore(this.progressElement, document.body);\n    this.refresh();\n  };\n\n  ProgressBar.prototype.fadeProgressElement = function (callback) {\n    this.progressElement.style.opacity = \"0\";\n    setTimeout(callback, ProgressBar.animationDuration * 1.5);\n  };\n\n  ProgressBar.prototype.uninstallProgressElement = function () {\n    if (this.progressElement.parentNode) {\n      document.documentElement.removeChild(this.progressElement);\n    }\n  };\n\n  ProgressBar.prototype.startTrickling = function () {\n    if (!this.trickleInterval) {\n      this.trickleInterval = window.setInterval(this.trickle, ProgressBar.animationDuration);\n    }\n  };\n\n  ProgressBar.prototype.stopTrickling = function () {\n    window.clearInterval(this.trickleInterval);\n    delete this.trickleInterval;\n  };\n\n  ProgressBar.prototype.refresh = function () {\n    var _this = this;\n\n    requestAnimationFrame(function () {\n      _this.progressElement.style.width = 10 + _this.value * 90 + \"%\";\n    });\n  };\n\n  ProgressBar.prototype.createStylesheetElement = function () {\n    var element = document.createElement(\"style\");\n    element.type = \"text/css\";\n    element.textContent = ProgressBar.defaultCSS;\n    return element;\n  };\n\n  ProgressBar.prototype.createProgressElement = function () {\n    var element = document.createElement(\"div\");\n    element.className = \"turbolinks-progress-bar\";\n    return element;\n  };\n\n  ProgressBar.animationDuration = 300;\n  /*ms*/\n\n  return ProgressBar;\n}();\n\nexport { ProgressBar };\nvar templateObject_1;","import { SystemStatusCode } from \"./http_request\";\nimport { ProgressBar } from \"./progress_bar\";\nimport { uuid } from \"./util\";\n\nvar BrowserAdapter =\n/** @class */\nfunction () {\n  function BrowserAdapter(controller) {\n    var _this = this;\n\n    this.progressBar = new ProgressBar();\n\n    this.showProgressBar = function () {\n      _this.progressBar.show();\n    };\n\n    this.controller = controller;\n  }\n\n  BrowserAdapter.prototype.visitProposedToLocationWithAction = function (location, action) {\n    var restorationIdentifier = uuid();\n    this.controller.startVisitToLocationWithAction(location, action, restorationIdentifier);\n  };\n\n  BrowserAdapter.prototype.visitStarted = function (visit) {\n    visit.issueRequest();\n    visit.changeHistory();\n    visit.loadCachedSnapshot();\n  };\n\n  BrowserAdapter.prototype.visitRequestStarted = function (visit) {\n    this.progressBar.setValue(0);\n\n    if (visit.hasCachedSnapshot() || visit.action != \"restore\") {\n      this.showProgressBarAfterDelay();\n    } else {\n      this.showProgressBar();\n    }\n  };\n\n  BrowserAdapter.prototype.visitRequestProgressed = function (visit) {\n    this.progressBar.setValue(visit.progress);\n  };\n\n  BrowserAdapter.prototype.visitRequestCompleted = function (visit) {\n    visit.loadResponse();\n  };\n\n  BrowserAdapter.prototype.visitRequestFailedWithStatusCode = function (visit, statusCode) {\n    switch (statusCode) {\n      case SystemStatusCode.networkFailure:\n      case SystemStatusCode.timeoutFailure:\n      case SystemStatusCode.contentTypeMismatch:\n        return this.reload();\n\n      default:\n        return visit.loadResponse();\n    }\n  };\n\n  BrowserAdapter.prototype.visitRequestFinished = function (visit) {\n    this.hideProgressBar();\n  };\n\n  BrowserAdapter.prototype.visitCompleted = function (visit) {\n    visit.followRedirect();\n  };\n\n  BrowserAdapter.prototype.pageInvalidated = function () {\n    this.reload();\n  };\n\n  BrowserAdapter.prototype.visitFailed = function (visit) {};\n\n  BrowserAdapter.prototype.visitRendered = function (visit) {}; // Private\n\n\n  BrowserAdapter.prototype.showProgressBarAfterDelay = function () {\n    this.progressBarTimeout = window.setTimeout(this.showProgressBar, this.controller.progressBarDelay);\n  };\n\n  BrowserAdapter.prototype.hideProgressBar = function () {\n    this.progressBar.hide();\n\n    if (this.progressBarTimeout != null) {\n      window.clearTimeout(this.progressBarTimeout);\n      delete this.progressBarTimeout;\n    }\n  };\n\n  BrowserAdapter.prototype.reload = function () {\n    window.location.reload();\n  };\n\n  return BrowserAdapter;\n}();\n\nexport { BrowserAdapter };","import { Location } from \"./location\";\nimport { defer } from \"./util\";\n\nvar History =\n/** @class */\nfunction () {\n  function History(delegate) {\n    var _this = this;\n\n    this.started = false;\n    this.pageLoaded = false; // Event handlers\n\n    this.onPopState = function (event) {\n      if (!_this.shouldHandlePopState()) return;\n      if (!event.state) return;\n      var turbolinks = event.state.turbolinks;\n      if (!turbolinks) return;\n      var location = Location.currentLocation;\n      var restorationIdentifier = turbolinks.restorationIdentifier;\n\n      _this.delegate.historyPoppedToLocationWithRestorationIdentifier(location, restorationIdentifier);\n    };\n\n    this.onPageLoad = function (event) {\n      defer(function () {\n        _this.pageLoaded = true;\n      });\n    };\n\n    this.delegate = delegate;\n  }\n\n  History.prototype.start = function () {\n    if (!this.started) {\n      addEventListener(\"popstate\", this.onPopState, false);\n      addEventListener(\"load\", this.onPageLoad, false);\n      this.started = true;\n    }\n  };\n\n  History.prototype.stop = function () {\n    if (this.started) {\n      removeEventListener(\"popstate\", this.onPopState, false);\n      removeEventListener(\"load\", this.onPageLoad, false);\n      this.started = false;\n    }\n  };\n\n  History.prototype.push = function (location, restorationIdentifier) {\n    this.update(history.pushState, location, restorationIdentifier);\n  };\n\n  History.prototype.replace = function (location, restorationIdentifier) {\n    this.update(history.replaceState, location, restorationIdentifier);\n  }; // Private\n\n\n  History.prototype.shouldHandlePopState = function () {\n    // Safari dispatches a popstate event after window's load event, ignore it\n    return this.pageIsLoaded();\n  };\n\n  History.prototype.pageIsLoaded = function () {\n    return this.pageLoaded || document.readyState == \"complete\";\n  };\n\n  History.prototype.update = function (method, location, restorationIdentifier) {\n    var state = {\n      turbolinks: {\n        restorationIdentifier: restorationIdentifier\n      }\n    };\n    method.call(history, state, \"\", location.absoluteURL);\n  };\n\n  return History;\n}();\n\nexport { History };","var ScrollManager =\n/** @class */\nfunction () {\n  function ScrollManager(delegate) {\n    var _this = this;\n\n    this.started = false;\n\n    this.onScroll = function () {\n      _this.updatePosition({\n        x: window.pageXOffset,\n        y: window.pageYOffset\n      });\n    };\n\n    this.delegate = delegate;\n  }\n\n  ScrollManager.prototype.start = function () {\n    if (!this.started) {\n      addEventListener(\"scroll\", this.onScroll, false);\n      this.onScroll();\n      this.started = true;\n    }\n  };\n\n  ScrollManager.prototype.stop = function () {\n    if (this.started) {\n      removeEventListener(\"scroll\", this.onScroll, false);\n      this.started = false;\n    }\n  };\n\n  ScrollManager.prototype.scrollToElement = function (element) {\n    element.scrollIntoView();\n  };\n\n  ScrollManager.prototype.scrollToPosition = function (_a) {\n    var x = _a.x,\n        y = _a.y;\n    window.scrollTo(x, y);\n  }; // Private\n\n\n  ScrollManager.prototype.updatePosition = function (position) {\n    this.delegate.scrollPositionChanged(position);\n  };\n\n  return ScrollManager;\n}();\n\nexport { ScrollManager };","var SnapshotCache =\n/** @class */\nfunction () {\n  function SnapshotCache(size) {\n    this.keys = [];\n    this.snapshots = {};\n    this.size = size;\n  }\n\n  SnapshotCache.prototype.has = function (location) {\n    return location.toCacheKey() in this.snapshots;\n  };\n\n  SnapshotCache.prototype.get = function (location) {\n    if (this.has(location)) {\n      var snapshot = this.read(location);\n      this.touch(location);\n      return snapshot;\n    }\n  };\n\n  SnapshotCache.prototype.put = function (location, snapshot) {\n    this.write(location, snapshot);\n    this.touch(location);\n    return snapshot;\n  }; // Private\n\n\n  SnapshotCache.prototype.read = function (location) {\n    return this.snapshots[location.toCacheKey()];\n  };\n\n  SnapshotCache.prototype.write = function (location, snapshot) {\n    this.snapshots[location.toCacheKey()] = snapshot;\n  };\n\n  SnapshotCache.prototype.touch = function (location) {\n    var key = location.toCacheKey();\n    var index = this.keys.indexOf(key);\n    if (index > -1) this.keys.splice(index, 1);\n    this.keys.unshift(key);\n    this.trim();\n  };\n\n  SnapshotCache.prototype.trim = function () {\n    for (var _i = 0, _a = this.keys.splice(this.size); _i < _a.length; _i++) {\n      var key = _a[_i];\n      delete this.snapshots[key];\n    }\n  };\n\n  return SnapshotCache;\n}();\n\nexport { SnapshotCache };","import { array } from \"./util\";\n\nvar Renderer =\n/** @class */\nfunction () {\n  function Renderer() {}\n\n  Renderer.prototype.renderView = function (callback) {\n    this.delegate.viewWillRender(this.newBody);\n    callback();\n    this.delegate.viewRendered(this.newBody);\n  };\n\n  Renderer.prototype.invalidateView = function () {\n    this.delegate.viewInvalidated();\n  };\n\n  Renderer.prototype.createScriptElement = function (element) {\n    if (element.getAttribute(\"data-turbolinks-eval\") == \"false\") {\n      return element;\n    } else {\n      var createdScriptElement = document.createElement(\"script\");\n      createdScriptElement.textContent = element.textContent; // @ts-ignore\n\n      createdScriptElement.nonce = element['nonce'];\n      createdScriptElement.async = false;\n      copyElementAttributes(createdScriptElement, element);\n      return createdScriptElement;\n    }\n  };\n\n  return Renderer;\n}();\n\nexport { Renderer };\n\nfunction copyElementAttributes(destinationElement, sourceElement) {\n  for (var _i = 0, _a = array(sourceElement.attributes); _i < _a.length; _i++) {\n    var _b = _a[_i],\n        name_1 = _b.name,\n        value = _b.value;\n    destinationElement.setAttribute(name_1, value);\n  }\n}","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nimport { Renderer } from \"./renderer\";\nimport { array } from \"./util\";\n\nvar ErrorRenderer =\n/** @class */\nfunction (_super) {\n  __extends(ErrorRenderer, _super);\n\n  function ErrorRenderer(delegate, html) {\n    var _this = _super.call(this) || this;\n\n    _this.delegate = delegate;\n\n    _this.htmlElement = function () {\n      var htmlElement = document.createElement(\"html\");\n      htmlElement.innerHTML = html;\n      return htmlElement;\n    }();\n\n    _this.newHead = _this.htmlElement.querySelector(\"head\") || document.createElement(\"head\");\n    _this.newBody = _this.htmlElement.querySelector(\"body\") || document.createElement(\"body\");\n    return _this;\n  }\n\n  ErrorRenderer.render = function (delegate, callback, html) {\n    return new this(delegate, html).render(callback);\n  };\n\n  ErrorRenderer.prototype.render = function (callback) {\n    var _this = this;\n\n    this.renderView(function () {\n      _this.replaceHeadAndBody();\n\n      _this.activateBodyScriptElements();\n\n      callback();\n    });\n  };\n\n  ErrorRenderer.prototype.replaceHeadAndBody = function () {\n    var documentElement = document.documentElement,\n        head = document.head,\n        body = document.body;\n    documentElement.replaceChild(this.newHead, head);\n    documentElement.replaceChild(this.newBody, body);\n  };\n\n  ErrorRenderer.prototype.activateBodyScriptElements = function () {\n    for (var _i = 0, _a = this.getScriptElements(); _i < _a.length; _i++) {\n      var replaceableElement = _a[_i];\n      var parentNode = replaceableElement.parentNode;\n\n      if (parentNode) {\n        var element = this.createScriptElement(replaceableElement);\n        parentNode.replaceChild(element, replaceableElement);\n      }\n    }\n  };\n\n  ErrorRenderer.prototype.getScriptElements = function () {\n    return array(document.documentElement.querySelectorAll(\"script\"));\n  };\n\n  return ErrorRenderer;\n}(Renderer);\n\nexport { ErrorRenderer };","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport { array } from \"./util\";\n\nvar HeadDetails =\n/** @class */\nfunction () {\n  function HeadDetails(children) {\n    this.detailsByOuterHTML = children.reduce(function (result, element) {\n      var _a;\n\n      var outerHTML = element.outerHTML;\n      var details = outerHTML in result ? result[outerHTML] : {\n        type: elementType(element),\n        tracked: elementIsTracked(element),\n        elements: []\n      };\n      return __assign({}, result, (_a = {}, _a[outerHTML] = __assign({}, details, {\n        elements: details.elements.concat([element])\n      }), _a));\n    }, {});\n  }\n\n  HeadDetails.fromHeadElement = function (headElement) {\n    var children = headElement ? array(headElement.children) : [];\n    return new this(children);\n  };\n\n  HeadDetails.prototype.getTrackedElementSignature = function () {\n    var _this = this;\n\n    return Object.keys(this.detailsByOuterHTML).filter(function (outerHTML) {\n      return _this.detailsByOuterHTML[outerHTML].tracked;\n    }).join(\"\");\n  };\n\n  HeadDetails.prototype.getScriptElementsNotInDetails = function (headDetails) {\n    return this.getElementsMatchingTypeNotInDetails(\"script\", headDetails);\n  };\n\n  HeadDetails.prototype.getStylesheetElementsNotInDetails = function (headDetails) {\n    return this.getElementsMatchingTypeNotInDetails(\"stylesheet\", headDetails);\n  };\n\n  HeadDetails.prototype.getElementsMatchingTypeNotInDetails = function (matchedType, headDetails) {\n    var _this = this;\n\n    return Object.keys(this.detailsByOuterHTML).filter(function (outerHTML) {\n      return !(outerHTML in headDetails.detailsByOuterHTML);\n    }).map(function (outerHTML) {\n      return _this.detailsByOuterHTML[outerHTML];\n    }).filter(function (_a) {\n      var type = _a.type;\n      return type == matchedType;\n    }).map(function (_a) {\n      var element = _a.elements[0];\n      return element;\n    });\n  };\n\n  HeadDetails.prototype.getProvisionalElements = function () {\n    var _this = this;\n\n    return Object.keys(this.detailsByOuterHTML).reduce(function (result, outerHTML) {\n      var _a = _this.detailsByOuterHTML[outerHTML],\n          type = _a.type,\n          tracked = _a.tracked,\n          elements = _a.elements;\n\n      if (type == null && !tracked) {\n        return result.concat(elements);\n      } else if (elements.length > 1) {\n        return result.concat(elements.slice(1));\n      } else {\n        return result;\n      }\n    }, []);\n  };\n\n  HeadDetails.prototype.getMetaValue = function (name) {\n    var element = this.findMetaElementByName(name);\n    return element ? element.getAttribute(\"content\") : null;\n  };\n\n  HeadDetails.prototype.findMetaElementByName = function (name) {\n    var _this = this;\n\n    return Object.keys(this.detailsByOuterHTML).reduce(function (result, outerHTML) {\n      var element = _this.detailsByOuterHTML[outerHTML].elements[0];\n      return elementIsMetaElementWithName(element, name) ? element : result;\n    }, undefined);\n  };\n\n  return HeadDetails;\n}();\n\nexport { HeadDetails };\n\nfunction elementType(element) {\n  if (elementIsScript(element)) {\n    return \"script\";\n  } else if (elementIsStylesheet(element)) {\n    return \"stylesheet\";\n  }\n}\n\nfunction elementIsTracked(element) {\n  return element.getAttribute(\"data-turbolinks-track\") == \"reload\";\n}\n\nfunction elementIsScript(element) {\n  var tagName = element.tagName.toLowerCase();\n  return tagName == \"script\";\n}\n\nfunction elementIsStylesheet(element) {\n  var tagName = element.tagName.toLowerCase();\n  return tagName == \"style\" || tagName == \"link\" && element.getAttribute(\"rel\") == \"stylesheet\";\n}\n\nfunction elementIsMetaElementWithName(element, name) {\n  var tagName = element.tagName.toLowerCase();\n  return tagName == \"meta\" && element.getAttribute(\"name\") == name;\n}","import { HeadDetails } from \"./head_details\";\nimport { Location } from \"./location\";\nimport { array } from \"./util\";\n\nvar Snapshot =\n/** @class */\nfunction () {\n  function Snapshot(headDetails, bodyElement) {\n    this.headDetails = headDetails;\n    this.bodyElement = bodyElement;\n  }\n\n  Snapshot.wrap = function (value) {\n    if (value instanceof this) {\n      return value;\n    } else if (typeof value == \"string\") {\n      return this.fromHTMLString(value);\n    } else {\n      return this.fromHTMLElement(value);\n    }\n  };\n\n  Snapshot.fromHTMLString = function (html) {\n    var element = document.createElement(\"html\");\n    element.innerHTML = html;\n    return this.fromHTMLElement(element);\n  };\n\n  Snapshot.fromHTMLElement = function (htmlElement) {\n    var headElement = htmlElement.querySelector(\"head\");\n    var bodyElement = htmlElement.querySelector(\"body\") || document.createElement(\"body\");\n    var headDetails = HeadDetails.fromHeadElement(headElement);\n    return new this(headDetails, bodyElement);\n  };\n\n  Snapshot.prototype.clone = function () {\n    return new Snapshot(this.headDetails, this.bodyElement.cloneNode(true));\n  };\n\n  Snapshot.prototype.getRootLocation = function () {\n    var root = this.getSetting(\"root\", \"/\");\n    return new Location(root);\n  };\n\n  Snapshot.prototype.getCacheControlValue = function () {\n    return this.getSetting(\"cache-control\");\n  };\n\n  Snapshot.prototype.getElementForAnchor = function (anchor) {\n    try {\n      return this.bodyElement.querySelector(\"[id='\" + anchor + \"'], a[name='\" + anchor + \"']\");\n    } catch (_a) {\n      return null;\n    }\n  };\n\n  Snapshot.prototype.getPermanentElements = function () {\n    return array(this.bodyElement.querySelectorAll(\"[id][data-turbolinks-permanent]\"));\n  };\n\n  Snapshot.prototype.getPermanentElementById = function (id) {\n    return this.bodyElement.querySelector(\"#\" + id + \"[data-turbolinks-permanent]\");\n  };\n\n  Snapshot.prototype.getPermanentElementsPresentInSnapshot = function (snapshot) {\n    return this.getPermanentElements().filter(function (_a) {\n      var id = _a.id;\n      return snapshot.getPermanentElementById(id);\n    });\n  };\n\n  Snapshot.prototype.findFirstAutofocusableElement = function () {\n    return this.bodyElement.querySelector(\"[autofocus]\");\n  };\n\n  Snapshot.prototype.hasAnchor = function (anchor) {\n    return this.getElementForAnchor(anchor) != null;\n  };\n\n  Snapshot.prototype.isPreviewable = function () {\n    return this.getCacheControlValue() != \"no-preview\";\n  };\n\n  Snapshot.prototype.isCacheable = function () {\n    return this.getCacheControlValue() != \"no-cache\";\n  };\n\n  Snapshot.prototype.isVisitable = function () {\n    return this.getSetting(\"visit-control\") != \"reload\";\n  };\n\n  Snapshot.prototype.getSetting = function (name, defaultValue) {\n    var value = this.headDetails.getMetaValue(\"turbolinks-\" + name);\n    return value == null ? defaultValue : value;\n  };\n\n  return Snapshot;\n}();\n\nexport { Snapshot };","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nimport { Renderer } from \"./renderer\";\nimport { array } from \"./util\";\n\nvar SnapshotRenderer =\n/** @class */\nfunction (_super) {\n  __extends(SnapshotRenderer, _super);\n\n  function SnapshotRenderer(delegate, currentSnapshot, newSnapshot, isPreview) {\n    var _this = _super.call(this) || this;\n\n    _this.delegate = delegate;\n    _this.currentSnapshot = currentSnapshot;\n    _this.currentHeadDetails = currentSnapshot.headDetails;\n    _this.newSnapshot = newSnapshot;\n    _this.newHeadDetails = newSnapshot.headDetails;\n    _this.newBody = newSnapshot.bodyElement;\n    _this.isPreview = isPreview;\n    return _this;\n  }\n\n  SnapshotRenderer.render = function (delegate, callback, currentSnapshot, newSnapshot, isPreview) {\n    return new this(delegate, currentSnapshot, newSnapshot, isPreview).render(callback);\n  };\n\n  SnapshotRenderer.prototype.render = function (callback) {\n    var _this = this;\n\n    if (this.shouldRender()) {\n      this.mergeHead();\n      this.renderView(function () {\n        _this.replaceBody();\n\n        if (!_this.isPreview) {\n          _this.focusFirstAutofocusableElement();\n        }\n\n        callback();\n      });\n    } else {\n      this.invalidateView();\n    }\n  };\n\n  SnapshotRenderer.prototype.mergeHead = function () {\n    this.copyNewHeadStylesheetElements();\n    this.copyNewHeadScriptElements();\n    this.removeCurrentHeadProvisionalElements();\n    this.copyNewHeadProvisionalElements();\n  };\n\n  SnapshotRenderer.prototype.replaceBody = function () {\n    var placeholders = this.relocateCurrentBodyPermanentElements();\n    this.activateNewBodyScriptElements();\n    this.assignNewBody();\n    this.replacePlaceholderElementsWithClonedPermanentElements(placeholders);\n  };\n\n  SnapshotRenderer.prototype.shouldRender = function () {\n    return this.newSnapshot.isVisitable() && this.trackedElementsAreIdentical();\n  };\n\n  SnapshotRenderer.prototype.trackedElementsAreIdentical = function () {\n    return this.currentHeadDetails.getTrackedElementSignature() == this.newHeadDetails.getTrackedElementSignature();\n  };\n\n  SnapshotRenderer.prototype.copyNewHeadStylesheetElements = function () {\n    for (var _i = 0, _a = this.getNewHeadStylesheetElements(); _i < _a.length; _i++) {\n      var element = _a[_i];\n      document.head.appendChild(element);\n    }\n  };\n\n  SnapshotRenderer.prototype.copyNewHeadScriptElements = function () {\n    for (var _i = 0, _a = this.getNewHeadScriptElements(); _i < _a.length; _i++) {\n      var element = _a[_i];\n      document.head.appendChild(this.createScriptElement(element));\n    }\n  };\n\n  SnapshotRenderer.prototype.removeCurrentHeadProvisionalElements = function () {\n    for (var _i = 0, _a = this.getCurrentHeadProvisionalElements(); _i < _a.length; _i++) {\n      var element = _a[_i];\n      document.head.removeChild(element);\n    }\n  };\n\n  SnapshotRenderer.prototype.copyNewHeadProvisionalElements = function () {\n    for (var _i = 0, _a = this.getNewHeadProvisionalElements(); _i < _a.length; _i++) {\n      var element = _a[_i];\n      document.head.appendChild(element);\n    }\n  };\n\n  SnapshotRenderer.prototype.relocateCurrentBodyPermanentElements = function () {\n    var _this = this;\n\n    return this.getCurrentBodyPermanentElements().reduce(function (placeholders, permanentElement) {\n      var newElement = _this.newSnapshot.getPermanentElementById(permanentElement.id);\n\n      if (newElement) {\n        var placeholder = createPlaceholderForPermanentElement(permanentElement);\n        replaceElementWithElement(permanentElement, placeholder.element);\n        replaceElementWithElement(newElement, permanentElement);\n        return placeholders.concat([placeholder]);\n      } else {\n        return placeholders;\n      }\n    }, []);\n  };\n\n  SnapshotRenderer.prototype.replacePlaceholderElementsWithClonedPermanentElements = function (placeholders) {\n    for (var _i = 0, placeholders_1 = placeholders; _i < placeholders_1.length; _i++) {\n      var _a = placeholders_1[_i],\n          element = _a.element,\n          permanentElement = _a.permanentElement;\n      var clonedElement = permanentElement.cloneNode(true);\n      replaceElementWithElement(element, clonedElement);\n    }\n  };\n\n  SnapshotRenderer.prototype.activateNewBodyScriptElements = function () {\n    for (var _i = 0, _a = this.getNewBodyScriptElements(); _i < _a.length; _i++) {\n      var inertScriptElement = _a[_i];\n      var activatedScriptElement = this.createScriptElement(inertScriptElement);\n      replaceElementWithElement(inertScriptElement, activatedScriptElement);\n    }\n  };\n\n  SnapshotRenderer.prototype.assignNewBody = function () {\n    replaceElementWithElement(document.body, this.newBody);\n  };\n\n  SnapshotRenderer.prototype.focusFirstAutofocusableElement = function () {\n    var element = this.newSnapshot.findFirstAutofocusableElement();\n\n    if (elementIsFocusable(element)) {\n      element.focus();\n    }\n  };\n\n  SnapshotRenderer.prototype.getNewHeadStylesheetElements = function () {\n    return this.newHeadDetails.getStylesheetElementsNotInDetails(this.currentHeadDetails);\n  };\n\n  SnapshotRenderer.prototype.getNewHeadScriptElements = function () {\n    return this.newHeadDetails.getScriptElementsNotInDetails(this.currentHeadDetails);\n  };\n\n  SnapshotRenderer.prototype.getCurrentHeadProvisionalElements = function () {\n    return this.currentHeadDetails.getProvisionalElements();\n  };\n\n  SnapshotRenderer.prototype.getNewHeadProvisionalElements = function () {\n    return this.newHeadDetails.getProvisionalElements();\n  };\n\n  SnapshotRenderer.prototype.getCurrentBodyPermanentElements = function () {\n    return this.currentSnapshot.getPermanentElementsPresentInSnapshot(this.newSnapshot);\n  };\n\n  SnapshotRenderer.prototype.getNewBodyScriptElements = function () {\n    return array(this.newBody.querySelectorAll(\"script\"));\n  };\n\n  return SnapshotRenderer;\n}(Renderer);\n\nexport { SnapshotRenderer };\n\nfunction createPlaceholderForPermanentElement(permanentElement) {\n  var element = document.createElement(\"meta\");\n  element.setAttribute(\"name\", \"turbolinks-permanent-placeholder\");\n  element.setAttribute(\"content\", permanentElement.id);\n  return {\n    element: element,\n    permanentElement: permanentElement\n  };\n}\n\nfunction replaceElementWithElement(fromElement, toElement) {\n  var parentElement = fromElement.parentElement;\n\n  if (parentElement) {\n    return parentElement.replaceChild(toElement, fromElement);\n  }\n}\n\nfunction elementIsFocusable(element) {\n  return element && typeof element.focus == \"function\";\n}","import { ErrorRenderer } from \"./error_renderer\";\nimport { Snapshot } from \"./snapshot\";\nimport { SnapshotRenderer } from \"./snapshot_renderer\";\n\nvar View =\n/** @class */\nfunction () {\n  function View(delegate) {\n    this.htmlElement = document.documentElement;\n    this.delegate = delegate;\n  }\n\n  View.prototype.getRootLocation = function () {\n    return this.getSnapshot().getRootLocation();\n  };\n\n  View.prototype.getElementForAnchor = function (anchor) {\n    return this.getSnapshot().getElementForAnchor(anchor);\n  };\n\n  View.prototype.getSnapshot = function () {\n    return Snapshot.fromHTMLElement(this.htmlElement);\n  };\n\n  View.prototype.render = function (_a, callback) {\n    var snapshot = _a.snapshot,\n        error = _a.error,\n        isPreview = _a.isPreview;\n    this.markAsPreview(isPreview);\n\n    if (snapshot) {\n      this.renderSnapshot(snapshot, isPreview, callback);\n    } else {\n      this.renderError(error, callback);\n    }\n  }; // Private\n\n\n  View.prototype.markAsPreview = function (isPreview) {\n    if (isPreview) {\n      this.htmlElement.setAttribute(\"data-turbolinks-preview\", \"\");\n    } else {\n      this.htmlElement.removeAttribute(\"data-turbolinks-preview\");\n    }\n  };\n\n  View.prototype.renderSnapshot = function (snapshot, isPreview, callback) {\n    SnapshotRenderer.render(this.delegate, callback, this.getSnapshot(), snapshot, isPreview || false);\n  };\n\n  View.prototype.renderError = function (error, callback) {\n    ErrorRenderer.render(this.delegate, callback, error || \"\");\n  };\n\n  return View;\n}();\n\nexport { View };","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport { HttpRequest } from \"./http_request\";\nimport { Snapshot } from \"./snapshot\";\nimport { uuid } from \"./util\";\nexport var TimingMetric;\n\n(function (TimingMetric) {\n  TimingMetric[\"visitStart\"] = \"visitStart\";\n  TimingMetric[\"requestStart\"] = \"requestStart\";\n  TimingMetric[\"requestEnd\"] = \"requestEnd\";\n  TimingMetric[\"visitEnd\"] = \"visitEnd\";\n})(TimingMetric || (TimingMetric = {}));\n\nexport var VisitState;\n\n(function (VisitState) {\n  VisitState[\"initialized\"] = \"initialized\";\n  VisitState[\"started\"] = \"started\";\n  VisitState[\"canceled\"] = \"canceled\";\n  VisitState[\"failed\"] = \"failed\";\n  VisitState[\"completed\"] = \"completed\";\n})(VisitState || (VisitState = {}));\n\nvar Visit =\n/** @class */\nfunction () {\n  function Visit(controller, location, action, restorationIdentifier) {\n    if (restorationIdentifier === void 0) {\n      restorationIdentifier = uuid();\n    }\n\n    var _this = this;\n\n    this.identifier = uuid();\n    this.timingMetrics = {};\n    this.followedRedirect = false;\n    this.historyChanged = false;\n    this.progress = 0;\n    this.scrolled = false;\n    this.snapshotCached = false;\n    this.state = VisitState.initialized; // Scrolling\n\n    this.performScroll = function () {\n      if (!_this.scrolled) {\n        if (_this.action == \"restore\") {\n          _this.scrollToRestoredPosition() || _this.scrollToTop();\n        } else {\n          _this.scrollToAnchor() || _this.scrollToTop();\n        }\n\n        _this.scrolled = true;\n      }\n    };\n\n    this.controller = controller;\n    this.location = location;\n    this.action = action;\n    this.adapter = controller.adapter;\n    this.restorationIdentifier = restorationIdentifier;\n  }\n\n  Visit.prototype.start = function () {\n    if (this.state == VisitState.initialized) {\n      this.recordTimingMetric(TimingMetric.visitStart);\n      this.state = VisitState.started;\n      this.adapter.visitStarted(this);\n    }\n  };\n\n  Visit.prototype.cancel = function () {\n    if (this.state == VisitState.started) {\n      if (this.request) {\n        this.request.cancel();\n      }\n\n      this.cancelRender();\n      this.state = VisitState.canceled;\n    }\n  };\n\n  Visit.prototype.complete = function () {\n    if (this.state == VisitState.started) {\n      this.recordTimingMetric(TimingMetric.visitEnd);\n      this.state = VisitState.completed;\n      this.adapter.visitCompleted(this);\n      this.controller.visitCompleted(this);\n    }\n  };\n\n  Visit.prototype.fail = function () {\n    if (this.state == VisitState.started) {\n      this.state = VisitState.failed;\n      this.adapter.visitFailed(this);\n    }\n  };\n\n  Visit.prototype.changeHistory = function () {\n    if (!this.historyChanged) {\n      var actionForHistory = this.location.isEqualTo(this.referrer) ? \"replace\" : this.action;\n      var method = this.getHistoryMethodForAction(actionForHistory);\n      method.call(this.controller, this.location, this.restorationIdentifier);\n      this.historyChanged = true;\n    }\n  };\n\n  Visit.prototype.issueRequest = function () {\n    if (this.shouldIssueRequest() && !this.request) {\n      this.progress = 0;\n      this.request = new HttpRequest(this, this.location, this.referrer);\n      this.request.send();\n    }\n  };\n\n  Visit.prototype.getCachedSnapshot = function () {\n    var snapshot = this.controller.getCachedSnapshotForLocation(this.location);\n\n    if (snapshot && (!this.location.anchor || snapshot.hasAnchor(this.location.anchor))) {\n      if (this.action == \"restore\" || snapshot.isPreviewable()) {\n        return snapshot;\n      }\n    }\n  };\n\n  Visit.prototype.hasCachedSnapshot = function () {\n    return this.getCachedSnapshot() != null;\n  };\n\n  Visit.prototype.loadCachedSnapshot = function () {\n    var _this = this;\n\n    var snapshot = this.getCachedSnapshot();\n\n    if (snapshot) {\n      var isPreview_1 = this.shouldIssueRequest();\n      this.render(function () {\n        _this.cacheSnapshot();\n\n        _this.controller.render({\n          snapshot: snapshot,\n          isPreview: isPreview_1\n        }, _this.performScroll);\n\n        _this.adapter.visitRendered(_this);\n\n        if (!isPreview_1) {\n          _this.complete();\n        }\n      });\n    }\n  };\n\n  Visit.prototype.loadResponse = function () {\n    var _this = this;\n\n    var _a = this,\n        request = _a.request,\n        response = _a.response;\n\n    if (request && response) {\n      this.render(function () {\n        _this.cacheSnapshot();\n\n        if (request.failed) {\n          _this.controller.render({\n            error: _this.response\n          }, _this.performScroll);\n\n          _this.adapter.visitRendered(_this);\n\n          _this.fail();\n        } else {\n          _this.controller.render({\n            snapshot: Snapshot.fromHTMLString(response)\n          }, _this.performScroll);\n\n          _this.adapter.visitRendered(_this);\n\n          _this.complete();\n        }\n      });\n    }\n  };\n\n  Visit.prototype.followRedirect = function () {\n    if (this.redirectedToLocation && !this.followedRedirect) {\n      this.location = this.redirectedToLocation;\n      this.controller.replaceHistoryWithLocationAndRestorationIdentifier(this.redirectedToLocation, this.restorationIdentifier);\n      this.followedRedirect = true;\n    }\n  }; // HTTP request delegate\n\n\n  Visit.prototype.requestStarted = function () {\n    this.recordTimingMetric(TimingMetric.requestStart);\n    this.adapter.visitRequestStarted(this);\n  };\n\n  Visit.prototype.requestProgressed = function (progress) {\n    this.progress = progress;\n\n    if (this.adapter.visitRequestProgressed) {\n      this.adapter.visitRequestProgressed(this);\n    }\n  };\n\n  Visit.prototype.requestCompletedWithResponse = function (response, redirectedToLocation) {\n    this.response = response;\n    this.redirectedToLocation = redirectedToLocation;\n    this.adapter.visitRequestCompleted(this);\n  };\n\n  Visit.prototype.requestFailedWithStatusCode = function (statusCode, response) {\n    this.response = response;\n    this.adapter.visitRequestFailedWithStatusCode(this, statusCode);\n  };\n\n  Visit.prototype.requestFinished = function () {\n    this.recordTimingMetric(TimingMetric.requestEnd);\n    this.adapter.visitRequestFinished(this);\n  };\n\n  Visit.prototype.scrollToRestoredPosition = function () {\n    var position = this.restorationData ? this.restorationData.scrollPosition : undefined;\n\n    if (position) {\n      this.controller.scrollToPosition(position);\n      return true;\n    }\n  };\n\n  Visit.prototype.scrollToAnchor = function () {\n    if (this.location.anchor != null) {\n      this.controller.scrollToAnchor(this.location.anchor);\n      return true;\n    }\n  };\n\n  Visit.prototype.scrollToTop = function () {\n    this.controller.scrollToPosition({\n      x: 0,\n      y: 0\n    });\n  }; // Instrumentation\n\n\n  Visit.prototype.recordTimingMetric = function (metric) {\n    this.timingMetrics[metric] = new Date().getTime();\n  };\n\n  Visit.prototype.getTimingMetrics = function () {\n    return __assign({}, this.timingMetrics);\n  }; // Private\n\n\n  Visit.prototype.getHistoryMethodForAction = function (action) {\n    switch (action) {\n      case \"replace\":\n        return this.controller.replaceHistoryWithLocationAndRestorationIdentifier;\n\n      case \"advance\":\n      case \"restore\":\n        return this.controller.pushHistoryWithLocationAndRestorationIdentifier;\n    }\n  };\n\n  Visit.prototype.shouldIssueRequest = function () {\n    return this.action == \"restore\" ? !this.hasCachedSnapshot() : true;\n  };\n\n  Visit.prototype.cacheSnapshot = function () {\n    if (!this.snapshotCached) {\n      this.controller.cacheSnapshot();\n      this.snapshotCached = true;\n    }\n  };\n\n  Visit.prototype.render = function (callback) {\n    var _this = this;\n\n    this.cancelRender();\n    this.frame = requestAnimationFrame(function () {\n      delete _this.frame;\n      callback.call(_this);\n    });\n  };\n\n  Visit.prototype.cancelRender = function () {\n    if (this.frame) {\n      cancelAnimationFrame(this.frame);\n      delete this.frame;\n    }\n  };\n\n  return Visit;\n}();\n\nexport { Visit };","var __makeTemplateObject = this && this.__makeTemplateObject || function (cooked, raw) {\n  if (Object.defineProperty) {\n    Object.defineProperty(cooked, \"raw\", {\n      value: raw\n    });\n  } else {\n    cooked.raw = raw;\n  }\n\n  return cooked;\n};\n\nimport { unindent } from \"./util\";\n\n(function () {\n  var element = document.currentScript;\n  if (!element) return;\n  if (element.hasAttribute(\"data-turbolinks-suppress-warning\")) return;\n\n  while (element = element.parentElement) {\n    if (element == document.body) {\n      return console.warn(unindent(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n        You are loading Turbolinks from a <script> element inside the <body> element. This is probably not what you meant to do!\\n\\n        Load your application\\u2019s JavaScript bundle inside the <head> element instead. <script> elements in <body> are evaluated with each page change.\\n\\n        For more information, see: https://github.com/turbolinks/turbolinks#working-with-script-elements\\n\\n        \\u2014\\u2014\\n        Suppress this warning by adding a \\\"data-turbolinks-suppress-warning\\\" attribute to: %s\\n      \"], [\"\\n        You are loading Turbolinks from a <script> element inside the <body> element. This is probably not what you meant to do!\\n\\n        Load your application\\u2019s JavaScript bundle inside the <head> element instead. <script> elements in <body> are evaluated with each page change.\\n\\n        For more information, see: https://github.com/turbolinks/turbolinks#working-with-script-elements\\n\\n        \\u2014\\u2014\\n        Suppress this warning by adding a \\\"data-turbolinks-suppress-warning\\\" attribute to: %s\\n      \"]))), element.outerHTML);\n    }\n  }\n})();\n\nvar templateObject_1;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport { BrowserAdapter } from \"./browser_adapter\";\nimport { History } from \"./history\";\nimport { Location } from \"./location\";\nimport { ScrollManager } from \"./scroll_manager\";\nimport { SnapshotCache } from \"./snapshot_cache\";\nimport { isAction } from \"./types\";\nimport { closest, defer, dispatch, uuid } from \"./util\";\nimport { View } from \"./view\";\nimport { Visit } from \"./visit\";\n\nvar Controller =\n/** @class */\nfunction () {\n  function Controller() {\n    var _this = this;\n\n    this.adapter = new BrowserAdapter(this);\n    this.history = new History(this);\n    this.restorationData = {};\n    this.scrollManager = new ScrollManager(this);\n    this.view = new View(this);\n    this.cache = new SnapshotCache(10);\n    this.enabled = true;\n    this.progressBarDelay = 500;\n    this.started = false; // Event handlers\n\n    this.pageLoaded = function () {\n      _this.lastRenderedLocation = _this.location;\n\n      _this.notifyApplicationAfterPageLoad();\n    };\n\n    this.clickCaptured = function () {\n      removeEventListener(\"click\", _this.clickBubbled, false);\n      addEventListener(\"click\", _this.clickBubbled, false);\n    };\n\n    this.clickBubbled = function (event) {\n      if (_this.enabled && _this.clickEventIsSignificant(event)) {\n        var link = _this.getVisitableLinkForTarget(event.target);\n\n        if (link) {\n          var location_1 = _this.getVisitableLocationForLink(link);\n\n          if (location_1 && _this.applicationAllowsFollowingLinkToLocation(link, location_1)) {\n            event.preventDefault();\n\n            var action = _this.getActionForLink(link);\n\n            _this.visit(location_1, {\n              action: action\n            });\n          }\n        }\n      }\n    };\n  }\n\n  Controller.prototype.start = function () {\n    if (Controller.supported && !this.started) {\n      addEventListener(\"click\", this.clickCaptured, true);\n      addEventListener(\"DOMContentLoaded\", this.pageLoaded, false);\n      this.scrollManager.start();\n      this.startHistory();\n      this.started = true;\n      this.enabled = true;\n    }\n  };\n\n  Controller.prototype.disable = function () {\n    this.enabled = false;\n  };\n\n  Controller.prototype.stop = function () {\n    if (this.started) {\n      removeEventListener(\"click\", this.clickCaptured, true);\n      removeEventListener(\"DOMContentLoaded\", this.pageLoaded, false);\n      this.scrollManager.stop();\n      this.stopHistory();\n      this.started = false;\n    }\n  };\n\n  Controller.prototype.clearCache = function () {\n    this.cache = new SnapshotCache(10);\n  };\n\n  Controller.prototype.visit = function (location, options) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    location = Location.wrap(location);\n\n    if (this.applicationAllowsVisitingLocation(location)) {\n      if (this.locationIsVisitable(location)) {\n        var action = options.action || \"advance\";\n        this.adapter.visitProposedToLocationWithAction(location, action);\n      } else {\n        window.location.href = location.toString();\n      }\n    }\n  };\n\n  Controller.prototype.startVisitToLocationWithAction = function (location, action, restorationIdentifier) {\n    if (Controller.supported) {\n      var restorationData = this.getRestorationDataForIdentifier(restorationIdentifier);\n      this.startVisit(Location.wrap(location), action, {\n        restorationData: restorationData\n      });\n    } else {\n      window.location.href = location.toString();\n    }\n  };\n\n  Controller.prototype.setProgressBarDelay = function (delay) {\n    this.progressBarDelay = delay;\n  }; // History\n\n\n  Controller.prototype.startHistory = function () {\n    this.location = Location.currentLocation;\n    this.restorationIdentifier = uuid();\n    this.history.start();\n    this.history.replace(this.location, this.restorationIdentifier);\n  };\n\n  Controller.prototype.stopHistory = function () {\n    this.history.stop();\n  };\n\n  Controller.prototype.pushHistoryWithLocationAndRestorationIdentifier = function (locatable, restorationIdentifier) {\n    this.location = Location.wrap(locatable);\n    this.restorationIdentifier = restorationIdentifier;\n    this.history.push(this.location, this.restorationIdentifier);\n  };\n\n  Controller.prototype.replaceHistoryWithLocationAndRestorationIdentifier = function (locatable, restorationIdentifier) {\n    this.location = Location.wrap(locatable);\n    this.restorationIdentifier = restorationIdentifier;\n    this.history.replace(this.location, this.restorationIdentifier);\n  }; // History delegate\n\n\n  Controller.prototype.historyPoppedToLocationWithRestorationIdentifier = function (location, restorationIdentifier) {\n    if (this.enabled) {\n      this.location = location;\n      this.restorationIdentifier = restorationIdentifier;\n      var restorationData = this.getRestorationDataForIdentifier(restorationIdentifier);\n      this.startVisit(location, \"restore\", {\n        restorationIdentifier: restorationIdentifier,\n        restorationData: restorationData,\n        historyChanged: true\n      });\n    } else {\n      this.adapter.pageInvalidated();\n    }\n  }; // Snapshot cache\n\n\n  Controller.prototype.getCachedSnapshotForLocation = function (location) {\n    var snapshot = this.cache.get(location);\n    return snapshot ? snapshot.clone() : snapshot;\n  };\n\n  Controller.prototype.shouldCacheSnapshot = function () {\n    return this.view.getSnapshot().isCacheable();\n  };\n\n  Controller.prototype.cacheSnapshot = function () {\n    var _this = this;\n\n    if (this.shouldCacheSnapshot()) {\n      this.notifyApplicationBeforeCachingSnapshot();\n      var snapshot_1 = this.view.getSnapshot();\n      var location_2 = this.lastRenderedLocation || Location.currentLocation;\n      defer(function () {\n        return _this.cache.put(location_2, snapshot_1.clone());\n      });\n    }\n  }; // Scrolling\n\n\n  Controller.prototype.scrollToAnchor = function (anchor) {\n    var element = this.view.getElementForAnchor(anchor);\n\n    if (element) {\n      this.scrollToElement(element);\n    } else {\n      this.scrollToPosition({\n        x: 0,\n        y: 0\n      });\n    }\n  };\n\n  Controller.prototype.scrollToElement = function (element) {\n    this.scrollManager.scrollToElement(element);\n  };\n\n  Controller.prototype.scrollToPosition = function (position) {\n    this.scrollManager.scrollToPosition(position);\n  }; // Scroll manager delegate\n\n\n  Controller.prototype.scrollPositionChanged = function (position) {\n    var restorationData = this.getCurrentRestorationData();\n    restorationData.scrollPosition = position;\n  }; // View\n\n\n  Controller.prototype.render = function (options, callback) {\n    this.view.render(options, callback);\n  };\n\n  Controller.prototype.viewInvalidated = function () {\n    this.adapter.pageInvalidated();\n  };\n\n  Controller.prototype.viewWillRender = function (newBody) {\n    this.notifyApplicationBeforeRender(newBody);\n  };\n\n  Controller.prototype.viewRendered = function () {\n    this.lastRenderedLocation = this.currentVisit.location;\n    this.notifyApplicationAfterRender();\n  }; // Application events\n\n\n  Controller.prototype.applicationAllowsFollowingLinkToLocation = function (link, location) {\n    var event = this.notifyApplicationAfterClickingLinkToLocation(link, location);\n    return !event.defaultPrevented;\n  };\n\n  Controller.prototype.applicationAllowsVisitingLocation = function (location) {\n    var event = this.notifyApplicationBeforeVisitingLocation(location);\n    return !event.defaultPrevented;\n  };\n\n  Controller.prototype.notifyApplicationAfterClickingLinkToLocation = function (link, location) {\n    return dispatch(\"turbolinks:click\", {\n      target: link,\n      data: {\n        url: location.absoluteURL\n      },\n      cancelable: true\n    });\n  };\n\n  Controller.prototype.notifyApplicationBeforeVisitingLocation = function (location) {\n    return dispatch(\"turbolinks:before-visit\", {\n      data: {\n        url: location.absoluteURL\n      },\n      cancelable: true\n    });\n  };\n\n  Controller.prototype.notifyApplicationAfterVisitingLocation = function (location) {\n    return dispatch(\"turbolinks:visit\", {\n      data: {\n        url: location.absoluteURL\n      }\n    });\n  };\n\n  Controller.prototype.notifyApplicationBeforeCachingSnapshot = function () {\n    return dispatch(\"turbolinks:before-cache\");\n  };\n\n  Controller.prototype.notifyApplicationBeforeRender = function (newBody) {\n    return dispatch(\"turbolinks:before-render\", {\n      data: {\n        newBody: newBody\n      }\n    });\n  };\n\n  Controller.prototype.notifyApplicationAfterRender = function () {\n    return dispatch(\"turbolinks:render\");\n  };\n\n  Controller.prototype.notifyApplicationAfterPageLoad = function (timing) {\n    if (timing === void 0) {\n      timing = {};\n    }\n\n    return dispatch(\"turbolinks:load\", {\n      data: {\n        url: this.location.absoluteURL,\n        timing: timing\n      }\n    });\n  }; // Private\n\n\n  Controller.prototype.startVisit = function (location, action, properties) {\n    if (this.currentVisit) {\n      this.currentVisit.cancel();\n    }\n\n    this.currentVisit = this.createVisit(location, action, properties);\n    this.currentVisit.start();\n    this.notifyApplicationAfterVisitingLocation(location);\n  };\n\n  Controller.prototype.createVisit = function (location, action, properties) {\n    var visit = new Visit(this, location, action, properties.restorationIdentifier);\n    visit.restorationData = __assign({}, properties.restorationData || {});\n    visit.historyChanged = !!properties.historyChanged;\n    visit.referrer = this.location;\n    return visit;\n  };\n\n  Controller.prototype.visitCompleted = function (visit) {\n    this.notifyApplicationAfterPageLoad(visit.getTimingMetrics());\n  };\n\n  Controller.prototype.clickEventIsSignificant = function (event) {\n    return !(event.target && event.target.isContentEditable || event.defaultPrevented || event.which > 1 || event.altKey || event.ctrlKey || event.metaKey || event.shiftKey);\n  };\n\n  Controller.prototype.getVisitableLinkForTarget = function (target) {\n    if (target instanceof Element && this.elementIsVisitable(target)) {\n      return closest(target, \"a[href]:not([target]):not([download])\");\n    }\n  };\n\n  Controller.prototype.getVisitableLocationForLink = function (link) {\n    var location = new Location(link.getAttribute(\"href\") || \"\");\n\n    if (this.locationIsVisitable(location)) {\n      return location;\n    }\n  };\n\n  Controller.prototype.getActionForLink = function (link) {\n    var action = link.getAttribute(\"data-turbolinks-action\");\n    return isAction(action) ? action : \"advance\";\n  };\n\n  Controller.prototype.elementIsVisitable = function (element) {\n    var container = closest(element, \"[data-turbolinks]\");\n\n    if (container) {\n      return container.getAttribute(\"data-turbolinks\") != \"false\";\n    } else {\n      return true;\n    }\n  };\n\n  Controller.prototype.locationIsVisitable = function (location) {\n    return location.isPrefixedBy(this.view.getRootLocation()) && location.isHTML();\n  };\n\n  Controller.prototype.getCurrentRestorationData = function () {\n    return this.getRestorationDataForIdentifier(this.restorationIdentifier);\n  };\n\n  Controller.prototype.getRestorationDataForIdentifier = function (identifier) {\n    if (!(identifier in this.restorationData)) {\n      this.restorationData[identifier] = {};\n    }\n\n    return this.restorationData[identifier];\n  };\n\n  Controller.supported = !!(window.history.pushState && window.requestAnimationFrame && window.addEventListener);\n  return Controller;\n}();\n\nexport { Controller };","export function isAction(action) {\n  return action == \"advance\" || action == \"replace\" || action == \"restore\";\n}","import { Controller } from \"./controller\";\nvar controller = new Controller();\nexport default {\n  get supported() {\n    return Controller.supported;\n  },\n\n  controller: controller,\n  visit: function visit(location, options) {\n    controller.visit(location, options);\n  },\n  clearCache: function clearCache() {\n    controller.clearCache();\n  },\n  setProgressBarDelay: function setProgressBarDelay(delay) {\n    controller.setProgressBarDelay(delay);\n  },\n  start: function start() {\n    controller.start();\n  }\n};","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nimport namespace from \"./namespace\";\nimport \"./script_warning\";\nexport default namespace;\n\nif (!window.Turbolinks) {\n  window.Turbolinks = namespace;\n\n  if (!isAMD() && !isCommonJS()) {\n    namespace.start();\n  }\n}\n\nfunction isAMD() {\n  return typeof define == \"function\" && define.amd;\n}\n\nfunction isCommonJS() {\n  return (typeof exports === \"undefined\" ? \"undefined\" : _typeof(exports)) == \"object\" && typeof module != \"undefined\";\n}","import Rails from '@rails/ujs'\nimport Turbolinks from 'qinmingyuan_turbolinks'\nimport 'rails_com/package/remote_js_load'\n\nRails.start()\nTurbolinks.start()\n\nconst timeForLocalized = () => {\n  document.querySelectorAll('time:not([data-localized=\"true\"])').forEach(el => {\n    if (el.textContent.length > 0) {\n      let format = el.dataset['format'] || 'YYYY-MM-DD HH:mm'\n      el.textContent = moment.utc(el.textContent).local().format(format)\n      el.dataset['localized'] = 'true'\n    }\n  })\n}\n\ndocument.addEventListener('DOMContentLoaded', function() {\n  timeForLocalized()\n})\ndocument.addEventListener('turbolinks:load', function() {\n  timeForLocalized()\n})\ndocument.addEventListener('turbolinks:visit', function() {\n  timeForLocalized()\n})\ndocument.addEventListener('ajax:success', function() {\n  timeForLocalized()\n})\n\ndocument.addEventListener('ajax:beforeSend', function(event) {\n  let xhr = event.detail[0]\n  let offset = (new Date).getTimezoneOffset()\n  xhr.setRequestHeader('Utc-Offset', offset)\n  xhr.setRequestHeader('X-Csp-Nonce', Rails.cspNonce())\n})\ndocument.addEventListener('turbolinks:request-start', function(event) {\n  let xhr = event.data.xhr\n  let offset = (new Date).getTimezoneOffset()\n  xhr.setRequestHeader('Utc-Offset', offset)\n  xhr.setRequestHeader('X-Csp-Nonce', Rails.cspNonce())\n})\n","import './application'\nimport '../stimulus_com'\n","/* globals __webpack_amd_options__ */\nmodule.exports = __webpack_amd_options__;\n","import { Application } from 'stimulus'\n\nwindow.application = Application.start()\n\n// el.dataset.add_controller('xx')\nDOMStringMap.prototype.add_controller = function(controller_name) {\n  if (typeof this.controller === 'string' && this.controller.length > 0) {\n    this.controller = this.controller.concat(' ').concat(controller_name)\n  } else {\n    this.controller = controller_name\n  }\n}\n\n// el.dataset.add_target('xx')\nDOMStringMap.prototype.add_target = function(target_name) {\n  if (typeof this.target === 'string') {\n    let targets = this.target.split(' ')\n    if (!targets.includes(target_name)) {\n      targets.push(target_name)\n    }\n    this.target = targets.join(' ')\n  } else {\n    this.target = target_name\n  }\n}\n\n// el.dataset.remove_target('xx')\nDOMStringMap.prototype.remove_target = function(target_name) {\n  if (typeof this.target === 'string') {\n    let targets = this.target.split(' ')\n    let index = targets.indexOf(target_name)\n    if (index > -1) {\n      targets.splice(index, 1)\n    }\n    this.target = targets.join(' ')\n  }\n}\n","import { Controller } from 'stimulus'\n\n// data-controller=\"input\"\nclass InputController extends Controller {\n\n  connect() {\n    console.log('Input Controller works!')\n  }\n\n  submit(event) {\n    let el = event.target\n    if (el.dataset['params']) {\n      el.dataset['params'] += '&'\n    } else {\n      el.dataset['params'] = ''\n    }\n    let str\n    if (el.defaultValue === '') {\n      str = el.name + '=' + el.checked\n    } else if (el.nodeName === 'SELECT') {\n      str = el.name + '=' + el.value\n    } else {\n      str = el.name + '=' + el.defaultValue\n    }\n    el.dataset['params'] += str\n  }\n\n  form(event) {\n    Rails.fire(event.target.form, 'submit')\n  }\n\n  filter(event) {\n    let el = event.target\n    let url = new URL(location)\n    url.searchParams.set(el.name, el.value)\n\n    Turbolinks.visit(url)\n  }\n\n  remove() {\n    this.element.remove()\n  }\n\n}\n\napplication.register('input', InputController)\n","import { Controller } from 'stimulus'\n\n// data-controller=\"menu\"\nclass MenuController extends Controller {\n\n  connect() {\n    console.log('Menu Controller works!')\n  }\n\n  toggle() {\n    this.element.classList.toggle('is-active')\n  }\n\n}\n\napplication.register('menu', MenuController)\n","import { Controller } from 'stimulus'\n\nclass NavbarController extends Controller {\n  static targets = ['menu']\n\n  connect() {\n    console.log('Navbar Controller works!')\n  }\n\n  toggle(element) {\n    element.currentTarget.classList.toggle('is-active')\n    this.menuTarget.classList.toggle('is-active')\n  }\n\n}\n\napplication.register('navbar', NavbarController)\n","import { Controller } from 'stimulus'\nimport Sortable from 'sortablejs'\n\nclass SortableController extends Controller {\n\n  reload(element) {\n    Sortable.create(element, {\n      onEnd: function(evt) {\n        if (evt.oldIndex === evt.newIndex) {\n          return\n        }\n        let url = element.dataset['src'] + evt.item.dataset['id'] + '/reorder'\n        let body = new FormData()\n        this.toArray().forEach(el => {\n          body.append('sort_array[]', el)\n        })\n        body.append('old_index', evt.oldIndex)\n        body.append('new_index', evt.newIndex)\n\n        Rails.ajax({ url: url, type: 'PATCH', dataType: 'script', data: body })\n      }\n    })\n  }\n\n  connect() {\n    console.log('Sortable Controller works!')\n    this.reload(this.element)\n  }\n\n}\n\napplication.register('sortable', SortableController)\n","var EventListener =\n/** @class */\nfunction () {\n  function EventListener(eventTarget, eventName) {\n    this.eventTarget = eventTarget;\n    this.eventName = eventName;\n    this.unorderedBindings = new Set();\n  }\n\n  EventListener.prototype.connect = function () {\n    this.eventTarget.addEventListener(this.eventName, this, false);\n  };\n\n  EventListener.prototype.disconnect = function () {\n    this.eventTarget.removeEventListener(this.eventName, this, false);\n  }; // Binding observer delegate\n\n  /** @hidden */\n\n\n  EventListener.prototype.bindingConnected = function (binding) {\n    this.unorderedBindings.add(binding);\n  };\n  /** @hidden */\n\n\n  EventListener.prototype.bindingDisconnected = function (binding) {\n    this.unorderedBindings[\"delete\"](binding);\n  };\n\n  EventListener.prototype.handleEvent = function (event) {\n    var extendedEvent = extendEvent(event);\n\n    for (var _i = 0, _a = this.bindings; _i < _a.length; _i++) {\n      var binding = _a[_i];\n\n      if (extendedEvent.immediatePropagationStopped) {\n        break;\n      } else {\n        binding.handleEvent(extendedEvent);\n      }\n    }\n  };\n\n  Object.defineProperty(EventListener.prototype, \"bindings\", {\n    get: function get() {\n      return Array.from(this.unorderedBindings).sort(function (left, right) {\n        var leftIndex = left.index,\n            rightIndex = right.index;\n        return leftIndex < rightIndex ? -1 : leftIndex > rightIndex ? 1 : 0;\n      });\n    },\n    enumerable: true,\n    configurable: true\n  });\n  return EventListener;\n}();\n\nexport { EventListener };\n\nfunction extendEvent(event) {\n  if (\"immediatePropagationStopped\" in event) {\n    return event;\n  } else {\n    var stopImmediatePropagation_1 = event.stopImmediatePropagation;\n    return Object.assign(event, {\n      immediatePropagationStopped: false,\n      stopImmediatePropagation: function stopImmediatePropagation() {\n        this.immediatePropagationStopped = true;\n        stopImmediatePropagation_1.call(this);\n      }\n    });\n  }\n}","import { EventListener } from \"./event_listener\";\n\nvar Dispatcher =\n/** @class */\nfunction () {\n  function Dispatcher(application) {\n    this.application = application;\n    this.eventListenerMaps = new Map();\n    this.started = false;\n  }\n\n  Dispatcher.prototype.start = function () {\n    if (!this.started) {\n      this.started = true;\n      this.eventListeners.forEach(function (eventListener) {\n        return eventListener.connect();\n      });\n    }\n  };\n\n  Dispatcher.prototype.stop = function () {\n    if (this.started) {\n      this.started = false;\n      this.eventListeners.forEach(function (eventListener) {\n        return eventListener.disconnect();\n      });\n    }\n  };\n\n  Object.defineProperty(Dispatcher.prototype, \"eventListeners\", {\n    get: function get() {\n      return Array.from(this.eventListenerMaps.values()).reduce(function (listeners, map) {\n        return listeners.concat(Array.from(map.values()));\n      }, []);\n    },\n    enumerable: true,\n    configurable: true\n  }); // Binding observer delegate\n\n  /** @hidden */\n\n  Dispatcher.prototype.bindingConnected = function (binding) {\n    this.fetchEventListenerForBinding(binding).bindingConnected(binding);\n  };\n  /** @hidden */\n\n\n  Dispatcher.prototype.bindingDisconnected = function (binding) {\n    this.fetchEventListenerForBinding(binding).bindingDisconnected(binding);\n  }; // Error handling\n\n\n  Dispatcher.prototype.handleError = function (error, message, detail) {\n    if (detail === void 0) {\n      detail = {};\n    }\n\n    this.application.handleError(error, \"Error \" + message, detail);\n  };\n\n  Dispatcher.prototype.fetchEventListenerForBinding = function (binding) {\n    var eventTarget = binding.eventTarget,\n        eventName = binding.eventName;\n    return this.fetchEventListener(eventTarget, eventName);\n  };\n\n  Dispatcher.prototype.fetchEventListener = function (eventTarget, eventName) {\n    var eventListenerMap = this.fetchEventListenerMapForEventTarget(eventTarget);\n    var eventListener = eventListenerMap.get(eventName);\n\n    if (!eventListener) {\n      eventListener = this.createEventListener(eventTarget, eventName);\n      eventListenerMap.set(eventName, eventListener);\n    }\n\n    return eventListener;\n  };\n\n  Dispatcher.prototype.createEventListener = function (eventTarget, eventName) {\n    var eventListener = new EventListener(eventTarget, eventName);\n\n    if (this.started) {\n      eventListener.connect();\n    }\n\n    return eventListener;\n  };\n\n  Dispatcher.prototype.fetchEventListenerMapForEventTarget = function (eventTarget) {\n    var eventListenerMap = this.eventListenerMaps.get(eventTarget);\n\n    if (!eventListenerMap) {\n      eventListenerMap = new Map();\n      this.eventListenerMaps.set(eventTarget, eventListenerMap);\n    }\n\n    return eventListenerMap;\n  };\n\n  return Dispatcher;\n}();\n\nexport { Dispatcher };","// capture nos.:            12   23 4               43   1 5   56 7  76\nvar descriptorPattern = /^((.+?)(@(window|document))?->)?(.+?)(#(.+))?$/;\nexport function parseDescriptorString(descriptorString) {\n  var source = descriptorString.trim();\n  var matches = source.match(descriptorPattern) || [];\n  return {\n    eventTarget: parseEventTarget(matches[4]),\n    eventName: matches[2],\n    identifier: matches[5],\n    methodName: matches[7]\n  };\n}\n\nfunction parseEventTarget(eventTargetName) {\n  if (eventTargetName == \"window\") {\n    return window;\n  } else if (eventTargetName == \"document\") {\n    return document;\n  }\n}\n\nexport function stringifyEventTarget(eventTarget) {\n  if (eventTarget == window) {\n    return \"window\";\n  } else if (eventTarget == document) {\n    return \"document\";\n  }\n}","import { parseDescriptorString, stringifyEventTarget } from \"./action_descriptor\";\n\nvar Action =\n/** @class */\nfunction () {\n  function Action(element, index, descriptor) {\n    this.element = element;\n    this.index = index;\n    this.eventTarget = descriptor.eventTarget || element;\n    this.eventName = descriptor.eventName || getDefaultEventNameForElement(element) || error(\"missing event name\");\n    this.identifier = descriptor.identifier || error(\"missing identifier\");\n    this.methodName = descriptor.methodName || error(\"missing method name\");\n  }\n\n  Action.forToken = function (token) {\n    return new this(token.element, token.index, parseDescriptorString(token.content));\n  };\n\n  Action.prototype.toString = function () {\n    var eventNameSuffix = this.eventTargetName ? \"@\" + this.eventTargetName : \"\";\n    return \"\" + this.eventName + eventNameSuffix + \"->\" + this.identifier + \"#\" + this.methodName;\n  };\n\n  Object.defineProperty(Action.prototype, \"eventTargetName\", {\n    get: function get() {\n      return stringifyEventTarget(this.eventTarget);\n    },\n    enumerable: true,\n    configurable: true\n  });\n  return Action;\n}();\n\nexport { Action };\nvar defaultEventNames = {\n  \"a\": function a(e) {\n    return \"click\";\n  },\n  \"button\": function button(e) {\n    return \"click\";\n  },\n  \"form\": function form(e) {\n    return \"submit\";\n  },\n  \"input\": function input(e) {\n    return e.getAttribute(\"type\") == \"submit\" ? \"click\" : \"change\";\n  },\n  \"select\": function select(e) {\n    return \"change\";\n  },\n  \"textarea\": function textarea(e) {\n    return \"change\";\n  }\n};\nexport function getDefaultEventNameForElement(element) {\n  var tagName = element.tagName.toLowerCase();\n\n  if (tagName in defaultEventNames) {\n    return defaultEventNames[tagName](element);\n  }\n}\n\nfunction error(message) {\n  throw new Error(message);\n}","var Binding =\n/** @class */\nfunction () {\n  function Binding(context, action) {\n    this.context = context;\n    this.action = action;\n  }\n\n  Object.defineProperty(Binding.prototype, \"index\", {\n    get: function get() {\n      return this.action.index;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Binding.prototype, \"eventTarget\", {\n    get: function get() {\n      return this.action.eventTarget;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Binding.prototype, \"identifier\", {\n    get: function get() {\n      return this.context.identifier;\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  Binding.prototype.handleEvent = function (event) {\n    if (this.willBeInvokedByEvent(event)) {\n      this.invokeWithEvent(event);\n    }\n  };\n\n  Object.defineProperty(Binding.prototype, \"eventName\", {\n    get: function get() {\n      return this.action.eventName;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Binding.prototype, \"method\", {\n    get: function get() {\n      var method = this.controller[this.methodName];\n\n      if (typeof method == \"function\") {\n        return method;\n      }\n\n      throw new Error(\"Action \\\"\" + this.action + \"\\\" references undefined method \\\"\" + this.methodName + \"\\\"\");\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  Binding.prototype.invokeWithEvent = function (event) {\n    try {\n      this.method.call(this.controller, event);\n    } catch (error) {\n      var _a = this,\n          identifier = _a.identifier,\n          controller = _a.controller,\n          element = _a.element,\n          index = _a.index;\n\n      var detail = {\n        identifier: identifier,\n        controller: controller,\n        element: element,\n        index: index,\n        event: event\n      };\n      this.context.handleError(error, \"invoking action \\\"\" + this.action + \"\\\"\", detail);\n    }\n  };\n\n  Binding.prototype.willBeInvokedByEvent = function (event) {\n    var eventTarget = event.target;\n\n    if (this.element === eventTarget) {\n      return true;\n    } else if (eventTarget instanceof Element && this.element.contains(eventTarget)) {\n      return this.scope.containsElement(eventTarget);\n    } else {\n      return true;\n    }\n  };\n\n  Object.defineProperty(Binding.prototype, \"controller\", {\n    get: function get() {\n      return this.context.controller;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Binding.prototype, \"methodName\", {\n    get: function get() {\n      return this.action.methodName;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Binding.prototype, \"element\", {\n    get: function get() {\n      return this.scope.element;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Binding.prototype, \"scope\", {\n    get: function get() {\n      return this.context.scope;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  return Binding;\n}();\n\nexport { Binding };","var ElementObserver =\n/** @class */\nfunction () {\n  function ElementObserver(element, delegate) {\n    var _this = this;\n\n    this.element = element;\n    this.started = false;\n    this.delegate = delegate;\n    this.elements = new Set();\n    this.mutationObserver = new MutationObserver(function (mutations) {\n      return _this.processMutations(mutations);\n    });\n  }\n\n  ElementObserver.prototype.start = function () {\n    if (!this.started) {\n      this.started = true;\n      this.mutationObserver.observe(this.element, {\n        attributes: true,\n        childList: true,\n        subtree: true\n      });\n      this.refresh();\n    }\n  };\n\n  ElementObserver.prototype.stop = function () {\n    if (this.started) {\n      this.mutationObserver.takeRecords();\n      this.mutationObserver.disconnect();\n      this.started = false;\n    }\n  };\n\n  ElementObserver.prototype.refresh = function () {\n    if (this.started) {\n      var matches = new Set(this.matchElementsInTree());\n\n      for (var _i = 0, _a = Array.from(this.elements); _i < _a.length; _i++) {\n        var element = _a[_i];\n\n        if (!matches.has(element)) {\n          this.removeElement(element);\n        }\n      }\n\n      for (var _b = 0, _c = Array.from(matches); _b < _c.length; _b++) {\n        var element = _c[_b];\n        this.addElement(element);\n      }\n    }\n  }; // Mutation record processing\n\n\n  ElementObserver.prototype.processMutations = function (mutations) {\n    if (this.started) {\n      for (var _i = 0, mutations_1 = mutations; _i < mutations_1.length; _i++) {\n        var mutation = mutations_1[_i];\n        this.processMutation(mutation);\n      }\n    }\n  };\n\n  ElementObserver.prototype.processMutation = function (mutation) {\n    if (mutation.type == \"attributes\") {\n      this.processAttributeChange(mutation.target, mutation.attributeName);\n    } else if (mutation.type == \"childList\") {\n      this.processRemovedNodes(mutation.removedNodes);\n      this.processAddedNodes(mutation.addedNodes);\n    }\n  };\n\n  ElementObserver.prototype.processAttributeChange = function (node, attributeName) {\n    var element = node;\n\n    if (this.elements.has(element)) {\n      if (this.delegate.elementAttributeChanged && this.matchElement(element)) {\n        this.delegate.elementAttributeChanged(element, attributeName);\n      } else {\n        this.removeElement(element);\n      }\n    } else if (this.matchElement(element)) {\n      this.addElement(element);\n    }\n  };\n\n  ElementObserver.prototype.processRemovedNodes = function (nodes) {\n    for (var _i = 0, _a = Array.from(nodes); _i < _a.length; _i++) {\n      var node = _a[_i];\n      var element = this.elementFromNode(node);\n\n      if (element) {\n        this.processTree(element, this.removeElement);\n      }\n    }\n  };\n\n  ElementObserver.prototype.processAddedNodes = function (nodes) {\n    for (var _i = 0, _a = Array.from(nodes); _i < _a.length; _i++) {\n      var node = _a[_i];\n      var element = this.elementFromNode(node);\n\n      if (element && this.elementIsActive(element)) {\n        this.processTree(element, this.addElement);\n      }\n    }\n  }; // Element matching\n\n\n  ElementObserver.prototype.matchElement = function (element) {\n    return this.delegate.matchElement(element);\n  };\n\n  ElementObserver.prototype.matchElementsInTree = function (tree) {\n    if (tree === void 0) {\n      tree = this.element;\n    }\n\n    return this.delegate.matchElementsInTree(tree);\n  };\n\n  ElementObserver.prototype.processTree = function (tree, processor) {\n    for (var _i = 0, _a = this.matchElementsInTree(tree); _i < _a.length; _i++) {\n      var element = _a[_i];\n      processor.call(this, element);\n    }\n  };\n\n  ElementObserver.prototype.elementFromNode = function (node) {\n    if (node.nodeType == Node.ELEMENT_NODE) {\n      return node;\n    }\n  };\n\n  ElementObserver.prototype.elementIsActive = function (element) {\n    if (element.isConnected != this.element.isConnected) {\n      return false;\n    } else {\n      return this.element.contains(element);\n    }\n  }; // Element tracking\n\n\n  ElementObserver.prototype.addElement = function (element) {\n    if (!this.elements.has(element)) {\n      if (this.elementIsActive(element)) {\n        this.elements.add(element);\n\n        if (this.delegate.elementMatched) {\n          this.delegate.elementMatched(element);\n        }\n      }\n    }\n  };\n\n  ElementObserver.prototype.removeElement = function (element) {\n    if (this.elements.has(element)) {\n      this.elements[\"delete\"](element);\n\n      if (this.delegate.elementUnmatched) {\n        this.delegate.elementUnmatched(element);\n      }\n    }\n  };\n\n  return ElementObserver;\n}();\n\nexport { ElementObserver };","import { ElementObserver } from \"./element_observer\";\n\nvar AttributeObserver =\n/** @class */\nfunction () {\n  function AttributeObserver(element, attributeName, delegate) {\n    this.attributeName = attributeName;\n    this.delegate = delegate;\n    this.elementObserver = new ElementObserver(element, this);\n  }\n\n  Object.defineProperty(AttributeObserver.prototype, \"element\", {\n    get: function get() {\n      return this.elementObserver.element;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(AttributeObserver.prototype, \"selector\", {\n    get: function get() {\n      return \"[\" + this.attributeName + \"]\";\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  AttributeObserver.prototype.start = function () {\n    this.elementObserver.start();\n  };\n\n  AttributeObserver.prototype.stop = function () {\n    this.elementObserver.stop();\n  };\n\n  AttributeObserver.prototype.refresh = function () {\n    this.elementObserver.refresh();\n  };\n\n  Object.defineProperty(AttributeObserver.prototype, \"started\", {\n    get: function get() {\n      return this.elementObserver.started;\n    },\n    enumerable: true,\n    configurable: true\n  }); // Element observer delegate\n\n  AttributeObserver.prototype.matchElement = function (element) {\n    return element.hasAttribute(this.attributeName);\n  };\n\n  AttributeObserver.prototype.matchElementsInTree = function (tree) {\n    var match = this.matchElement(tree) ? [tree] : [];\n    var matches = Array.from(tree.querySelectorAll(this.selector));\n    return match.concat(matches);\n  };\n\n  AttributeObserver.prototype.elementMatched = function (element) {\n    if (this.delegate.elementMatchedAttribute) {\n      this.delegate.elementMatchedAttribute(element, this.attributeName);\n    }\n  };\n\n  AttributeObserver.prototype.elementUnmatched = function (element) {\n    if (this.delegate.elementUnmatchedAttribute) {\n      this.delegate.elementUnmatchedAttribute(element, this.attributeName);\n    }\n  };\n\n  AttributeObserver.prototype.elementAttributeChanged = function (element, attributeName) {\n    if (this.delegate.elementAttributeValueChanged && this.attributeName == attributeName) {\n      this.delegate.elementAttributeValueChanged(element, attributeName);\n    }\n  };\n\n  return AttributeObserver;\n}();\n\nexport { AttributeObserver };","export function add(map, key, value) {\n  fetch(map, key).add(value);\n}\nexport function del(map, key, value) {\n  fetch(map, key)[\"delete\"](value);\n  prune(map, key);\n}\nexport function fetch(map, key) {\n  var values = map.get(key);\n\n  if (!values) {\n    values = new Set();\n    map.set(key, values);\n  }\n\n  return values;\n}\nexport function prune(map, key) {\n  var values = map.get(key);\n\n  if (values != null && values.size == 0) {\n    map[\"delete\"](key);\n  }\n}","import { add, del } from \"./set_operations\";\n\nvar Multimap =\n/** @class */\nfunction () {\n  function Multimap() {\n    this.valuesByKey = new Map();\n  }\n\n  Object.defineProperty(Multimap.prototype, \"values\", {\n    get: function get() {\n      var sets = Array.from(this.valuesByKey.values());\n      return sets.reduce(function (values, set) {\n        return values.concat(Array.from(set));\n      }, []);\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Multimap.prototype, \"size\", {\n    get: function get() {\n      var sets = Array.from(this.valuesByKey.values());\n      return sets.reduce(function (size, set) {\n        return size + set.size;\n      }, 0);\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  Multimap.prototype.add = function (key, value) {\n    add(this.valuesByKey, key, value);\n  };\n\n  Multimap.prototype[\"delete\"] = function (key, value) {\n    del(this.valuesByKey, key, value);\n  };\n\n  Multimap.prototype.has = function (key, value) {\n    var values = this.valuesByKey.get(key);\n    return values != null && values.has(value);\n  };\n\n  Multimap.prototype.hasKey = function (key) {\n    return this.valuesByKey.has(key);\n  };\n\n  Multimap.prototype.hasValue = function (value) {\n    var sets = Array.from(this.valuesByKey.values());\n    return sets.some(function (set) {\n      return set.has(value);\n    });\n  };\n\n  Multimap.prototype.getValuesForKey = function (key) {\n    var values = this.valuesByKey.get(key);\n    return values ? Array.from(values) : [];\n  };\n\n  Multimap.prototype.getKeysForValue = function (value) {\n    return Array.from(this.valuesByKey).filter(function (_a) {\n      var key = _a[0],\n          values = _a[1];\n      return values.has(value);\n    }).map(function (_a) {\n      var key = _a[0],\n          values = _a[1];\n      return key;\n    });\n  };\n\n  return Multimap;\n}();\n\nexport { Multimap };","var __extends = this && this.__extends || function () {\n  var extendStatics = Object.setPrototypeOf || {\n    __proto__: []\n  } instanceof Array && function (d, b) {\n    d.__proto__ = b;\n  } || function (d, b) {\n    for (var p in b) {\n      if (b.hasOwnProperty(p)) d[p] = b[p];\n    }\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nimport { Multimap } from \"./multimap\";\nimport { add, del } from \"./set_operations\";\n\nvar IndexedMultimap =\n/** @class */\nfunction (_super) {\n  __extends(IndexedMultimap, _super);\n\n  function IndexedMultimap() {\n    var _this = _super.call(this) || this;\n\n    _this.keysByValue = new Map();\n    return _this;\n  }\n\n  Object.defineProperty(IndexedMultimap.prototype, \"values\", {\n    get: function get() {\n      return Array.from(this.keysByValue.keys());\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  IndexedMultimap.prototype.add = function (key, value) {\n    _super.prototype.add.call(this, key, value);\n\n    add(this.keysByValue, value, key);\n  };\n\n  IndexedMultimap.prototype[\"delete\"] = function (key, value) {\n    _super.prototype[\"delete\"].call(this, key, value);\n\n    del(this.keysByValue, value, key);\n  };\n\n  IndexedMultimap.prototype.hasValue = function (value) {\n    return this.keysByValue.has(value);\n  };\n\n  IndexedMultimap.prototype.getKeysForValue = function (value) {\n    var set = this.keysByValue.get(value);\n    return set ? Array.from(set) : [];\n  };\n\n  return IndexedMultimap;\n}(Multimap);\n\nexport { IndexedMultimap };","import { AttributeObserver } from \"./attribute_observer\";\nimport { Multimap } from \"@stimulus/multimap\";\n\nvar TokenListObserver =\n/** @class */\nfunction () {\n  function TokenListObserver(element, attributeName, delegate) {\n    this.attributeObserver = new AttributeObserver(element, attributeName, this);\n    this.delegate = delegate;\n    this.tokensByElement = new Multimap();\n  }\n\n  Object.defineProperty(TokenListObserver.prototype, \"started\", {\n    get: function get() {\n      return this.attributeObserver.started;\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  TokenListObserver.prototype.start = function () {\n    this.attributeObserver.start();\n  };\n\n  TokenListObserver.prototype.stop = function () {\n    this.attributeObserver.stop();\n  };\n\n  TokenListObserver.prototype.refresh = function () {\n    this.attributeObserver.refresh();\n  };\n\n  Object.defineProperty(TokenListObserver.prototype, \"element\", {\n    get: function get() {\n      return this.attributeObserver.element;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(TokenListObserver.prototype, \"attributeName\", {\n    get: function get() {\n      return this.attributeObserver.attributeName;\n    },\n    enumerable: true,\n    configurable: true\n  }); // Attribute observer delegate\n\n  TokenListObserver.prototype.elementMatchedAttribute = function (element) {\n    this.tokensMatched(this.readTokensForElement(element));\n  };\n\n  TokenListObserver.prototype.elementAttributeValueChanged = function (element) {\n    var _a = this.refreshTokensForElement(element),\n        unmatchedTokens = _a[0],\n        matchedTokens = _a[1];\n\n    this.tokensUnmatched(unmatchedTokens);\n    this.tokensMatched(matchedTokens);\n  };\n\n  TokenListObserver.prototype.elementUnmatchedAttribute = function (element) {\n    this.tokensUnmatched(this.tokensByElement.getValuesForKey(element));\n  };\n\n  TokenListObserver.prototype.tokensMatched = function (tokens) {\n    var _this = this;\n\n    tokens.forEach(function (token) {\n      return _this.tokenMatched(token);\n    });\n  };\n\n  TokenListObserver.prototype.tokensUnmatched = function (tokens) {\n    var _this = this;\n\n    tokens.forEach(function (token) {\n      return _this.tokenUnmatched(token);\n    });\n  };\n\n  TokenListObserver.prototype.tokenMatched = function (token) {\n    this.delegate.tokenMatched(token);\n    this.tokensByElement.add(token.element, token);\n  };\n\n  TokenListObserver.prototype.tokenUnmatched = function (token) {\n    this.delegate.tokenUnmatched(token);\n    this.tokensByElement[\"delete\"](token.element, token);\n  };\n\n  TokenListObserver.prototype.refreshTokensForElement = function (element) {\n    var previousTokens = this.tokensByElement.getValuesForKey(element);\n    var currentTokens = this.readTokensForElement(element);\n    var firstDifferingIndex = zip(previousTokens, currentTokens).findIndex(function (_a) {\n      var previousToken = _a[0],\n          currentToken = _a[1];\n      return !tokensAreEqual(previousToken, currentToken);\n    });\n\n    if (firstDifferingIndex == -1) {\n      return [[], []];\n    } else {\n      return [previousTokens.slice(firstDifferingIndex), currentTokens.slice(firstDifferingIndex)];\n    }\n  };\n\n  TokenListObserver.prototype.readTokensForElement = function (element) {\n    var attributeName = this.attributeName;\n    var tokenString = element.getAttribute(attributeName) || \"\";\n    return parseTokenString(tokenString, element, attributeName);\n  };\n\n  return TokenListObserver;\n}();\n\nexport { TokenListObserver };\n\nfunction parseTokenString(tokenString, element, attributeName) {\n  return tokenString.trim().split(/\\s+/).filter(function (content) {\n    return content.length;\n  }).map(function (content, index) {\n    return {\n      element: element,\n      attributeName: attributeName,\n      content: content,\n      index: index\n    };\n  });\n}\n\nfunction zip(left, right) {\n  var length = Math.max(left.length, right.length);\n  return Array.from({\n    length: length\n  }, function (_, index) {\n    return [left[index], right[index]];\n  });\n}\n\nfunction tokensAreEqual(left, right) {\n  return left && right && left.index == right.index && left.content == right.content;\n}","import { TokenListObserver } from \"./token_list_observer\";\n\nvar ValueListObserver =\n/** @class */\nfunction () {\n  function ValueListObserver(element, attributeName, delegate) {\n    this.tokenListObserver = new TokenListObserver(element, attributeName, this);\n    this.delegate = delegate;\n    this.parseResultsByToken = new WeakMap();\n    this.valuesByTokenByElement = new WeakMap();\n  }\n\n  Object.defineProperty(ValueListObserver.prototype, \"started\", {\n    get: function get() {\n      return this.tokenListObserver.started;\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  ValueListObserver.prototype.start = function () {\n    this.tokenListObserver.start();\n  };\n\n  ValueListObserver.prototype.stop = function () {\n    this.tokenListObserver.stop();\n  };\n\n  ValueListObserver.prototype.refresh = function () {\n    this.tokenListObserver.refresh();\n  };\n\n  Object.defineProperty(ValueListObserver.prototype, \"element\", {\n    get: function get() {\n      return this.tokenListObserver.element;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(ValueListObserver.prototype, \"attributeName\", {\n    get: function get() {\n      return this.tokenListObserver.attributeName;\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  ValueListObserver.prototype.tokenMatched = function (token) {\n    var element = token.element;\n    var value = this.fetchParseResultForToken(token).value;\n\n    if (value) {\n      this.fetchValuesByTokenForElement(element).set(token, value);\n      this.delegate.elementMatchedValue(element, value);\n    }\n  };\n\n  ValueListObserver.prototype.tokenUnmatched = function (token) {\n    var element = token.element;\n    var value = this.fetchParseResultForToken(token).value;\n\n    if (value) {\n      this.fetchValuesByTokenForElement(element)[\"delete\"](token);\n      this.delegate.elementUnmatchedValue(element, value);\n    }\n  };\n\n  ValueListObserver.prototype.fetchParseResultForToken = function (token) {\n    var parseResult = this.parseResultsByToken.get(token);\n\n    if (!parseResult) {\n      parseResult = this.parseToken(token);\n      this.parseResultsByToken.set(token, parseResult);\n    }\n\n    return parseResult;\n  };\n\n  ValueListObserver.prototype.fetchValuesByTokenForElement = function (element) {\n    var valuesByToken = this.valuesByTokenByElement.get(element);\n\n    if (!valuesByToken) {\n      valuesByToken = new Map();\n      this.valuesByTokenByElement.set(element, valuesByToken);\n    }\n\n    return valuesByToken;\n  };\n\n  ValueListObserver.prototype.parseToken = function (token) {\n    try {\n      var value = this.delegate.parseValueForToken(token);\n      return {\n        value: value\n      };\n    } catch (error) {\n      return {\n        error: error\n      };\n    }\n  };\n\n  return ValueListObserver;\n}();\n\nexport { ValueListObserver };","import { Action } from \"./action\";\nimport { Binding } from \"./binding\";\nimport { ValueListObserver } from \"@stimulus/mutation-observers\";\n\nvar BindingObserver =\n/** @class */\nfunction () {\n  function BindingObserver(context, delegate) {\n    this.context = context;\n    this.delegate = delegate;\n    this.bindingsByAction = new Map();\n  }\n\n  BindingObserver.prototype.start = function () {\n    if (!this.valueListObserver) {\n      this.valueListObserver = new ValueListObserver(this.element, this.actionAttribute, this);\n      this.valueListObserver.start();\n    }\n  };\n\n  BindingObserver.prototype.stop = function () {\n    if (this.valueListObserver) {\n      this.valueListObserver.stop();\n      delete this.valueListObserver;\n      this.disconnectAllActions();\n    }\n  };\n\n  Object.defineProperty(BindingObserver.prototype, \"element\", {\n    get: function get() {\n      return this.context.element;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(BindingObserver.prototype, \"identifier\", {\n    get: function get() {\n      return this.context.identifier;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(BindingObserver.prototype, \"actionAttribute\", {\n    get: function get() {\n      return this.schema.actionAttribute;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(BindingObserver.prototype, \"schema\", {\n    get: function get() {\n      return this.context.schema;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(BindingObserver.prototype, \"bindings\", {\n    get: function get() {\n      return Array.from(this.bindingsByAction.values());\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  BindingObserver.prototype.connectAction = function (action) {\n    var binding = new Binding(this.context, action);\n    this.bindingsByAction.set(action, binding);\n    this.delegate.bindingConnected(binding);\n  };\n\n  BindingObserver.prototype.disconnectAction = function (action) {\n    var binding = this.bindingsByAction.get(action);\n\n    if (binding) {\n      this.bindingsByAction[\"delete\"](action);\n      this.delegate.bindingDisconnected(binding);\n    }\n  };\n\n  BindingObserver.prototype.disconnectAllActions = function () {\n    var _this = this;\n\n    this.bindings.forEach(function (binding) {\n      return _this.delegate.bindingDisconnected(binding);\n    });\n    this.bindingsByAction.clear();\n  }; // Value observer delegate\n\n\n  BindingObserver.prototype.parseValueForToken = function (token) {\n    var action = Action.forToken(token);\n\n    if (action.identifier == this.identifier) {\n      return action;\n    }\n  };\n\n  BindingObserver.prototype.elementMatchedValue = function (element, action) {\n    this.connectAction(action);\n  };\n\n  BindingObserver.prototype.elementUnmatchedValue = function (element, action) {\n    this.disconnectAction(action);\n  };\n\n  return BindingObserver;\n}();\n\nexport { BindingObserver };","import { BindingObserver } from \"./binding_observer\";\n\nvar Context =\n/** @class */\nfunction () {\n  function Context(module, scope) {\n    this.module = module;\n    this.scope = scope;\n    this.controller = new module.controllerConstructor(this);\n    this.bindingObserver = new BindingObserver(this, this.dispatcher);\n\n    try {\n      this.controller.initialize();\n    } catch (error) {\n      this.handleError(error, \"initializing controller\");\n    }\n  }\n\n  Context.prototype.connect = function () {\n    this.bindingObserver.start();\n\n    try {\n      this.controller.connect();\n    } catch (error) {\n      this.handleError(error, \"connecting controller\");\n    }\n  };\n\n  Context.prototype.disconnect = function () {\n    try {\n      this.controller.disconnect();\n    } catch (error) {\n      this.handleError(error, \"disconnecting controller\");\n    }\n\n    this.bindingObserver.stop();\n  };\n\n  Object.defineProperty(Context.prototype, \"application\", {\n    get: function get() {\n      return this.module.application;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Context.prototype, \"identifier\", {\n    get: function get() {\n      return this.module.identifier;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Context.prototype, \"schema\", {\n    get: function get() {\n      return this.application.schema;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Context.prototype, \"dispatcher\", {\n    get: function get() {\n      return this.application.dispatcher;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Context.prototype, \"element\", {\n    get: function get() {\n      return this.scope.element;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Context.prototype, \"parentElement\", {\n    get: function get() {\n      return this.element.parentElement;\n    },\n    enumerable: true,\n    configurable: true\n  }); // Error handling\n\n  Context.prototype.handleError = function (error, message, detail) {\n    if (detail === void 0) {\n      detail = {};\n    }\n\n    var _a = this,\n        identifier = _a.identifier,\n        controller = _a.controller,\n        element = _a.element;\n\n    detail = Object.assign({\n      identifier: identifier,\n      controller: controller,\n      element: element\n    }, detail);\n    this.application.handleError(error, \"Error \" + message, detail);\n  };\n\n  return Context;\n}();\n\nexport { Context };","var __extends = this && this.__extends || function () {\n  var extendStatics = Object.setPrototypeOf || {\n    __proto__: []\n  } instanceof Array && function (d, b) {\n    d.__proto__ = b;\n  } || function (d, b) {\n    for (var p in b) {\n      if (b.hasOwnProperty(p)) d[p] = b[p];\n    }\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n/** @hidden */\n\n\nexport function blessDefinition(definition) {\n  return {\n    identifier: definition.identifier,\n    controllerConstructor: blessControllerConstructor(definition.controllerConstructor)\n  };\n}\n\nfunction blessControllerConstructor(controllerConstructor) {\n  var constructor = extend(controllerConstructor);\n  constructor.bless();\n  return constructor;\n}\n\nvar extend = function () {\n  function extendWithReflect(constructor) {\n    function Controller() {\n      var _newTarget = this && this instanceof Controller ? this.constructor : void 0;\n\n      return Reflect.construct(constructor, arguments, _newTarget);\n    }\n\n    Controller.prototype = Object.create(constructor.prototype, {\n      constructor: {\n        value: Controller\n      }\n    });\n    Reflect.setPrototypeOf(Controller, constructor);\n    return Controller;\n  }\n\n  function testReflectExtension() {\n    var a = function a() {\n      this.a.call(this);\n    };\n\n    var b = extendWithReflect(a);\n\n    b.prototype.a = function () {};\n\n    return new b();\n  }\n\n  try {\n    testReflectExtension();\n    return extendWithReflect;\n  } catch (error) {\n    return function (constructor) {\n      return (\n        /** @class */\n        function (_super) {\n          __extends(Controller, _super);\n\n          function Controller() {\n            return _super !== null && _super.apply(this, arguments) || this;\n          }\n\n          return Controller;\n        }(constructor)\n      );\n    };\n  }\n}();","import { Context } from \"./context\";\nimport { blessDefinition } from \"./definition\";\n\nvar Module =\n/** @class */\nfunction () {\n  function Module(application, definition) {\n    this.application = application;\n    this.definition = blessDefinition(definition);\n    this.contextsByScope = new WeakMap();\n    this.connectedContexts = new Set();\n  }\n\n  Object.defineProperty(Module.prototype, \"identifier\", {\n    get: function get() {\n      return this.definition.identifier;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Module.prototype, \"controllerConstructor\", {\n    get: function get() {\n      return this.definition.controllerConstructor;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Module.prototype, \"contexts\", {\n    get: function get() {\n      return Array.from(this.connectedContexts);\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  Module.prototype.connectContextForScope = function (scope) {\n    var context = this.fetchContextForScope(scope);\n    this.connectedContexts.add(context);\n    context.connect();\n  };\n\n  Module.prototype.disconnectContextForScope = function (scope) {\n    var context = this.contextsByScope.get(scope);\n\n    if (context) {\n      this.connectedContexts[\"delete\"](context);\n      context.disconnect();\n    }\n  };\n\n  Module.prototype.fetchContextForScope = function (scope) {\n    var context = this.contextsByScope.get(scope);\n\n    if (!context) {\n      context = new Context(this, scope);\n      this.contextsByScope.set(scope, context);\n    }\n\n    return context;\n  };\n\n  return Module;\n}();\n\nexport { Module };","var DataMap =\n/** @class */\nfunction () {\n  function DataMap(scope) {\n    this.scope = scope;\n  }\n\n  Object.defineProperty(DataMap.prototype, \"element\", {\n    get: function get() {\n      return this.scope.element;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(DataMap.prototype, \"identifier\", {\n    get: function get() {\n      return this.scope.identifier;\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  DataMap.prototype.get = function (key) {\n    key = this.getFormattedKey(key);\n    return this.element.getAttribute(key);\n  };\n\n  DataMap.prototype.set = function (key, value) {\n    key = this.getFormattedKey(key);\n    this.element.setAttribute(key, value);\n    return this.get(key);\n  };\n\n  DataMap.prototype.has = function (key) {\n    key = this.getFormattedKey(key);\n    return this.element.hasAttribute(key);\n  };\n\n  DataMap.prototype[\"delete\"] = function (key) {\n    if (this.has(key)) {\n      key = this.getFormattedKey(key);\n      this.element.removeAttribute(key);\n      return true;\n    } else {\n      return false;\n    }\n  };\n\n  DataMap.prototype.getFormattedKey = function (key) {\n    return \"data-\" + this.identifier + \"-\" + dasherize(key);\n  };\n\n  return DataMap;\n}();\n\nexport { DataMap };\n\nfunction dasherize(value) {\n  return value.replace(/([A-Z])/g, function (_, _char) {\n    return \"-\" + _char.toLowerCase();\n  });\n}","/** @hidden */\nexport function attributeValueContainsToken(attributeName, token) {\n  return \"[\" + attributeName + \"~=\\\"\" + token + \"\\\"]\";\n}","import { attributeValueContainsToken } from \"./selectors\";\n\nvar TargetSet =\n/** @class */\nfunction () {\n  function TargetSet(scope) {\n    this.scope = scope;\n  }\n\n  Object.defineProperty(TargetSet.prototype, \"element\", {\n    get: function get() {\n      return this.scope.element;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(TargetSet.prototype, \"identifier\", {\n    get: function get() {\n      return this.scope.identifier;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(TargetSet.prototype, \"schema\", {\n    get: function get() {\n      return this.scope.schema;\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  TargetSet.prototype.has = function (targetName) {\n    return this.find(targetName) != null;\n  };\n\n  TargetSet.prototype.find = function () {\n    var targetNames = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      targetNames[_i] = arguments[_i];\n    }\n\n    var selector = this.getSelectorForTargetNames(targetNames);\n    return this.scope.findElement(selector);\n  };\n\n  TargetSet.prototype.findAll = function () {\n    var targetNames = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      targetNames[_i] = arguments[_i];\n    }\n\n    var selector = this.getSelectorForTargetNames(targetNames);\n    return this.scope.findAllElements(selector);\n  };\n\n  TargetSet.prototype.getSelectorForTargetNames = function (targetNames) {\n    var _this = this;\n\n    return targetNames.map(function (targetName) {\n      return _this.getSelectorForTargetName(targetName);\n    }).join(\", \");\n  };\n\n  TargetSet.prototype.getSelectorForTargetName = function (targetName) {\n    var targetDescriptor = this.identifier + \".\" + targetName;\n    return attributeValueContainsToken(this.schema.targetAttribute, targetDescriptor);\n  };\n\n  return TargetSet;\n}();\n\nexport { TargetSet };","import { DataMap } from \"./data_map\";\nimport { TargetSet } from \"./target_set\";\nimport { attributeValueContainsToken } from \"./selectors\";\n\nvar Scope =\n/** @class */\nfunction () {\n  function Scope(schema, identifier, element) {\n    this.schema = schema;\n    this.identifier = identifier;\n    this.element = element;\n    this.targets = new TargetSet(this);\n    this.data = new DataMap(this);\n  }\n\n  Scope.prototype.findElement = function (selector) {\n    return this.findAllElements(selector)[0];\n  };\n\n  Scope.prototype.findAllElements = function (selector) {\n    var head = this.element.matches(selector) ? [this.element] : [];\n    var tail = this.filterElements(Array.from(this.element.querySelectorAll(selector)));\n    return head.concat(tail);\n  };\n\n  Scope.prototype.filterElements = function (elements) {\n    var _this = this;\n\n    return elements.filter(function (element) {\n      return _this.containsElement(element);\n    });\n  };\n\n  Scope.prototype.containsElement = function (element) {\n    return element.closest(this.controllerSelector) === this.element;\n  };\n\n  Object.defineProperty(Scope.prototype, \"controllerSelector\", {\n    get: function get() {\n      return attributeValueContainsToken(this.schema.controllerAttribute, this.identifier);\n    },\n    enumerable: true,\n    configurable: true\n  });\n  return Scope;\n}();\n\nexport { Scope };","import { Scope } from \"./scope\";\nimport { ValueListObserver } from \"@stimulus/mutation-observers\";\n\nvar ScopeObserver =\n/** @class */\nfunction () {\n  function ScopeObserver(element, schema, delegate) {\n    this.element = element;\n    this.schema = schema;\n    this.delegate = delegate;\n    this.valueListObserver = new ValueListObserver(this.element, this.controllerAttribute, this);\n    this.scopesByIdentifierByElement = new WeakMap();\n    this.scopeReferenceCounts = new WeakMap();\n  }\n\n  ScopeObserver.prototype.start = function () {\n    this.valueListObserver.start();\n  };\n\n  ScopeObserver.prototype.stop = function () {\n    this.valueListObserver.stop();\n  };\n\n  Object.defineProperty(ScopeObserver.prototype, \"controllerAttribute\", {\n    get: function get() {\n      return this.schema.controllerAttribute;\n    },\n    enumerable: true,\n    configurable: true\n  }); // Value observer delegate\n\n  /** @hidden */\n\n  ScopeObserver.prototype.parseValueForToken = function (token) {\n    var element = token.element,\n        identifier = token.content;\n    var scopesByIdentifier = this.fetchScopesByIdentifierForElement(element);\n    var scope = scopesByIdentifier.get(identifier);\n\n    if (!scope) {\n      scope = new Scope(this.schema, identifier, element);\n      scopesByIdentifier.set(identifier, scope);\n    }\n\n    return scope;\n  };\n  /** @hidden */\n\n\n  ScopeObserver.prototype.elementMatchedValue = function (element, value) {\n    var referenceCount = (this.scopeReferenceCounts.get(value) || 0) + 1;\n    this.scopeReferenceCounts.set(value, referenceCount);\n\n    if (referenceCount == 1) {\n      this.delegate.scopeConnected(value);\n    }\n  };\n  /** @hidden */\n\n\n  ScopeObserver.prototype.elementUnmatchedValue = function (element, value) {\n    var referenceCount = this.scopeReferenceCounts.get(value);\n\n    if (referenceCount) {\n      this.scopeReferenceCounts.set(value, referenceCount - 1);\n\n      if (referenceCount == 1) {\n        this.delegate.scopeDisconnected(value);\n      }\n    }\n  };\n\n  ScopeObserver.prototype.fetchScopesByIdentifierForElement = function (element) {\n    var scopesByIdentifier = this.scopesByIdentifierByElement.get(element);\n\n    if (!scopesByIdentifier) {\n      scopesByIdentifier = new Map();\n      this.scopesByIdentifierByElement.set(element, scopesByIdentifier);\n    }\n\n    return scopesByIdentifier;\n  };\n\n  return ScopeObserver;\n}();\n\nexport { ScopeObserver };","import { Module } from \"./module\";\nimport { Multimap } from \"@stimulus/multimap\";\nimport { ScopeObserver } from \"./scope_observer\";\n\nvar Router =\n/** @class */\nfunction () {\n  function Router(application) {\n    this.application = application;\n    this.scopeObserver = new ScopeObserver(this.element, this.schema, this);\n    this.scopesByIdentifier = new Multimap();\n    this.modulesByIdentifier = new Map();\n  }\n\n  Object.defineProperty(Router.prototype, \"element\", {\n    get: function get() {\n      return this.application.element;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Router.prototype, \"schema\", {\n    get: function get() {\n      return this.application.schema;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Router.prototype, \"controllerAttribute\", {\n    get: function get() {\n      return this.schema.controllerAttribute;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Router.prototype, \"modules\", {\n    get: function get() {\n      return Array.from(this.modulesByIdentifier.values());\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Router.prototype, \"contexts\", {\n    get: function get() {\n      return this.modules.reduce(function (contexts, module) {\n        return contexts.concat(module.contexts);\n      }, []);\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  Router.prototype.start = function () {\n    this.scopeObserver.start();\n  };\n\n  Router.prototype.stop = function () {\n    this.scopeObserver.stop();\n  };\n\n  Router.prototype.loadDefinition = function (definition) {\n    this.unloadIdentifier(definition.identifier);\n    var module = new Module(this.application, definition);\n    this.connectModule(module);\n  };\n\n  Router.prototype.unloadIdentifier = function (identifier) {\n    var module = this.modulesByIdentifier.get(identifier);\n\n    if (module) {\n      this.disconnectModule(module);\n    }\n  };\n\n  Router.prototype.getContextForElementAndIdentifier = function (element, identifier) {\n    var module = this.modulesByIdentifier.get(identifier);\n\n    if (module) {\n      return module.contexts.find(function (context) {\n        return context.element == element;\n      });\n    }\n  }; // Error handler delegate\n\n  /** @hidden */\n\n\n  Router.prototype.handleError = function (error, message, detail) {\n    this.application.handleError(error, message, detail);\n  }; // Scope observer delegate\n\n  /** @hidden */\n\n\n  Router.prototype.scopeConnected = function (scope) {\n    this.scopesByIdentifier.add(scope.identifier, scope);\n    var module = this.modulesByIdentifier.get(scope.identifier);\n\n    if (module) {\n      module.connectContextForScope(scope);\n    }\n  };\n  /** @hidden */\n\n\n  Router.prototype.scopeDisconnected = function (scope) {\n    this.scopesByIdentifier[\"delete\"](scope.identifier, scope);\n    var module = this.modulesByIdentifier.get(scope.identifier);\n\n    if (module) {\n      module.disconnectContextForScope(scope);\n    }\n  }; // Modules\n\n\n  Router.prototype.connectModule = function (module) {\n    this.modulesByIdentifier.set(module.identifier, module);\n    var scopes = this.scopesByIdentifier.getValuesForKey(module.identifier);\n    scopes.forEach(function (scope) {\n      return module.connectContextForScope(scope);\n    });\n  };\n\n  Router.prototype.disconnectModule = function (module) {\n    this.modulesByIdentifier[\"delete\"](module.identifier);\n    var scopes = this.scopesByIdentifier.getValuesForKey(module.identifier);\n    scopes.forEach(function (scope) {\n      return module.disconnectContextForScope(scope);\n    });\n  };\n\n  return Router;\n}();\n\nexport { Router };","export var defaultSchema = {\n  controllerAttribute: \"data-controller\",\n  actionAttribute: \"data-action\",\n  targetAttribute: \"data-target\"\n};","var __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : new P(function (resolve) {\n        resolve(result.value);\n      }).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function sent() {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) {\n      try {\n        if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\n        if (y = 0, t) op = [0, t.value];\n\n        switch (op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n\n          case 4:\n            _.label++;\n            return {\n              value: op[1],\n              done: false\n            };\n\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n\n          case 7:\n            op = _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n\n          default:\n            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n              _ = 0;\n              continue;\n            }\n\n            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n              break;\n            }\n\n            if (op[0] === 6 && _.label < t[1]) {\n              _.label = t[1];\n              t = op;\n              break;\n            }\n\n            if (t && _.label < t[2]) {\n              _.label = t[2];\n\n              _.ops.push(op);\n\n              break;\n            }\n\n            if (t[2]) _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n        }\n\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e];\n        y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\n\nimport { Dispatcher } from \"./dispatcher\";\nimport { Router } from \"./router\";\nimport { defaultSchema } from \"./schema\";\n\nvar Application =\n/** @class */\nfunction () {\n  function Application(element, schema) {\n    if (element === void 0) {\n      element = document.documentElement;\n    }\n\n    if (schema === void 0) {\n      schema = defaultSchema;\n    }\n\n    this.element = element;\n    this.schema = schema;\n    this.dispatcher = new Dispatcher(this);\n    this.router = new Router(this);\n  }\n\n  Application.start = function (element, schema) {\n    var application = new Application(element, schema);\n    application.start();\n    return application;\n  };\n\n  Application.prototype.start = function () {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            return [4\n            /*yield*/\n            , domReady()];\n\n          case 1:\n            _a.sent();\n\n            this.router.start();\n            this.dispatcher.start();\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  };\n\n  Application.prototype.stop = function () {\n    this.router.stop();\n    this.dispatcher.stop();\n  };\n\n  Application.prototype.register = function (identifier, controllerConstructor) {\n    this.load({\n      identifier: identifier,\n      controllerConstructor: controllerConstructor\n    });\n  };\n\n  Application.prototype.load = function (head) {\n    var _this = this;\n\n    var rest = [];\n\n    for (var _i = 1; _i < arguments.length; _i++) {\n      rest[_i - 1] = arguments[_i];\n    }\n\n    var definitions = Array.isArray(head) ? head : [head].concat(rest);\n    definitions.forEach(function (definition) {\n      return _this.router.loadDefinition(definition);\n    });\n  };\n\n  Application.prototype.unload = function (head) {\n    var _this = this;\n\n    var rest = [];\n\n    for (var _i = 1; _i < arguments.length; _i++) {\n      rest[_i - 1] = arguments[_i];\n    }\n\n    var identifiers = Array.isArray(head) ? head : [head].concat(rest);\n    identifiers.forEach(function (identifier) {\n      return _this.router.unloadIdentifier(identifier);\n    });\n  };\n\n  Object.defineProperty(Application.prototype, \"controllers\", {\n    // Controllers\n    get: function get() {\n      return this.router.contexts.map(function (context) {\n        return context.controller;\n      });\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  Application.prototype.getControllerForElementAndIdentifier = function (element, identifier) {\n    var context = this.router.getContextForElementAndIdentifier(element, identifier);\n    return context ? context.controller : null;\n  }; // Error handling\n\n\n  Application.prototype.handleError = function (error, message, detail) {\n    console.error(\"%s\\n\\n%o\\n\\n%o\", message, error, detail);\n  };\n\n  return Application;\n}();\n\nexport { Application };\n\nfunction domReady() {\n  return new Promise(function (resolve) {\n    if (document.readyState == \"loading\") {\n      document.addEventListener(\"DOMContentLoaded\", resolve);\n    } else {\n      resolve();\n    }\n  });\n}","/** @hidden */\nexport function defineTargetProperties(constructor) {\n  var prototype = constructor.prototype;\n  var targetNames = getTargetNamesForConstructor(constructor);\n  targetNames.forEach(function (name) {\n    var _a;\n\n    return defineLinkedProperties(prototype, (_a = {}, _a[name + \"Target\"] = {\n      get: function get() {\n        var target = this.targets.find(name);\n\n        if (target) {\n          return target;\n        } else {\n          throw new Error(\"Missing target element \\\"\" + this.identifier + \".\" + name + \"\\\"\");\n        }\n      }\n    }, _a[name + \"Targets\"] = {\n      get: function get() {\n        return this.targets.findAll(name);\n      }\n    }, _a[\"has\" + capitalize(name) + \"Target\"] = {\n      get: function get() {\n        return this.targets.has(name);\n      }\n    }, _a));\n  });\n}\n\nfunction getTargetNamesForConstructor(constructor) {\n  var ancestors = getAncestorsForConstructor(constructor);\n  return Array.from(ancestors.reduce(function (targetNames, constructor) {\n    getOwnTargetNamesForConstructor(constructor).forEach(function (name) {\n      return targetNames.add(name);\n    });\n    return targetNames;\n  }, new Set()));\n}\n\nfunction getAncestorsForConstructor(constructor) {\n  var ancestors = [];\n\n  while (constructor) {\n    ancestors.push(constructor);\n    constructor = Object.getPrototypeOf(constructor);\n  }\n\n  return ancestors;\n}\n\nfunction getOwnTargetNamesForConstructor(constructor) {\n  var definition = constructor[\"targets\"];\n  return Array.isArray(definition) ? definition : [];\n}\n\nfunction defineLinkedProperties(object, properties) {\n  Object.keys(properties).forEach(function (name) {\n    if (!(name in object)) {\n      var descriptor = properties[name];\n      Object.defineProperty(object, name, descriptor);\n    }\n  });\n}\n\nfunction capitalize(name) {\n  return name.charAt(0).toUpperCase() + name.slice(1);\n}","import { defineTargetProperties } from \"./target_properties\";\n\nvar Controller =\n/** @class */\nfunction () {\n  function Controller(context) {\n    this.context = context;\n  }\n\n  Controller.bless = function () {\n    defineTargetProperties(this);\n  };\n\n  Object.defineProperty(Controller.prototype, \"application\", {\n    get: function get() {\n      return this.context.application;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Controller.prototype, \"scope\", {\n    get: function get() {\n      return this.context.scope;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Controller.prototype, \"element\", {\n    get: function get() {\n      return this.scope.element;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Controller.prototype, \"identifier\", {\n    get: function get() {\n      return this.scope.identifier;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Controller.prototype, \"targets\", {\n    get: function get() {\n      return this.scope.targets;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Controller.prototype, \"data\", {\n    get: function get() {\n      return this.scope.data;\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  Controller.prototype.initialize = function () {// Override in your subclass to set up initial controller state\n  };\n\n  Controller.prototype.connect = function () {// Override in your subclass to respond when the controller is connected to the DOM\n  };\n\n  Controller.prototype.disconnect = function () {// Override in your subclass to respond when the controller is disconnected from the DOM\n  };\n\n  Controller.targets = [];\n  return Controller;\n}();\n\nexport { Controller };","import { Controller } from 'stimulus'\n\n// data-controller=\"modal\"\nclass ModalController extends Controller {\n\n  connect() {\n    console.log('Modal Controller works!')\n    document.documentElement.classList.add('is-clipped')\n  }\n\n  close() {\n    this.element.remove()\n    document.documentElement.classList.remove('is-clipped')\n  }\n\n}\n\napplication.register('modal', ModalController)\n","module.exports = global[\"Rails\"] = require(\"-!./rails-ujs.js\");","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n(function (factory) {\n  if ((typeof exports === \"undefined\" ? \"undefined\" : _typeof(exports)) === 'object') {\n    // Node/CommonJS\n    module.exports = factory();\n  } else if (typeof define === 'function' && define.amd) {\n    // AMD\n    define(factory);\n  } else {\n    // Browser globals (with support for web workers)\n    var glob;\n\n    try {\n      glob = window;\n    } catch (e) {\n      glob = self;\n    }\n\n    glob.SparkMD5 = factory();\n  }\n})(function (undefined) {\n  'use strict';\n  /*\n   * Fastest md5 implementation around (JKM md5).\n   * Credits: Joseph Myers\n   *\n   * @see http://www.myersdaily.org/joseph/javascript/md5-text.html\n   * @see http://jsperf.com/md5-shootout/7\n   */\n\n  /* this function is much faster,\n    so if possible we use it. Some IEs\n    are the only ones I know of that\n    need the idiotic second function,\n    generated by an if clause.  */\n\n  var add32 = function add32(a, b) {\n    return a + b & 0xFFFFFFFF;\n  },\n      hex_chr = ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9', 'a', 'b', 'c', 'd', 'e', 'f'];\n\n  function cmn(q, a, b, x, s, t) {\n    a = add32(add32(a, q), add32(x, t));\n    return add32(a << s | a >>> 32 - s, b);\n  }\n\n  function md5cycle(x, k) {\n    var a = x[0],\n        b = x[1],\n        c = x[2],\n        d = x[3];\n    a += (b & c | ~b & d) + k[0] - 680876936 | 0;\n    a = (a << 7 | a >>> 25) + b | 0;\n    d += (a & b | ~a & c) + k[1] - 389564586 | 0;\n    d = (d << 12 | d >>> 20) + a | 0;\n    c += (d & a | ~d & b) + k[2] + 606105819 | 0;\n    c = (c << 17 | c >>> 15) + d | 0;\n    b += (c & d | ~c & a) + k[3] - 1044525330 | 0;\n    b = (b << 22 | b >>> 10) + c | 0;\n    a += (b & c | ~b & d) + k[4] - 176418897 | 0;\n    a = (a << 7 | a >>> 25) + b | 0;\n    d += (a & b | ~a & c) + k[5] + 1200080426 | 0;\n    d = (d << 12 | d >>> 20) + a | 0;\n    c += (d & a | ~d & b) + k[6] - 1473231341 | 0;\n    c = (c << 17 | c >>> 15) + d | 0;\n    b += (c & d | ~c & a) + k[7] - 45705983 | 0;\n    b = (b << 22 | b >>> 10) + c | 0;\n    a += (b & c | ~b & d) + k[8] + 1770035416 | 0;\n    a = (a << 7 | a >>> 25) + b | 0;\n    d += (a & b | ~a & c) + k[9] - 1958414417 | 0;\n    d = (d << 12 | d >>> 20) + a | 0;\n    c += (d & a | ~d & b) + k[10] - 42063 | 0;\n    c = (c << 17 | c >>> 15) + d | 0;\n    b += (c & d | ~c & a) + k[11] - 1990404162 | 0;\n    b = (b << 22 | b >>> 10) + c | 0;\n    a += (b & c | ~b & d) + k[12] + 1804603682 | 0;\n    a = (a << 7 | a >>> 25) + b | 0;\n    d += (a & b | ~a & c) + k[13] - 40341101 | 0;\n    d = (d << 12 | d >>> 20) + a | 0;\n    c += (d & a | ~d & b) + k[14] - 1502002290 | 0;\n    c = (c << 17 | c >>> 15) + d | 0;\n    b += (c & d | ~c & a) + k[15] + 1236535329 | 0;\n    b = (b << 22 | b >>> 10) + c | 0;\n    a += (b & d | c & ~d) + k[1] - 165796510 | 0;\n    a = (a << 5 | a >>> 27) + b | 0;\n    d += (a & c | b & ~c) + k[6] - 1069501632 | 0;\n    d = (d << 9 | d >>> 23) + a | 0;\n    c += (d & b | a & ~b) + k[11] + 643717713 | 0;\n    c = (c << 14 | c >>> 18) + d | 0;\n    b += (c & a | d & ~a) + k[0] - 373897302 | 0;\n    b = (b << 20 | b >>> 12) + c | 0;\n    a += (b & d | c & ~d) + k[5] - 701558691 | 0;\n    a = (a << 5 | a >>> 27) + b | 0;\n    d += (a & c | b & ~c) + k[10] + 38016083 | 0;\n    d = (d << 9 | d >>> 23) + a | 0;\n    c += (d & b | a & ~b) + k[15] - 660478335 | 0;\n    c = (c << 14 | c >>> 18) + d | 0;\n    b += (c & a | d & ~a) + k[4] - 405537848 | 0;\n    b = (b << 20 | b >>> 12) + c | 0;\n    a += (b & d | c & ~d) + k[9] + 568446438 | 0;\n    a = (a << 5 | a >>> 27) + b | 0;\n    d += (a & c | b & ~c) + k[14] - 1019803690 | 0;\n    d = (d << 9 | d >>> 23) + a | 0;\n    c += (d & b | a & ~b) + k[3] - 187363961 | 0;\n    c = (c << 14 | c >>> 18) + d | 0;\n    b += (c & a | d & ~a) + k[8] + 1163531501 | 0;\n    b = (b << 20 | b >>> 12) + c | 0;\n    a += (b & d | c & ~d) + k[13] - 1444681467 | 0;\n    a = (a << 5 | a >>> 27) + b | 0;\n    d += (a & c | b & ~c) + k[2] - 51403784 | 0;\n    d = (d << 9 | d >>> 23) + a | 0;\n    c += (d & b | a & ~b) + k[7] + 1735328473 | 0;\n    c = (c << 14 | c >>> 18) + d | 0;\n    b += (c & a | d & ~a) + k[12] - 1926607734 | 0;\n    b = (b << 20 | b >>> 12) + c | 0;\n    a += (b ^ c ^ d) + k[5] - 378558 | 0;\n    a = (a << 4 | a >>> 28) + b | 0;\n    d += (a ^ b ^ c) + k[8] - 2022574463 | 0;\n    d = (d << 11 | d >>> 21) + a | 0;\n    c += (d ^ a ^ b) + k[11] + 1839030562 | 0;\n    c = (c << 16 | c >>> 16) + d | 0;\n    b += (c ^ d ^ a) + k[14] - 35309556 | 0;\n    b = (b << 23 | b >>> 9) + c | 0;\n    a += (b ^ c ^ d) + k[1] - 1530992060 | 0;\n    a = (a << 4 | a >>> 28) + b | 0;\n    d += (a ^ b ^ c) + k[4] + 1272893353 | 0;\n    d = (d << 11 | d >>> 21) + a | 0;\n    c += (d ^ a ^ b) + k[7] - 155497632 | 0;\n    c = (c << 16 | c >>> 16) + d | 0;\n    b += (c ^ d ^ a) + k[10] - 1094730640 | 0;\n    b = (b << 23 | b >>> 9) + c | 0;\n    a += (b ^ c ^ d) + k[13] + 681279174 | 0;\n    a = (a << 4 | a >>> 28) + b | 0;\n    d += (a ^ b ^ c) + k[0] - 358537222 | 0;\n    d = (d << 11 | d >>> 21) + a | 0;\n    c += (d ^ a ^ b) + k[3] - 722521979 | 0;\n    c = (c << 16 | c >>> 16) + d | 0;\n    b += (c ^ d ^ a) + k[6] + 76029189 | 0;\n    b = (b << 23 | b >>> 9) + c | 0;\n    a += (b ^ c ^ d) + k[9] - 640364487 | 0;\n    a = (a << 4 | a >>> 28) + b | 0;\n    d += (a ^ b ^ c) + k[12] - 421815835 | 0;\n    d = (d << 11 | d >>> 21) + a | 0;\n    c += (d ^ a ^ b) + k[15] + 530742520 | 0;\n    c = (c << 16 | c >>> 16) + d | 0;\n    b += (c ^ d ^ a) + k[2] - 995338651 | 0;\n    b = (b << 23 | b >>> 9) + c | 0;\n    a += (c ^ (b | ~d)) + k[0] - 198630844 | 0;\n    a = (a << 6 | a >>> 26) + b | 0;\n    d += (b ^ (a | ~c)) + k[7] + 1126891415 | 0;\n    d = (d << 10 | d >>> 22) + a | 0;\n    c += (a ^ (d | ~b)) + k[14] - 1416354905 | 0;\n    c = (c << 15 | c >>> 17) + d | 0;\n    b += (d ^ (c | ~a)) + k[5] - 57434055 | 0;\n    b = (b << 21 | b >>> 11) + c | 0;\n    a += (c ^ (b | ~d)) + k[12] + 1700485571 | 0;\n    a = (a << 6 | a >>> 26) + b | 0;\n    d += (b ^ (a | ~c)) + k[3] - 1894986606 | 0;\n    d = (d << 10 | d >>> 22) + a | 0;\n    c += (a ^ (d | ~b)) + k[10] - 1051523 | 0;\n    c = (c << 15 | c >>> 17) + d | 0;\n    b += (d ^ (c | ~a)) + k[1] - 2054922799 | 0;\n    b = (b << 21 | b >>> 11) + c | 0;\n    a += (c ^ (b | ~d)) + k[8] + 1873313359 | 0;\n    a = (a << 6 | a >>> 26) + b | 0;\n    d += (b ^ (a | ~c)) + k[15] - 30611744 | 0;\n    d = (d << 10 | d >>> 22) + a | 0;\n    c += (a ^ (d | ~b)) + k[6] - 1560198380 | 0;\n    c = (c << 15 | c >>> 17) + d | 0;\n    b += (d ^ (c | ~a)) + k[13] + 1309151649 | 0;\n    b = (b << 21 | b >>> 11) + c | 0;\n    a += (c ^ (b | ~d)) + k[4] - 145523070 | 0;\n    a = (a << 6 | a >>> 26) + b | 0;\n    d += (b ^ (a | ~c)) + k[11] - 1120210379 | 0;\n    d = (d << 10 | d >>> 22) + a | 0;\n    c += (a ^ (d | ~b)) + k[2] + 718787259 | 0;\n    c = (c << 15 | c >>> 17) + d | 0;\n    b += (d ^ (c | ~a)) + k[9] - 343485551 | 0;\n    b = (b << 21 | b >>> 11) + c | 0;\n    x[0] = a + x[0] | 0;\n    x[1] = b + x[1] | 0;\n    x[2] = c + x[2] | 0;\n    x[3] = d + x[3] | 0;\n  }\n\n  function md5blk(s) {\n    var md5blks = [],\n        i;\n    /* Andy King said do it this way. */\n\n    for (i = 0; i < 64; i += 4) {\n      md5blks[i >> 2] = s.charCodeAt(i) + (s.charCodeAt(i + 1) << 8) + (s.charCodeAt(i + 2) << 16) + (s.charCodeAt(i + 3) << 24);\n    }\n\n    return md5blks;\n  }\n\n  function md5blk_array(a) {\n    var md5blks = [],\n        i;\n    /* Andy King said do it this way. */\n\n    for (i = 0; i < 64; i += 4) {\n      md5blks[i >> 2] = a[i] + (a[i + 1] << 8) + (a[i + 2] << 16) + (a[i + 3] << 24);\n    }\n\n    return md5blks;\n  }\n\n  function md51(s) {\n    var n = s.length,\n        state = [1732584193, -271733879, -1732584194, 271733878],\n        i,\n        length,\n        tail,\n        tmp,\n        lo,\n        hi;\n\n    for (i = 64; i <= n; i += 64) {\n      md5cycle(state, md5blk(s.substring(i - 64, i)));\n    }\n\n    s = s.substring(i - 64);\n    length = s.length;\n    tail = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n\n    for (i = 0; i < length; i += 1) {\n      tail[i >> 2] |= s.charCodeAt(i) << (i % 4 << 3);\n    }\n\n    tail[i >> 2] |= 0x80 << (i % 4 << 3);\n\n    if (i > 55) {\n      md5cycle(state, tail);\n\n      for (i = 0; i < 16; i += 1) {\n        tail[i] = 0;\n      }\n    } // Beware that the final length might not fit in 32 bits so we take care of that\n\n\n    tmp = n * 8;\n    tmp = tmp.toString(16).match(/(.*?)(.{0,8})$/);\n    lo = parseInt(tmp[2], 16);\n    hi = parseInt(tmp[1], 16) || 0;\n    tail[14] = lo;\n    tail[15] = hi;\n    md5cycle(state, tail);\n    return state;\n  }\n\n  function md51_array(a) {\n    var n = a.length,\n        state = [1732584193, -271733879, -1732584194, 271733878],\n        i,\n        length,\n        tail,\n        tmp,\n        lo,\n        hi;\n\n    for (i = 64; i <= n; i += 64) {\n      md5cycle(state, md5blk_array(a.subarray(i - 64, i)));\n    } // Not sure if it is a bug, however IE10 will always produce a sub array of length 1\n    // containing the last element of the parent array if the sub array specified starts\n    // beyond the length of the parent array - weird.\n    // https://connect.microsoft.com/IE/feedback/details/771452/typed-array-subarray-issue\n\n\n    a = i - 64 < n ? a.subarray(i - 64) : new Uint8Array(0);\n    length = a.length;\n    tail = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n\n    for (i = 0; i < length; i += 1) {\n      tail[i >> 2] |= a[i] << (i % 4 << 3);\n    }\n\n    tail[i >> 2] |= 0x80 << (i % 4 << 3);\n\n    if (i > 55) {\n      md5cycle(state, tail);\n\n      for (i = 0; i < 16; i += 1) {\n        tail[i] = 0;\n      }\n    } // Beware that the final length might not fit in 32 bits so we take care of that\n\n\n    tmp = n * 8;\n    tmp = tmp.toString(16).match(/(.*?)(.{0,8})$/);\n    lo = parseInt(tmp[2], 16);\n    hi = parseInt(tmp[1], 16) || 0;\n    tail[14] = lo;\n    tail[15] = hi;\n    md5cycle(state, tail);\n    return state;\n  }\n\n  function rhex(n) {\n    var s = '',\n        j;\n\n    for (j = 0; j < 4; j += 1) {\n      s += hex_chr[n >> j * 8 + 4 & 0x0F] + hex_chr[n >> j * 8 & 0x0F];\n    }\n\n    return s;\n  }\n\n  function hex(x) {\n    var i;\n\n    for (i = 0; i < x.length; i += 1) {\n      x[i] = rhex(x[i]);\n    }\n\n    return x.join('');\n  } // In some cases the fast add32 function cannot be used..\n\n\n  if (hex(md51('hello')) !== '5d41402abc4b2a76b9719d911017c592') {\n    add32 = function add32(x, y) {\n      var lsw = (x & 0xFFFF) + (y & 0xFFFF),\n          msw = (x >> 16) + (y >> 16) + (lsw >> 16);\n      return msw << 16 | lsw & 0xFFFF;\n    };\n  } // ---------------------------------------------------\n\n  /**\n   * ArrayBuffer slice polyfill.\n   *\n   * @see https://github.com/ttaubert/node-arraybuffer-slice\n   */\n\n\n  if (typeof ArrayBuffer !== 'undefined' && !ArrayBuffer.prototype.slice) {\n    (function () {\n      function clamp(val, length) {\n        val = val | 0 || 0;\n\n        if (val < 0) {\n          return Math.max(val + length, 0);\n        }\n\n        return Math.min(val, length);\n      }\n\n      ArrayBuffer.prototype.slice = function (from, to) {\n        var length = this.byteLength,\n            begin = clamp(from, length),\n            end = length,\n            num,\n            target,\n            targetArray,\n            sourceArray;\n\n        if (to !== undefined) {\n          end = clamp(to, length);\n        }\n\n        if (begin > end) {\n          return new ArrayBuffer(0);\n        }\n\n        num = end - begin;\n        target = new ArrayBuffer(num);\n        targetArray = new Uint8Array(target);\n        sourceArray = new Uint8Array(this, begin, num);\n        targetArray.set(sourceArray);\n        return target;\n      };\n    })();\n  } // ---------------------------------------------------\n\n  /**\n   * Helpers.\n   */\n\n\n  function toUtf8(str) {\n    if (/[\\u0080-\\uFFFF]/.test(str)) {\n      str = unescape(encodeURIComponent(str));\n    }\n\n    return str;\n  }\n\n  function utf8Str2ArrayBuffer(str, returnUInt8Array) {\n    var length = str.length,\n        buff = new ArrayBuffer(length),\n        arr = new Uint8Array(buff),\n        i;\n\n    for (i = 0; i < length; i += 1) {\n      arr[i] = str.charCodeAt(i);\n    }\n\n    return returnUInt8Array ? arr : buff;\n  }\n\n  function arrayBuffer2Utf8Str(buff) {\n    return String.fromCharCode.apply(null, new Uint8Array(buff));\n  }\n\n  function concatenateArrayBuffers(first, second, returnUInt8Array) {\n    var result = new Uint8Array(first.byteLength + second.byteLength);\n    result.set(new Uint8Array(first));\n    result.set(new Uint8Array(second), first.byteLength);\n    return returnUInt8Array ? result : result.buffer;\n  }\n\n  function hexToBinaryString(hex) {\n    var bytes = [],\n        length = hex.length,\n        x;\n\n    for (x = 0; x < length - 1; x += 2) {\n      bytes.push(parseInt(hex.substr(x, 2), 16));\n    }\n\n    return String.fromCharCode.apply(String, bytes);\n  } // ---------------------------------------------------\n\n  /**\n   * SparkMD5 OOP implementation.\n   *\n   * Use this class to perform an incremental md5, otherwise use the\n   * static methods instead.\n   */\n\n\n  function SparkMD5() {\n    // call reset to init the instance\n    this.reset();\n  }\n  /**\n   * Appends a string.\n   * A conversion will be applied if an utf8 string is detected.\n   *\n   * @param {String} str The string to be appended\n   *\n   * @return {SparkMD5} The instance itself\n   */\n\n\n  SparkMD5.prototype.append = function (str) {\n    // Converts the string to utf8 bytes if necessary\n    // Then append as binary\n    this.appendBinary(toUtf8(str));\n    return this;\n  };\n  /**\n   * Appends a binary string.\n   *\n   * @param {String} contents The binary string to be appended\n   *\n   * @return {SparkMD5} The instance itself\n   */\n\n\n  SparkMD5.prototype.appendBinary = function (contents) {\n    this._buff += contents;\n    this._length += contents.length;\n    var length = this._buff.length,\n        i;\n\n    for (i = 64; i <= length; i += 64) {\n      md5cycle(this._hash, md5blk(this._buff.substring(i - 64, i)));\n    }\n\n    this._buff = this._buff.substring(i - 64);\n    return this;\n  };\n  /**\n   * Finishes the incremental computation, reseting the internal state and\n   * returning the result.\n   *\n   * @param {Boolean} raw True to get the raw string, false to get the hex string\n   *\n   * @return {String} The result\n   */\n\n\n  SparkMD5.prototype.end = function (raw) {\n    var buff = this._buff,\n        length = buff.length,\n        i,\n        tail = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n        ret;\n\n    for (i = 0; i < length; i += 1) {\n      tail[i >> 2] |= buff.charCodeAt(i) << (i % 4 << 3);\n    }\n\n    this._finish(tail, length);\n\n    ret = hex(this._hash);\n\n    if (raw) {\n      ret = hexToBinaryString(ret);\n    }\n\n    this.reset();\n    return ret;\n  };\n  /**\n   * Resets the internal state of the computation.\n   *\n   * @return {SparkMD5} The instance itself\n   */\n\n\n  SparkMD5.prototype.reset = function () {\n    this._buff = '';\n    this._length = 0;\n    this._hash = [1732584193, -271733879, -1732584194, 271733878];\n    return this;\n  };\n  /**\n   * Gets the internal state of the computation.\n   *\n   * @return {Object} The state\n   */\n\n\n  SparkMD5.prototype.getState = function () {\n    return {\n      buff: this._buff,\n      length: this._length,\n      hash: this._hash.slice()\n    };\n  };\n  /**\n   * Gets the internal state of the computation.\n   *\n   * @param {Object} state The state\n   *\n   * @return {SparkMD5} The instance itself\n   */\n\n\n  SparkMD5.prototype.setState = function (state) {\n    this._buff = state.buff;\n    this._length = state.length;\n    this._hash = state.hash;\n    return this;\n  };\n  /**\n   * Releases memory used by the incremental buffer and other additional\n   * resources. If you plan to use the instance again, use reset instead.\n   */\n\n\n  SparkMD5.prototype.destroy = function () {\n    delete this._hash;\n    delete this._buff;\n    delete this._length;\n  };\n  /**\n   * Finish the final calculation based on the tail.\n   *\n   * @param {Array}  tail   The tail (will be modified)\n   * @param {Number} length The length of the remaining buffer\n   */\n\n\n  SparkMD5.prototype._finish = function (tail, length) {\n    var i = length,\n        tmp,\n        lo,\n        hi;\n    tail[i >> 2] |= 0x80 << (i % 4 << 3);\n\n    if (i > 55) {\n      md5cycle(this._hash, tail);\n\n      for (i = 0; i < 16; i += 1) {\n        tail[i] = 0;\n      }\n    } // Do the final computation based on the tail and length\n    // Beware that the final length may not fit in 32 bits so we take care of that\n\n\n    tmp = this._length * 8;\n    tmp = tmp.toString(16).match(/(.*?)(.{0,8})$/);\n    lo = parseInt(tmp[2], 16);\n    hi = parseInt(tmp[1], 16) || 0;\n    tail[14] = lo;\n    tail[15] = hi;\n    md5cycle(this._hash, tail);\n  };\n  /**\n   * Performs the md5 hash on a string.\n   * A conversion will be applied if utf8 string is detected.\n   *\n   * @param {String}  str The string\n   * @param {Boolean} [raw] True to get the raw string, false to get the hex string\n   *\n   * @return {String} The result\n   */\n\n\n  SparkMD5.hash = function (str, raw) {\n    // Converts the string to utf8 bytes if necessary\n    // Then compute it using the binary function\n    return SparkMD5.hashBinary(toUtf8(str), raw);\n  };\n  /**\n   * Performs the md5 hash on a binary string.\n   *\n   * @param {String}  content The binary string\n   * @param {Boolean} [raw]     True to get the raw string, false to get the hex string\n   *\n   * @return {String} The result\n   */\n\n\n  SparkMD5.hashBinary = function (content, raw) {\n    var hash = md51(content),\n        ret = hex(hash);\n    return raw ? hexToBinaryString(ret) : ret;\n  }; // ---------------------------------------------------\n\n  /**\n   * SparkMD5 OOP implementation for array buffers.\n   *\n   * Use this class to perform an incremental md5 ONLY for array buffers.\n   */\n\n\n  SparkMD5.ArrayBuffer = function () {\n    // call reset to init the instance\n    this.reset();\n  };\n  /**\n   * Appends an array buffer.\n   *\n   * @param {ArrayBuffer} arr The array to be appended\n   *\n   * @return {SparkMD5.ArrayBuffer} The instance itself\n   */\n\n\n  SparkMD5.ArrayBuffer.prototype.append = function (arr) {\n    var buff = concatenateArrayBuffers(this._buff.buffer, arr, true),\n        length = buff.length,\n        i;\n    this._length += arr.byteLength;\n\n    for (i = 64; i <= length; i += 64) {\n      md5cycle(this._hash, md5blk_array(buff.subarray(i - 64, i)));\n    }\n\n    this._buff = i - 64 < length ? new Uint8Array(buff.buffer.slice(i - 64)) : new Uint8Array(0);\n    return this;\n  };\n  /**\n   * Finishes the incremental computation, reseting the internal state and\n   * returning the result.\n   *\n   * @param {Boolean} raw True to get the raw string, false to get the hex string\n   *\n   * @return {String} The result\n   */\n\n\n  SparkMD5.ArrayBuffer.prototype.end = function (raw) {\n    var buff = this._buff,\n        length = buff.length,\n        tail = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n        i,\n        ret;\n\n    for (i = 0; i < length; i += 1) {\n      tail[i >> 2] |= buff[i] << (i % 4 << 3);\n    }\n\n    this._finish(tail, length);\n\n    ret = hex(this._hash);\n\n    if (raw) {\n      ret = hexToBinaryString(ret);\n    }\n\n    this.reset();\n    return ret;\n  };\n  /**\n   * Resets the internal state of the computation.\n   *\n   * @return {SparkMD5.ArrayBuffer} The instance itself\n   */\n\n\n  SparkMD5.ArrayBuffer.prototype.reset = function () {\n    this._buff = new Uint8Array(0);\n    this._length = 0;\n    this._hash = [1732584193, -271733879, -1732584194, 271733878];\n    return this;\n  };\n  /**\n   * Gets the internal state of the computation.\n   *\n   * @return {Object} The state\n   */\n\n\n  SparkMD5.ArrayBuffer.prototype.getState = function () {\n    var state = SparkMD5.prototype.getState.call(this); // Convert buffer to a string\n\n    state.buff = arrayBuffer2Utf8Str(state.buff);\n    return state;\n  };\n  /**\n   * Gets the internal state of the computation.\n   *\n   * @param {Object} state The state\n   *\n   * @return {SparkMD5.ArrayBuffer} The instance itself\n   */\n\n\n  SparkMD5.ArrayBuffer.prototype.setState = function (state) {\n    // Convert string to buffer\n    state.buff = utf8Str2ArrayBuffer(state.buff, true);\n    return SparkMD5.prototype.setState.call(this, state);\n  };\n\n  SparkMD5.ArrayBuffer.prototype.destroy = SparkMD5.prototype.destroy;\n  SparkMD5.ArrayBuffer.prototype._finish = SparkMD5.prototype._finish;\n  /**\n   * Performs the md5 hash on an array buffer.\n   *\n   * @param {ArrayBuffer} arr The array buffer\n   * @param {Boolean}     [raw] True to get the raw string, false to get the hex one\n   *\n   * @return {String} The result\n   */\n\n  SparkMD5.ArrayBuffer.hash = function (arr, raw) {\n    var hash = md51_array(new Uint8Array(arr)),\n        ret = hex(hash);\n    return raw ? hexToBinaryString(ret) : ret;\n  };\n\n  return SparkMD5;\n});"],"sourceRoot":""}